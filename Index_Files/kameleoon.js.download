if (undefined === window.Kameleoon){(function(){!function(e,t){e.kbowser=t()}(this,(function(){return function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=90)}({17:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i=r(18),n=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||""},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||""},e.map=function(e,t){var r,i=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)i.push(t(e[r]));return i},e.find=function(e,t){var r,i;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,i=e.length;r<i;r+=1){var n=e[r];if(t(n,r))return n}},e.assign=function(e){for(var t,r,i=e,n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(s));var o=function(){var e=s[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){i[t]=e[t]}))};for(t=0,r=s.length;t<r;t+=1)o();return e},e}();t.default=n,e.exports=t.default},18:function(e,t,r){"use strict";t.__esModule=!0,t.OS_MAP=t.PLATFORMS_MAP=void 0;t.PLATFORMS_MAP={t:"tablet",m:"mobile",d:"desktop"};t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",Linux:"Linux"}},90:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i,n=(i=r(91))&&i.__esModule?i:{default:i},s=r(18);function a(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function e(){}var t,r,i;return e.parse=function(e){return new n.default(e).getResult()},t=e,i=[],(r=null)&&a(t.prototype,r),i&&a(t,i),e}();t.default=o,e.exports=t.default},91:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i=o(r(92)),n=o(r(93)),s=o(r(94)),a=o(r(17));function o(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UA parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(n.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(s.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},e}();t.default=u,e.exports=t.default},92:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i,n=(i=r(17))&&i.__esModule?i:{default:i};var s=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},r=n.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},r=n.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},r=n.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},r=n.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},r=n.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},r=n.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},r=n.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=n.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},r=n.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},r=n.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},r=n.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},r=n.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},r=n.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},r=n.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},r=n.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},r=n.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},r=n.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},r=n.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},r=n.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},r=n.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},r=n.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},r=n.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},r=n.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},r=n.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},r=n.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:"Android Browser"},r=n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},r=n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:n.default.getFirstMatch(t,e),version:n.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i,n=(i=r(17))&&i.__esModule?i:{default:i},s=r(18);var a=[{test:[/windows phone/i],describe:function(e){return{name:s.OS_MAP.WindowsPhone}}},{test:[/windows /i],describe:function(e){return{name:s.OS_MAP.Windows}}},{test:[/Macintosh(.*?) FxiOS(.*?) Version\//],describe:function(e){var t=n.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return{name:s.OS_MAP.iOS,version:t}}},{test:[/macintosh/i],describe:function(e){var t=n.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,".");return{name:s.OS_MAP.MacOS,version:t}}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=n.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:s.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){return{name:s.OS_MAP.Android}}},{test:[/linux/i],describe:function(){return{name:s.OS_MAP.Linux}}}];t.default=a,e.exports=t.default},94:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i,n=(i=r(17))&&i.__esModule?i:{default:i},s=r(18);var a=[{test:[/googlebot/i],describe:function(){return{type:"bot"}}},{test:[/huawei/i],describe:function(e){return{type:s.PLATFORMS_MAP.m}}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:s.PLATFORMS_MAP.t}}},{test:[/ipad/i],describe:function(){return{type:s.PLATFORMS_MAP.t}}},{test:[/Macintosh(.*?) FxiOS(.*?) Version\//],describe:function(){return{type:s.PLATFORMS_MAP.t}}},{test:[/kftt build/i],describe:function(){return{type:s.PLATFORMS_MAP.t}}},{test:[/silk/i],describe:function(){return{type:s.PLATFORMS_MAP.t}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:s.PLATFORMS_MAP.t}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){return{type:s.PLATFORMS_MAP.m}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:s.PLATFORMS_MAP.m}}},{test:[/[^-]mobi/i],describe:function(){return{type:s.PLATFORMS_MAP.m}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.m}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.m}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:s.PLATFORMS_MAP.m}}},{test:function(e){return"android"===e.getOSName(!0)&&Number(String(e.getOSVersion()).split(".")[0])>=3},describe:function(){return{type:s.PLATFORMS_MAP.t}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.m}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.d}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.d}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.d}}}];t.default=a,e.exports=t.default}})}));class APIConfiguration{constructor(e){this.generationTime=e.scriptProduceTime;this.goals=e.goals.map((e=>new APIGoal(e)));this.singlePageSupport=Kameleoon.Internals.runtime?Kameleoon.Internals.runtime.singlePageSupport:e.singlePageSupport;this.siteCode=e.siteCode}}class APIAction{constructor(i,t){const e=0===t;const a=Kameleoon.Internals.runtime.Visitor.currentVisit;const n=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer",e?"experimentsTriggered":"personalizationsTriggered",{});this.dateLaunched=i.dateStatusModified;this.dateModified=i.dateModified;this.id=i.id;this.name=i.name;this.targetSegment=new APISegment(i.targetingSegment);this.active=i.targeting&&!i.disabled&&i.displayedVariation&&null!=i.displayedVariation.id;this.triggered=i.targeting||!1;this.goals=Kameleoon.Internals.configuration.goals.filter((t=>-1!=(i.goals||[]).indexOf(t.id))).map((i=>new APIGoal(i)));this.untrackedTrafficReallocationTime=i.untrackedRespoolTime||null;this.triggeredInVisit=n[this.id]?!0:!1;const o=i=>Kameleoon.Internals.runtime.variations.filter((t=>t.id==i))[0];if(e){this.mainGoal=i.kameleoonTracking&&i.kameleoonTracking.mainGoalId?new APIGoal(Kameleoon.Internals.configuration.goals.filter((t=>t.id==i.kameleoonTracking.mainGoalId))[0]):null;let t=o(i.registeredVariationId);this.associatedVariation=t?new APIVariation(t,i):null;this.trafficDeviation={};this.variations=[];this.redirectProcessed=i.redirectProcessed||!1;for(let t in i.deviation){this.trafficDeviation[t]=100*i.deviation[t];this.variations.push(new APIVariation(o(parseInt(t)),i))}this.activatedInVisit=a.ExperimentActivations[this.id]?!0:!1}else{this.mainGoal=new APIGoal(Kameleoon.Internals.configuration.goals.filter((t=>t.id==i.mainGoalId))[0]);this.associatedVariation=new APIVariation(o(i.associatedVariation.id),i);this.activatedInVisit=this.triggeredInVisit&&a.PersonalizationActivations[this.id]?!0:!1}}}class APIActionActivation{constructor(i,t,n){const a=0===i;const o=Kameleoon.Internals.runtime.Campaigns.obtainCampaign(t,a);const s=a?"ExperimentActivations":"PersonalizationActivations";const e=n[s][t].associatedVariationID;const c=Kameleoon.Internals.configuration.variations.filter((i=>i.id==e))[0];if(a){this.experimentID=t;this.experiment=o?new APIAction(o,0):null}else{this.personalizationID=t;this.personalization=o?new APIAction(o,1):null}this.times=n[s][t].times;this.associatedVariationID=e;this.associatedVariation=c?new APIVariation(c,o):null}}class APIActions{constructor(e){const i=0===e;const t=()=>{if(Kameleoon.Internals.runtime)return Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList(e);else return[]};const n=i=>new APIAction(i,e);this.getAll=()=>t().map(n);this.getActive=()=>t().filter((e=>(!0===e.targeting||e.trackingPerformed)&&1!=e.disabled&&e.displayedVariation&&null!=e.displayedVariation.id)).map(n);this.getTriggeredInVisit=()=>t().map(n).filter((e=>e.triggeredInVisit));this.getActivatedInVisit=()=>t().map(n).filter((e=>e.activatedInVisit));const a=(e,i)=>{const a=t().filter((t=>t[e]==i))[0];if(a)return n(a);return null};this.getById=e=>a("id",e);this.getByName=e=>a("name",e);if(i){this.assignVariation=(e,i,n)=>{const a=t().filter((i=>i.id==e))[0];if(a)if(void 0===a.registeredVariationId||n){a.registeredVariationId=i;a.assignmentTime=(new Date).getTime();a.writeLocalData()}};this.block=(e,t=!1)=>{const n=Kameleoon.Internals.runtime.Campaigns.obtainCampaign(e,i);if(n){if(t){const i=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","blockedExperiments",[]);i.push(e);Kameleoon.Internals.runtime.storedData.saveField("Runtime","blockedExperiments",i)}n.setBlocked("API")}};this.trigger=(e,t)=>{const n=Kameleoon.Internals.runtime.Campaigns.obtainCampaign(e,i);if(n)if(t){if(n){n.performVariationAssignment(!0);Kameleoon.Analyst.Actions.performActionsTracking([n])}}else{n.trigger();Kameleoon.Analyst.Actions.process([n])}};this.triggerExperiment=(e,i)=>{this.trigger(e,i);}}else{this.block=(e,t=!1)=>{};this.disable=e=>{};this.trigger=(e,t)=>{}}}}class APIGoal{constructor(t){if(t){this.id=t.id;this.name=t.name;this.type=t.type}}}class APISegment{constructor(i){if(i){this.id=i.id;this.name=i.name}}}class APITemplate{constructor(s,t){this.name=s;this.customFields=t}}class APIVariation{constructor(e,t={}){if(e){this.id=e.id;this.name=e.name;if(t.experimentAction){const i=t.variations.filter((t=>t.id==e.id))[0];this.reallocationTime=i?i.respoolTime:null}else this.reallocationTime=null;this.instantiatedTemplate=e.widgetTemplateInputData?new APITemplate(e.widgetTemplateName,e.widgetTemplateInputData):null}}}class APIVisit{constructor(t){this.pageViews=t.obtainPageNumberViews();this.duration=t.lastActivityDate-t.startDate;this.locale=Kameleoon.Utils.getLocale();this.startDate=t.startDate;this.index=t.visitNumber;this.currentProduct=null;this.products=[];this.clicks=t.clicks||0;this.pageURLsVisited=t.pageURLsVisited;this.activatedSegments=t.activatedSegments;this.lastActivityDate=t.lastActivityDate;this.activatedExperiments=Object.keys(t.ExperimentActivations).map((e=>new APIActionActivation(0,parseInt(e),t)));this.activatedPersonalizations=Object.keys(t.PersonalizationActivations).map((e=>new APIActionActivation(1,parseInt(e),t)));if(t==Kameleoon.Internals.runtime.Visitor.currentVisit){this.device=new Device;this.geolocation=t.Geolocation;}this.conversions=Kameleoon.Utils.clone(t.conversions);this.customData={};const e=Kameleoon.Internals.runtime.Gatherer.configuration.customData;for(const i in t.customData){const a=e[i];if(null!=a)this.customData[a.name]=Kameleoon.Gatherer.CustomData.obtainParsedValue(i,t.customData[i])}let i="<OTHER / UNKNOWN>";let a=[];let n=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","firstReferrersIndices",[]);for(let t=0,e=n.length;t<e;t++){let e=n[t];let s;if(0==e)s="<RESTART>";else{let t=Kameleoon.Internals.runtime.Gatherer.configuration.referrers[e-1];s=null==t?i:t.name}a.push(s)}this.acquisitionChannel=a[0];this.landingPageURL=t.landingPageURL;this.weather=t.Weather}}class APIVisitor{constructor(){this.getCustomDataVisitor=()=>{const t={};const i=Kameleoon.Internals.runtime.Visitor.customData;const s=Kameleoon.Internals.runtime.Gatherer.configuration.customData;for(const e in i)if(s[e])t[s[e].name]=Kameleoon.Gatherer.CustomData.obtainParsedValue(e,i[e]);return t};this.setVisitorCode=t=>{Kameleoon.Internals.runtime.Visitor.setVisitorCode(t)};const{Visitor:t,personalizationsActive:i,Consent:s}=Kameleoon.Internals.runtime;this.numberOfVisits=t.totalVisits;this.timeStartedEldestVisit=t.timeStartedEldestVisit;this.customData=this.getCustomDataVisitor();this.personalizationsActive=i;this.code=t.currentVisit.visitorCode;this.currentVisit=new APIVisit(t.currentVisit);this.visits=t.visits.map((t=>new APIVisit(t)));this.previousVisit=t.visits.length>1?new APIVisit(t.visits.slice(-2)[0]):null;this.experimentLegalConsent=s.AB_TESTING;this.personalizationLegalConsent=s.PERSONALIZATION;this.productRecommendationLegalConsent=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","productRecommendation")?!0:!1;this.firstVisitStartDate=t.timeStartedEldestVisit}}class Analyst{constructor(){this.initialize=e=>{this.isTimeout=!1;if(window.kameleoonDisplayPage){if(null==Kameleoon.Internals.configuration.behaviorWhenTimeout||document.getElementById("kameleoonLoadingStyleSheet"))window.clearTimeout(window.kameleoonDisplayPageTimeOut);else if(null==window.kameleoonEndLoadTime)this.isTimeout=!0;try{window.kameleoonDisplayPage(!0)}catch(e){}window.kameleoonDisplayPage=null}window.kameleoonEndLoadTime=(new Date).getTime();e()};this.load=()=>{Kameleoon.Utils.sendKameleoonCustomEvent("Internals",{type:"load",time:(new Date).getTime()});Kameleoon.Utils.runProtectedFunction((function(){if(window.kameleoonQueue)window.kameleoonQueue=new CommandQueue(window.kameleoonQueue,"IMMEDIATE");window.addEventListener("error",(e=>{if(e.error&&e.error.stack&&e.error.stack.match(/kameleoon/gi)){Kameleoon.Utils.Logger.send(e.error.stack,"kameleoon.js");return!1}}));Kameleoon.Analyst.initialize((()=>{const e=Kameleoon.Analyst.checkBlockingElements();const o=window.kameleoonEndLoadTime-(window.kameleoonStartLoadTime||window.kameleoonEndLoadTime)-25;let n=!1;Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"Loaded",{timeout:"TIMEOUT"==e,loadTime:o});if(Kameleoon.Internals.runtime){n=!0;Kameleoon.Internals.runtime.clear()}if(0==e.length){Kameleoon.Internals.runtime=new Runtime(n);Kameleoon.Analyst.loadKameleoonFull((()=>{Kameleoon.Internals.runtime.run()}))}else{Kameleoon.Utils.sendKameleoonCustomEvent("Internals",{type:"abort",blockingReason:e});Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"Aborted",{reason:e})}}))}))};this.loadKameleoonFull=(e,o)=>{if(!Kameleoon.Internals.runtime.kameleoonFull&&(this.kameleoonFullNeeded()||o)){const o="kameleoonFullApplicationCode";const n=o=>{Kameleoon.Utils.runProtectedScript(o+"\n;"+"("+e.toString()+")()","kameleoonFull.js")};const a=sessionStorage.getItem(o);if(null!=a)n(a);else{const{STATIC_HOST_NAME:e,DOMAIN:a}=Kameleoon.Internals.configuration;Kameleoon.Utils.performBeaconServerCall("https://"+e+"."+a+"/kameleoon-full.js?cache="+Kameleoon.Utils.obtainRandomString(16),(e=>{if(void 0===e.readyState||4==e.readyState&&200==e.status){sessionStorage.setItem(o,e.responseText);n(e.responseText)}}))}}else e()};this.Actions=new Actions;this.Goals=new Goals}checkBlockingElements(){let e=!1;try{const o="kameleoonPrivateMode";if(window.localStorage||window.sessionStorage){localStorage.getItem(o);sessionStorage.getItem(o)}else e=!0}catch(o){e=!0}if(e)return"STORAGE";if(this.isTimeout){return"TIMEOUT"}document.removeEventListener("visibilitychange",Kameleoon.Analyst.load);if("prerender"==document.visibilityState){document.addEventListener("visibilitychange",Kameleoon.Analyst.load);return"PRERENDER"}if(-1!=location.href.indexOf("kameleoonDisabled"))return"PARAMETER";return""}kameleoonFullNeeded(){const{parameters:e,simulationMode:o}=Kameleoon.Internals.runtime;if(sessionStorage.getItem("kameleoonFullApplicationCode")||sessionStorage.getItem("kameleoonLightExtension")||e.kameleoon||e.kameleoonVariationId||e["kameleoon-simulation"]||e.kameleoonLightExtension||o||Kameleoon.Utils.readLocalData("kameleoonSimulationParameters","COOKIE"))return!0;return!1}loadSimulation(e){if(!Kameleoon.Internals.runtime.parameters.kameleoonVariationId)Object.keys(localStorage).forEach((e=>{if(-1!==e.indexOf("kameleoonVariation-"))localStorage.removeItem(e)}))}loadVariationFromServer(e,o){}processSimulations(){}}Analyst.CODE_ALPHABET="abcdefghijklmnopqrstuvwxyz0123456789";Analyst.HEXADECIMAL_ALPHABET="0123456789ABCDEF";class API{constructor(){this.Core={enableLegalConsent:function(e="BOTH"){Kameleoon.Internals.runtime.Consent.enable(e)},disableLegalConsent:function(e="BOTH"){Kameleoon.Internals.runtime.Consent.disable(e)},enableSinglePageSupport:function(){Kameleoon.Internals.runtime.enableSinglePageSupport.apply(Kameleoon.Internals.runtime,arguments)},enableDynamicRefresh:function(){Kameleoon.Internals.runtime.enableDynamicRefresh.apply(Kameleoon.Internals.runtime,arguments)},getConfiguration:()=>new APIConfiguration(Kameleoon.Internals.configuration),load:function(){Kameleoon.Analyst.load.apply(Kameleoon.Analyst,arguments)},processRedirect:function(){Kameleoon.Utils.processRedirect.apply(Kameleoon.Utils,arguments)},runWhenConditionTrue:(e,n,t=200)=>{if(e())Kameleoon.Utils.runProtectedFunction(n,!0);else{const o=Kameleoon.Utils.setTimeout((()=>{Kameleoon.Utils.clearTimeout(o);this.Core.runWhenConditionTrue.apply(Kameleoon,[e,n,t])}),t,!0)}},runWhenElementPresent:(e,n,t,o)=>{const a=null==t;const r=Kameleoon.Utils.querySelectorAll(e);const i=n;if(o)n=n=>{KMutationObserver.setMutationObserverSPA();const t=`data-kameleoon-dynamic-class-${Kameleoon.Utils.obtainRandomString(4)}`;const o=e=>{e.forEach((e=>e.setAttribute(t,"true")))};o(n);i(n);Kameleoon.Internals.runtime.waitingDynamicElements.push({selector:e,attribute:t,callback:e=>{o(e);i(e)}})};if(!Kameleoon.Internals.runtime.querySelectorAllHasError)if(0<r.length)Kameleoon.Utils.runProtectedFunction((()=>{n(r)}),!0);else if(Kameleoon.Internals.runtime.cantUseMutationObserver||!a){const n=Kameleoon.Utils.setTimeout((()=>{Kameleoon.Utils.clearTimeout(n);this.Core.runWhenElementPresent.apply(Kameleoon,[e,i,t||200,o])}),t||200,!0)}else{Kameleoon.Internals.runtime.waitingElementPresentObjects.push({selector:e,callback:n,useAntiFlicker:a})}},runWhenShadowRootElementPresent:(e,n,t,o)=>{this.Core.runWhenElementPresent(e,(a=>{const r=a.filter((e=>e.shadowRoot));if(0===r.length){const a=Kameleoon.Utils.setTimeout((()=>{Kameleoon.Utils.clearInterval(a);this.Core.runWhenShadowRootElementPresent.apply(Kameleoon,[e,n,t,o])}),150);return}const i=`data-kameleoon-shadow-class-${Kameleoon.Utils.obtainRandomString(4)}`;const l=()=>{let e=[];r.forEach((t=>{if(t.shadowRoot)e=e.concat(Kameleoon.Utils.querySelectorAll(n,t.shadowRoot))}));if(o)e=e.filter((e=>!e.getAttribute(i))).map((e=>{e.setAttribute(i,"true");return e}));return e};const s=l();if(s.length)t(s);if(!s.length||o){const e=Kameleoon.Utils.setInterval((()=>{const n=l();if(n.length){t(n);!o&&Kameleoon.Utils.clearInterval(e)}}),150)}}))}};this.Goals={cancelConversion:(e,n)=>{try{this.Goals.processConversions(e,n,!0)}catch(e){}},processConversion:(e,n,t)=>{try{this.Goals.processConversions(e,n,!1,t)}catch(e){}},processConversions:(e,n,t,o)=>{for(let a=0;a<Kameleoon.Internals.runtime.goals.length;a++){const r=Kameleoon.Internals.runtime.goals[a];if(e==r.id||e==r.name){Kameleoon.Analyst.Goals.processConversions([{goal:r,revenue:n,negative:t,metadata:o}]);break}}}};this.Data={readLocalData:e=>Kameleoon.Internals.runtime.storedData.Vars[e]?Kameleoon.Internals.runtime.storedData.Vars[e].value:null,resetCustomData:e=>{this.Data.setCustomData(e,[],!0)},retrieveDataFromRemoteSource:(e,n)=>{const t={siteCode:Kameleoon.Internals.configuration.siteCode};let o="map";if(e instanceof Array){o="maps";t.keys=encodeURIComponent(JSON.stringify(e))}else t.key=encodeURIComponent(e.toString());Kameleoon.Utils.performBeaconServerCall(Kameleoon.Utils.addParameterToURL(`${Kameleoon.Internals.runtime.DATA_URL}/map/${o}`,Kameleoon.Utils.parseObjectToUrlParams(t),!1),(e=>{if(4==e.readyState){let t={};if(200==e.status)t=JSON.parse(e.responseText);n&&n(t)}}),null)},setCustomData:(e,n,t=!1)=>{if(Kameleoon.Internals.runtime&&Kameleoon.Internals.runtime.gathererRun){let o=null;for(const n in Kameleoon.Internals.runtime.Gatherer.configuration.customData){const t=Kameleoon.Internals.runtime.Gatherer.configuration.customData[n];if(null!=t&&t.name==e){o=parseInt(n);break}}if(null!=o)Kameleoon.Gatherer.CustomData.register(o,{value:n,overwrite:t})}},writeLocalData:(e,n,t)=>{Kameleoon.Internals.runtime.storedData.Vars[e]={value:n,date:(new Date).getTime()+24*60*60*1e3*(t?30:1/24)}},performRemoteSynchronization:(e,n,t)=>{}};this.Events={triggered:[],trigger:e=>{this.Core.runWhenConditionTrue((()=>!0===Kameleoon.Internals.runtime.setupAfterLocalDataRetrieval),(()=>{this.Events.triggered.push(e);if(Kameleoon.Analyst.Actions)Kameleoon.Analyst.Actions.processAllActions();if(Kameleoon.Targeting)Kameleoon.Targeting.processAllTargetingSegments();}),100)}};this.Tracking={processOmniture:e=>{Kameleoon.Tracking.processOmniture&&Kameleoon.Tracking.processOmniture(e)}};this.Experiments=new APIActions(0);this.Personalizations=new APIActions(1);this.Segments={getAll:()=>Kameleoon.Internals.runtime.targetingSegments.map((e=>new APISegment(e))),getById:e=>{const n=Kameleoon.Internals.runtime.targetingSegments.filter((n=>n.id==e))[0];return n?new APISegment(n):null},getByName:e=>{const n=Kameleoon.Internals.runtime.targetingSegments.filter((n=>n.name==e))[0];return n?new APISegment(n):null},reevaluate:e=>{let n=-1;const t=Kameleoon.Internals.runtime.targetingSegments||[];for(let o=0;o<t.length;o++){const a=t[o];if(a.id==e){n=o;break}}if(n>-1){let t;if(Kameleoon.Internals.runtime.simulationMode)t=Kameleoon.Internals.runtime.simulationModeData.targetingSegments.filter((n=>n.id==e))[0];else t=Kameleoon.Internals.configuration.targetingSegments.filter((n=>n.id==e))[0];if(t){Kameleoon.Internals.runtime.targetingSegments.splice(n,1);const o=Kameleoon.Utils.clone(t);Kameleoon.Internals.runtime.targetingSegments.push(o);Kameleoon.Targeting.checkTargetingSegmentsTargeting([o]);Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList(0).concat(Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList(1)).forEach((n=>{n.setTargetingSegment(e);if(n.targetingSegmentId==e)n.forceTargeting=!1}));Kameleoon.Analyst.Actions.processAllActions();return o.targeting}}return;},trigger:e=>{const n=Kameleoon.Internals.runtime.targetingSegments.filter((n=>n.id==e));if(n.length>0){n[0].targeting=!0;Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList("experiments").concat(Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList("personalizations")).forEach((n=>{if(n.targetingSegmentId==e){n.targeting=void 0;n.rescheduleTargeting=!0;n.forceTargeting=!0}}));Kameleoon.Analyst.Actions.processAllActions();Kameleoon.Targeting.processTargetingSegments(n)}}};this.Variations={execute:e=>{let n=Kameleoon.Internals.runtime.variations.filter((n=>n.id==e))[0];if(n){n=new Variation(n);Kameleoon.Utils.addCSSStyleSheet(n.cssCode);return n.applyJavascriptCode(!0)}return null}};this.Utils={addEventListener:function(e,n,t,o){Kameleoon.Utils.addEventListener(e,n,t,o,!0)},addUniversalClickListener:function(e,n,t){const o=Kameleoon.Internals.runtime.mouseDownEvent;this.addEventListener(e,o,(function(e){if(!Kameleoon.Internals.runtime.touchMoveEvent&&("mousedown"==o||!e.target||!e.target.closest||!e.target.closest("[disabled]")))n&&n(e)}))},clearInterval:function(){Kameleoon.Utils.clearInterval.apply(Kameleoon.Utils,arguments)},clearTimeout:function(){Kameleoon.Utils.clearTimeout.apply(Kameleoon.Utils,arguments)},createHash:function(e){return Kameleoon.Utils.computeStringHash.apply(Kameleoon.Utils,arguments)},getURLParameters:function(){return Kameleoon.Utils.parseParameters.apply(Kameleoon.Utils,arguments)},performRequest:(e,n,t,o=5e3)=>Kameleoon.Utils.performBeaconServerCall(e,n,t,o),querySelectorAll:function(e){return Kameleoon.Utils.querySelectorAll.apply(Kameleoon.Utils,arguments)},setInterval:(e,n=200)=>Kameleoon.Utils.setInterval(e,n,!1,!0),setTimeout:(e,n=200)=>Kameleoon.Utils.setTimeout(e,n,!0)};Object.defineProperty(this.Utils,"mouseDownEvent",{enumerable:!0,get:function(){return Kameleoon.Internals.runtime.mouseDownEvent}});Object.defineProperty(this.Utils,"touchMoveEvent",{enumerable:!0,get:function(){return Kameleoon.Internals.runtime.touchMoveEvent}});Object.defineProperty(this,"Visitor",{enumerable:!0,get:function(){try{if(!Kameleoon.Internals.runtime)return{setVisitorCode:e=>{Kameleoon.Internals.configuration.predefinedVisitorCode=e}};else return new APIVisitor}catch(e){return null}}});Object.defineProperty(this,"CurrentVisit",{enumerable:!0,get:function(){try{return new APIVisit(Kameleoon.Internals.runtime.Visitor.currentVisit)}catch(e){return null}}})}}class ElementSet{constructor(){this.appendEmptyElement=e=>{if(Kameleoon.Internals.runtime.singlePageSupport&&!e.querySelector("span.kameleoonDomOperation")){let t=document.createElement("span");t.className="kameleoonDomOperation";t.style.display="none";t.style.opacity="0";t.style.width="0";t.style.height="0";e.appendChild(t)}};this.pageElementSets=[];this.pageElementSetsIds={};this.pageElementSetsSpa=[];this.pageElementSetsSpaIds={};window.kameleoonVirtualRootElement=document.createElement("div")}addDuplicatedData(e,t,o){if(!e||!Kameleoon.Internals.runtime.singlePageSupport)return;if(null!=o&&e.getAttribute){const t=e.getAttribute("data-kameleoon-class")||"";if(-1==t.toString().indexOf(o))e.setAttribute("data-kameleoon-class",(t.length>0?t+" ":"")+o)}if(null!=t)e.setAttribute("data-kameleoon-id",t.toString())}addRelativePositionToReferenceElement(e){if("absolute"!=Kameleoon.Utils.obtainComputedStyle(e).position&&document.body!=e)this.setStyle(e,"position","relative",!1)}addClassName(e,t){e.className+=(e.className?" ":"")+t}changeHTMLContent(e,t,o,l,n){o=this.replaceImagePlaceholder(o);let a=e.element;let i,s,r;let m="input"==a.nodeName.toLowerCase()&&("button"==a.getAttribute("type")||"submit"==a.getAttribute("type")||"text"==a.getAttribute("type"));if(m)i=a.value;else{i=[];let e=a.childNodes;for(r=0;r<e.length;++r)i.push(e[r])}s=m?a.value:a.innerHTML;this.saveElementOriginalData(a);if(void 0===a.kameleoonData.originalData.storedContent){a.kameleoonData.originalData.storedContent=i;a.kameleoonData.originalData.contentType=m?"VALUE":"CHILD_NODES"}if(s!=o)if(l)e.element=this.replaceHTMLContent(a,t,o,e.options);else if(m)a.value=o;else{for(r=0;r<i.length;++r)a.removeChild(i[r]);a.innerHTML=o}return!0;}checkElementIsInDocument(e,t){let o=null,l=document;if(t.context){o=Kameleoon.Utils.querySelectorAll(t.context);if(o[0])l=o[0].contentWindow.document}while(e&&e!=l.documentElement&&e!=window.kameleoonVirtualRootElement)if(e.parentNode)e=e.parentNode;else return!1;return e==l.documentElement?!0:"VIRTUAL"}checkClassName(e,t){return-1!=(" "+e.className+" ").indexOf(" "+t+" ")}checkElementLoaded(e){if(!e||!e.parentNode)return!1;return e.nextSibling?!0:this.checkElementLoaded(e.parentNode)}obtainDepth(e){let t=0;while(null!==e.parentNode){++t;e=e.parentNode}return t}obtainElements(e,t,o,l,n){let a,i,s=[];for(let r=0,m=e.length;r<m;++r){if(null===e[r])continue;let m=e[r].selector;let d=e[r].currentQuery;let u=e[r].options;let c=null,f=document;if(u.context){c=Kameleoon.Utils.querySelectorAll(u.context);if(!c[0])continue;c=c[0].contentWindow.document;f=c;if(l)Kameleoon.Utils.addCSSStyleSheet(l.css,l.action,c)}if(!c&&n)c=n;if(u.scopeURL&&!new RegExp(u.scopeURL).test(window.location.href))a=[];else if(u.customSelector||u.autoGeneratedSelector||u.contentSelector){a=Kameleoon.Utils.querySelectorAll(m,c);if(0==a.length&&d&&d!=m)a=Kameleoon.Utils.querySelectorAll(d,c);if(u.kameleoonClass)for(let e=0,t=a.length;e<t;++e)if(0==this.checkClassName(a[e],"KameleoonClass"+u.kameleoonClass)){this.saveElementOriginalData(a[e],u.domOperation);this.addClassName(a[e],"KameleoonClass"+u.kameleoonClass);Kameleoon.ElementSet.addDuplicatedData(a[e],null,u.kameleoonClass)}if(u.kameleoonId)for(let e=0,t=a.length;e<t;++e){this.saveElementOriginalData(a[e],u.domOperation);a[e].id="kameleoonId"+u.kameleoonId;Kameleoon.ElementSet.addDuplicatedData(a[e],u.kameleoonId,null)}if(0==a.length){if(u.kameleoonId){let e=document.getElementById("kameleoonId"+u.kameleoonId);a=e?[e]:[]}if(u.kameleoonClass)a=Kameleoon.Utils.querySelectorAll(".KameleoonClass"+u.kameleoonClass,null)}if(0==a.length)a=Kameleoon.Utils.querySelectorAll(m,window.kameleoonVirtualRootElement)}else switch(m.charAt(0)){case"#":let t=m.substr(1);if(Kameleoon.Internals.runtime.singlePageSupport)a=[f.querySelector(m)];else a=[f.getElementById(m.substr(1))];if(!a[0]){let o;if(e[r].element)o=e[r].element;else if(0==t.indexOf("kameleoonElement"))if(u.domOperation){let t=Kameleoon.Utils.querySelectorAll(u.domReference,c)[0];if(!t&&u.domReferenceCurrentQuery)t=Kameleoon.Utils.querySelectorAll(u.domReferenceCurrentQuery,c)[0];if(t){o=f.createElement("div");window.kameleoonVirtualRootElement.appendChild(o);e[r].element=o}else e[r].evaluated=!1;}else if(f.body){o=f.createElement("div");f.body.appendChild(o)}else e[r].evaluated=!1;if(o){o.id=t;Kameleoon.ElementSet.addDuplicatedData(o,t,null);Kameleoon.Internals.runtime.addedIDs["#"+t]=!0;a=[o]}else a=[]}break;default:a=Kameleoon.Utils.querySelectorAll(m,c);break}let p=!1;i=[];for(let l=0,n=a.length;l<n;++l)if(!a[l].getAttribute("kameleoon")){if(e[r].overwrited)e[r].overwrited=!1;if(!t||void 0===u.htmlContent||this.checkElementLoaded(a[l])){if(u.userPosition&&u.userPosition.referenceElement&&!Kameleoon.Utils.querySelectorAll(u.userPosition.referenceElement)[0])continue;if(u.domOperation){let e=Kameleoon.Utils.querySelectorAll(u.domReference,c)[0];if(!e&&u.domReferenceCurrentQuery)e=Kameleoon.Utils.querySelectorAll(u.domReferenceCurrentQuery,c)[0];this.saveElementOriginalData(a[l]);a[l].kameleoonData.domTargetElement=e;if(t||o){if(!this.checkElementLoaded(a[l])&&0!=u.selector.indexOf("#kameleoonElement")||!this.checkElementLoaded(a[l].kameleoonData.domTargetElement))continue;p=!0}}i.push({element:a[l],options:Kameleoon.Utils.clone(u)})}}else if(!e[r].overwrited){i.push({element:a[l],options:Kameleoon.Utils.clone(u)});e[r].overwrited=!0}e[r].removeSelector=p||o&&0<a.length&&null!=u.autoGeneratedSelector;s=s.concat(i)}return s}performHTMLReplacements(e,t,o,l,n){let a=null;let i=!0;while(i){a=this.obtainElements(e,t,o,l,n);if(0==a.length)break;a=a.sort(((e,t)=>{let o=this.obtainDepth(e.element),l=this.obtainDepth(t.element);return o<l?-1:o>l?1:0}));a=this.removeDuplicates(a);i=!1;for(let t=0,o=a.length;t<o;++t){let o=a[t].options;if(o.htmlContent)i=this.changeHTMLContent(a[t],e,o.htmlContent,!1,!0)||i;if(o.replaceHtmlContent)i=this.changeHTMLContent(a[t],e,o.replaceHtmlContent,!0,!0)||i;if(i)i=!1}}for(let t=0,o=e.length;t<o;++t)if(e[t]&&e[t].removeSelector)e[t]=null;return a}powerElement(e,t,o){if(!t.dataset||!t.dataset.kameleoonEvaluated||e.overwrited||Kameleoon.Internals.runtime.editorMode||Kameleoon.Internals.runtime.kameleoonSelectionIframeMode){if(!t||Kameleoon.Internals.configuration.specifyElements&&-1==t.className.indexOf("Kameleoon"))return;if(t.dataset)t.dataset.kameleoonEvaluated=!0;this.saveElementOriginalData(t);t.kameleoonData.powered=!0;t.setAttribute("kameleoon","active");if(o.domOperation){let l=t.kameleoonData.domTargetElement;if(!l){let e=null;if(o.context){e=Kameleoon.Utils.querySelectorAll(o.context);e=e[0]?e[0].contentWindow.document:null}l=Kameleoon.Utils.querySelectorAll(o.domReference,e)[0];if(!l&&o.domReferenceCurrentQuery)l=Kameleoon.Utils.querySelectorAll(o.domReferenceCurrentQuery,e)[0]}this.processDomOperation(e,t,l,o.domOperation)}if(o.attributesData)this.processAttributesData(t,o.attributesData);if(o.kameleoonId&&(!t.id||0===t.getAttribute("id").indexOf("kameleoonId")||0===t.getAttribute("id").indexOf("kameleoonElement"))){t.id="kameleoonId"+o.kameleoonId;Kameleoon.ElementSet.addDuplicatedData(t,o.kameleoonId,null)}if(o.kameleoonClass&&0==this.checkClassName(t,"KameleoonClass"+o.kameleoonClass)){this.addClassName(t,"KameleoonClass"+o.kameleoonClass);Kameleoon.ElementSet.addDuplicatedData(t,null,o.kameleoonClass)}this.processUserPosition(t,t,o.userPosition,"inline"!=Kameleoon.Utils.obtainComputedStyle(t).display);this.setupNoLinkPropagation(o,t);this.processSpecialCases(t);this.processLinks(t,o.href)}}powerElements(e,t){for(let o=0,l=t.length;o<l;++o)this.powerElement(e,t[o].element,t[o].options)}processAttributesData(e,t){let o=JSON.parse(t);for(let t=0;t<o.length;++t){let l=o[t];if(l.removed)e.removeAttribute(l.attributeName);else e.setAttribute(l.attributeName,l.attributeValue)}}processDomOperation(e,t,o,l){if(!o){if(t.dataset)t.dataset.kameleoonEvaluated=!1;e.evaluated=!1;return}let n=t.parentNode;let a=o.parentNode;let i=t.nextSibling;while(a){if(a==t)return;a=a.parentNode}a=o.parentNode;try{if(n)n.removeChild(t);switch(l){case"SWAP":Kameleoon.ElementSet.appendEmptyElement(t);this.saveElementOriginalData(o);a.insertBefore(t,o);a.removeChild(o);if(i)try{n.insertBefore(o,i)}catch(e){n=t.parentNode;i=t.nextSibling;n.insertBefore(o,i)}else n.appendChild(o);if("left"==Kameleoon.Utils.obtainComputedStyle(t)["float"]&&"right"==Kameleoon.Utils.obtainComputedStyle(o)["float"]){t.style["float"]="right";o.style["float"]="left"}else if("right"==Kameleoon.Utils.obtainComputedStyle(t)["float"]&&"left"==Kameleoon.Utils.obtainComputedStyle(o)["float"]){t.style["float"]="left";o.style["float"]="right"}t.kameleoonData.swapTargetElement=o;break;case"INSERT_BEFORE":Kameleoon.ElementSet.appendEmptyElement(t);a.insertBefore(t,o);break;case"INSERT_AFTER":Kameleoon.ElementSet.appendEmptyElement(t);if(o.nextSibling)a.insertBefore(t,o.nextSibling);else a.appendChild(t);break;case"INSERT_AS_CHILD":Kameleoon.ElementSet.appendEmptyElement(t);if(0==o.childNodes.length)o.appendChild(t);else o.insertBefore(t,o.firstChild);break}}catch(e){}}processElementSet(e,t,o,l,n,a){if(!e.id)e.id=Math.floor(999999*Math.random());let i=null;let s=[];if(!this.pageElementSetsIds[e.id.toString()]){this.pageElementSetsIds[e.id.toString()]=!0;this.pageElementSets.push(e)}i=this.performHTMLReplacements([e],o,l,t,a);if((Kameleoon.Internals.runtime.singlePageSupport||Kameleoon.Internals.runtime.dynamicRefresh)&&!this.pageElementSetsSpaIds[e.id.toString()]){this.pageElementSetsSpaIds[e.id.toString()]=!0;this.pageElementSetsSpa.push({elementSet:e,potentialElementsWithOptions:i})}if(n)window.editor.services.EngineService.getInstance().refreshCustomizableElements();for(let e=0,t=i.length;e<t;++e){if(o&&i[e].options.userPosition&&"RELATIVE"!=i[e].options.userPosition.positionMode)continue;s.push(i[e])}this.powerElements(e,s);if(0===s.length&&!e.overwrited)e.evaluated=!1;return s?s.length>0:!1}processLinks(e,t){if(!t)return;if("a"==e.nodeName.toLowerCase())e.href=t;else{Kameleoon.Utils.addEventListener(e,"click",(function(){window.location.href=t}));e.style.cursor="pointer"}}processSpecialCases(e){if("body"==e.nodeName.toLowerCase()&&-1!=Kameleoon.Utils.obtainComputedStyle(e).background.indexOf("linear-gradient")){e.style.backgroundRepeat="no-repeat";if(window.innerHeight-document.documentElement.scrollHeight>0)e.style.backgroundAttachment="fixed"}}processUserPosition(e,t,o,l){if(o){switch(o.positionMode){case"ABSOLUTE_KEEP_SPACE":case"ABSOLUTE":if(l){let l="ABSOLUTE_KEEP_SPACE"==o.positionMode?e.kameleoonData.originalData.originalNode.offsetWidth:e.offsetWidth;if(l)this.setStyle(t,"width",l+"px","th"!=t.nodeName.toLowerCase()&&"td"!=t.nodeName.toLowerCase())}let n=null;let a=!1;if(o.referenceElement){n=Kameleoon.Utils.querySelectorAll(o.referenceElement)[0];a=!0}if(!n)n=document.body;if(n&&t.parentNode!=n){t.parentNode.removeChild(t);n.appendChild(t);if(!t.kameleoonData)t.kameleoonData={};t.kameleoonData.moved=!0}this.setStyle(t,"position","absolute",!1);let i=Kameleoon.Utils.obtainComputedStyle(t).left.replace("px","");let s=(parseInt(i)||0)/o.referenceWidth;this.setStyle(t,"left",Math.round(s*n.offsetWidth)+"px",!0);if(a)this.addRelativePositionToReferenceElement(n);break;case"RELATIVE":this.setStyle(t,"position","",!1);break}this.setStyle(t,"top","",!1);this.setStyle(t,"left","",!1);this.setStyle(t,"right","",!1);this.setStyle(t,"bottom","",!1);if(!l)this.setStyle(t,"width","",!1);this.setStyle(t,"height","",!1)}}removeDuplicates(e){let t=[];for(let o=0,l=e.length;o<l;++o)if(void 0==e[o].element.kameleoonUnique){e[o].element.kameleoonUnique=t.length;if(e[o].options.kameleoonClass)e[o].options.kameleoonClass=[e[o].options.kameleoonClass];t.push(e[o])}else{let l=e[o].element.kameleoonUnique;for(let n in e[o].options)if("kameleoonClass"==n){if(!t[l].options[n])t[l].options[n]=[];t[l].options[n].push(e[o].options[n])}else t[l].options[n]=e[o].options[n]}for(let e=0,o=t.length;e<o;++e)if(void 0!==t[e].element.kameleoonUnique){t[e].element.kameleoonUnique=void 0;t[e].element.removeAttribute("kameleoonUnique")}return t}replaceHTMLContent(e,t,o,l){o=this.replaceImagePlaceholder(o);let n=this.checkElementIsInDocument(e,l);if(0==o.indexOf("kameleoonInputImage:")){this.saveElementOriginalData(e);e.kameleoonData.originalData.imgSrc=e.src;e.src=o.replace("kameleoonInputImage:","");return e}let a=document.createElement(n?e.parentNode.nodeName.toLowerCase():"div");a.innerHTML=o;let i=null;if(0===o.search(/<td>|<tr>/)){let e=document.createElement("table");e.innerHTML=o;a.innerHTML="";a.appendChild(e)}while(a.childNodes.length>0){let o=a.childNodes[0];o.kameleoonData=e.kameleoonData;o.kameleoonData.originalData.replacedElement=e;if(!i){if(3==o.nodeType)return!1;i=o;o.id=e.id;if("copyAttributes"==i.getAttribute("kameleoon")){for(let t=0,o=e.attributes.length;t<o;++t){if("srcset"==e.attributes[t].name){if(i.getAttribute("src"))i.setAttribute("srcset",i.getAttribute("src"));continue}if("src"!=e.attributes[t].name)i.setAttribute(e.attributes[t].name,e.attributes[t].value)}i.removeAttribute("kameleoon")}let t=e.className.match(/(KameleoonClass[^\s]*)/);if(t)o.className+=(o.className?" ":"")+t[1];if(l.kameleoonId){o.id="kameleoonId"+l.kameleoonId;Kameleoon.ElementSet.addDuplicatedData(o,l.kameleoonId,null)}if(l.kameleoonClass&&0==this.checkClassName(o,"KameleoonClass"+l.kameleoonClass)){this.addClassName(o,"KameleoonClass"+l.kameleoonClass);Kameleoon.ElementSet.addDuplicatedData(o,null,l.kameleoonClass)}}if(n)e.parentNode.insertBefore(o,e);if(!0!==n)for(let l=0,n=t.length;l<n;++l)if(e==t[l].element)t[l].element=o;if(!1===n){e=o;o.parentNode.removeChild(o)}}if(n)e.parentNode.removeChild(e);return i}replaceImagePlaceholder(e){return e.replace(/STATIC_IMAGE_PATH/g,Kameleoon.Internals.configuration.IMAGE_PATH)}reserveSpaceForElement(e){}saveElementOriginalData(e,t){if(!e||e.kameleoonData&&e.kameleoonData.originalData)return;if(!e.kameleoonData)e.kameleoonData={};e.kameleoonData.originalData={};e.kameleoonData.originalData.attributesData={};if(e.parentNode)e.kameleoonData.originalData.parentNode=e.parentNode;if(e.nextSibling){e.kameleoonData.originalData.nextSibling=e.nextSibling;if(3===e.nextSibling.nodeType&&e.previousSibling&&3===e.previousSibling.nodeType&&t&&("INSERT_AFTER"===t||"INSERT_BEFORE"===t)){let t=document.createComment("ReplaceHolderComment");let o=e.nextSibling.parentNode.insertBefore(t,e.nextSibling);e.kameleoonData.originalData.placeholderComment=o}}if(e.href)e.kameleoonData.originalData.href=e.getAttribute("href");if(e.nodeValue)e.kameleoonData.originalData.nodeValue=e.nodeValue;if(e.attributes)for(let t=0,o=e.attributes.length;t<o;++t){let o=e.attributes[t];e.kameleoonData.originalData.attributesData[o.nodeName]=o.nodeValue}}setStyle(e,t,o,l){this.saveElementOriginalData(e);let n=e.style.cssText;if(n){n=n.replace(/^\s+|\s+$/g,"");let e=new RegExp("(^|;)(\\s*"+t+"(.*?);)");n=n.replace(e,"$1");if(n){if(n.lastIndexOf(";")<n.length-2)n+=";";if(n.lastIndexOf(" ")!=n.length-1&&o)n+=" "}}else n="";let a=n+(o?t+": "+o+(l?" !important;":";"):"");e.style.cssText=a}setupNoLinkPropagation(e,t){if(e.noLinkPropagation)t.setAttribute("kData","nlp")}}class Gatherer{constructor(){this.MAX_HREF_LENGTH_IN_A_REQUEST=200;this.MAX_PAGE_TITLE_LENGTH_IN_A_REQUEST=200}run(e){let t=Kameleoon.Utils.clone(Kameleoon.Internals.configuration.Gatherer);if("string"==typeof t)t=JSON.parse(Kameleoon.Utils.decodeString(t));Kameleoon.Internals.runtime.Gatherer={configuration:t,active:!0,clicks:0};this.Browser=new Browser(t.browsers);this.CustomData=new CustomData(t.customData);this.KeyPage=new KeyPage(t.keyPages);this.Language=new Language;this.OperatingSystem=new OperatingSystem(t.oss);this.Referrer=new Referrer(t.referrers);this.TimeZone=new TimeZone;Kameleoon.Internals.runtime.storedData.saveField("Gatherer","startsOfVisitForCurrentPage",0);Kameleoon.Internals.runtime.Visitor=new Visitor;e();Kameleoon.Internals.runtime.Visitor.performRemoteVisitorSynchronization();this.track(VisitEvent_Page);this.track(VisitEvent_StaticData);VisitEvent_Activity.initialize();this.CustomData.run();Kameleoon.Internals.runtime.gathererRun=!0}startNewVisit(e,t){Kameleoon.Internals.runtime.Visitor.updateFromStoredData(!0,!0,t);this.track(VisitEvent_Page);this.track(VisitEvent_StaticData);this.CustomData.run();}track(e,t){new VisitEvent(e).track(t)}}class KameleoonEngine{constructor(){this.Analyst=new Analyst;this.API=new API;this.ElementSet=new ElementSet;this.Gatherer=new Gatherer;this.Loader=new Loader;this.Targeting=new Targeting;this.Tracking=new Tracking;this.Utils=new Utils}}class Loader{constructor(){this.enableKameleoonEditorListener=()=>{if(!Kameleoon.Internals.runtime.editorListenerEnabled){Kameleoon.Internals.runtime.editorListenerEnabled=!0;const t=t=>{if(!t)t=window.event;Kameleoon.Loader.listenKeys.call(Kameleoon.Loader,t)};Kameleoon.Utils.addEventListener(document,"keyup",t,!1)}};this.listenKeys=t=>{if(t.shiftKey){if(113==t.keyCode&&Kameleoon.Internals.configuration.webExperimentationSetup){Kameleoon.Internals.runtime.editorMode=!0;Kameleoon.Analyst.loadKameleoonFull((()=>{Kameleoon.Loader.enableKameleoonEditor.apply(Kameleoon.Loader)}),!0)}if(115==t.keyCode&&(Kameleoon.Internals.runtime.simulationMode||Kameleoon.Internals.runtime.parameters.kameleoonVariationSelection))Kameleoon.Analyst.loadKameleoonFull((()=>{Kameleoon.Loader.enableSimulationPanel()}),!0)}};}}class Runtime{constructor(e){this.isReloaded=e;this.DATA_URL=Kameleoon.Internals.configuration.DATA_URL;this.PAGE_LOADED_POLL_DELAY=250;this.PAGE_LOADING_POLL_DELAY=75;this.enableSinglePageSupport=()=>{this.singlePageSupport=!0;this.href=window.location.href;KMutationObserver.setMutationObserverSPA();Kameleoon.Utils.setInterval((()=>{const e=this.href;this.href=window.location.href;if(e!=this.href){Kameleoon.Gatherer.Referrer.update(e);Kameleoon.Analyst.load.apply(this,[])}}),100)};this.enableDynamicRefresh=()=>{this.dynamicRefresh=!0;KMutationObserver.setMutationObserverSPA()};this.executeGlobalScript=()=>{if(!this.editorMode&&!this.kameleoonSelectionIframeMode){if(Kameleoon.Internals.configuration.globalScript&&!this.globalScriptProcessed){Kameleoon.Utils.sendKameleoonCustomEvent("Internals",{type:"globalScript"});this.globalScriptProcessed=!0;Kameleoon.Utils.runProtectedScript(Kameleoon.Internals.configuration.globalScript,"kameleoonGlobalScript.js")}}};this.initializePredefinedVisitorCode=()=>{const{predefinedVisitorCode:e,experiments:t,personalizations:o}=Kameleoon.Internals.configuration;if(e){const n="kameleoonVisitorCode";const i=Kameleoon.Utils.readLocalData(n,"COOKIE")||Kameleoon.Utils.readLocalData(n,"LS");if(i==e)return;const a=this.storedData.Visitor.visits;if(a)a.slice(-1)[0].visitorCode=e;if(this.incomingStoredData)this.incomingStoredData[n]=e;Kameleoon.Utils.saveVisitorCode(e);t.forEach((e=>{Kameleoon.Utils.eraseLocalData("kameleoonExperiment-"+e.id,null,"LS")}));}};this.initializeActions=()=>{if(Kameleoon.Internals.configuration.webExperimentationSetup){this.targetingSegments=Kameleoon.Utils.clone(Kameleoon.Internals.configuration.targetingSegments);this.variations=Kameleoon.Utils.clone(Kameleoon.Internals.configuration.variations);Kameleoon.Internals.configuration.experiments.forEach((e=>{this.Campaigns.addCampaign(new Experiment(e,this.incomingStoredData))}));}};this.initializeActionsAfterGatherer=()=>{};this.initializeIdleTimeListener=()=>{};this.initializeListeners=()=>{Kameleoon.Utils.domReady((()=>{this.domReady=!0;if(!0!==Kameleoon.Internals.configuration.disableEditorLaunchViaKeys)Kameleoon.Loader.enableKameleoonEditorListener();if(this.kameleoonSelectionIframeMode){const e=document.createElement("script");e.setAttribute("type","text/javascript");e.setAttribute("charset","utf-8");e.setAttribute("src","https://back-office-redesign."+Kameleoon.Internals.configuration.DOMAIN+"/get-script?type=selection");this.headNode.appendChild(e)}if(0==window.kameleoonLightIframe&&window.kameleoonIframeURL)if(this.Gatherer.startOfVisit)Kameleoon.Utils.setTimeout((()=>{const e=document.createElement("iframe");e.src=window.kameleoonIframeURL;e.id="kameleoonExternalIframe";e.style.cssFloat="left !important";e.style.opacity="0.0 !important";e.width="0px";e.height="0px";e.onload=()=>{e.parentNode.removeChild(e)};document.head.appendChild(e)}),5e3)}));if("touchend"==this.mouseDownEvent){Kameleoon.Utils.addEventListener(document,"touchmove",(e=>{this.touchMoveEvent=!0}));Kameleoon.Utils.addEventListener(document,"touchstart",(e=>{this.touchMoveEvent=!1}))}if(!this.iframeLocalStorage)window.addEventListener("storage",(e=>{const t=null==e.key?[""]:e.key.split("-");let o=t[0];if(-1!=o.indexOf("kameleoon")){if(window.document.hasFocus())return;let n;try{n=null==e.newValue?null:JSON.parse(e.newValue).value}catch(e){return}if("kameleoonData"===o&&t[1])o+="-"+t[1];const i={};switch(o){case"kameleoonExperiment":i.type=o;const e=t[1];i.experimentId=parseInt(e);let a;if(null==n)a=null;else{const e=n.split("/")[0];a=isNaN(e)?e:parseInt(e)}i.registeredVariationId=a;break;case"kameleoonGlobalPersonalizationExposition":i.type=o;i.active=null==n?null:"true"==n.split("/")[0];break;case this.dataKeyName:case"kameleoonSimulationVisitorData":i.type=o;i.value=null==n?null:n;break;case"kameleoonLegalConsent":i.type=o;i.saveLegalConsent=null==n?null:n;break}if(null!=i.type)Kameleoon.Utils.processStorageData(i)}}),!1);};this.loadExternalRequests=()=>{this.Geolocation="undefined"!=typeof KGeolocation?new KGeolocation:null;this.IP="undefined"!=typeof IP?new IP:null;};this.loadAudienceSegments=()=>{};this.loadProductRecommendation=()=>{};this.processPageLoaded=()=>{Kameleoon.Utils.removeBlockingStyleSheet();for(let e=0,t=this.variations.length;e<t;++e){const t="enginePollerForVariation"+this.variations[e].id;if(this[t]){if(this.cantUseMutationObserver)window.clearInterval(this[t]);this[t]=null}}};this.readFromStorageOrExternal=(e,t)=>{if(this.incomingStoredData)return this.incomingStoredData[e];else return Kameleoon.Utils.readLocalData(e,t,!0)};this.setup=()=>{if(this.parameters.kameleoon)Kameleoon.Utils.domReady((()=>{Kameleoon.Loader.enableKameleoonEditor()}));const e="adBlockerCheck";const t=Kameleoon.Utils.setInterval((()=>{let o=document.getElementById(e);if(null==o&&null!=document.body){o=document.createElement("div");o.id=e;o.className="ad-placement";document.body.appendChild(o)}if(null!=o&&0==o.clientWidth){this.adBlocker=!0;Kameleoon.Utils.clearInterval(t)}}),250);const o=Kameleoon.Utils.setTimeout((()=>{Kameleoon.Utils.clearTimeout(o);const n=document.getElementById(e);if(null!=n)n.parentNode.removeChild(n);if(null==this.adBlocker){Kameleoon.Utils.clearInterval(t);this.adBlocker=!1}else Kameleoon.Gatherer.track(VisitEvent_AdBlocker)}),2e3);Kameleoon.Utils.addEventListener(window,"pageshow",(e=>{if(e.persisted)this.updateAfterPageCached()}));this.Visitor.updateFromStoredData(!1,!1,!1);if(!Kameleoon.Internals.configuration.requestsAfterConsent)this.loadExternalRequests();KMutationObserver.setMutationObserver();Kameleoon.Analyst.loadKameleoonFull((()=>{Kameleoon.Analyst.loadSimulation()}));Kameleoon.Analyst.Actions.processAllActions();Kameleoon.Targeting.processAllTargetingSegments();Kameleoon.Analyst.Goals.checkKameleoonGoals();};this.setupLocalData=e=>{Kameleoon.Utils.addEventListener(window,"message",Kameleoon.Utils.processMessageEvent,!1);if(this.iframeLocalStorage){this.externalIframe=document.getElementById("kameleoonExternalIframe")||window.kameleoonExternalIframe;this.postMessageOrigin=window.kameleoonIframeOrigin||"";this.postMessageCallbacks={};if(null==Kameleoon.Internals.configuration.externalIframeData)Kameleoon.Utils.postMessageToExternalIframe("retrieve",null,null,(t=>{this.incomingStoredData=t;e()}));else{this.incomingStoredData=Kameleoon.Internals.configuration.externalIframeData;e();delete Kameleoon.Internals.configuration.externalIframeData}}else{this.incomingStoredData=null;this.clearOutdatedStorage();e()}};this.updateAfterPageCached=()=>{this.pageCached=!0;if(this.iframeLocalStorage)Kameleoon.Utils.postMessageToExternalIframe("retrieve",null,null,(()=>{}));else{const e=Kameleoon.Utils.readLocalData(this.simulationMode?"kameleoonSimulationVisitorData":this.dataKeyName,"LS",!0);this.storedData.update(e);this.Visitor.updateFromStoredData(!1,!1,!1);Kameleoon.Gatherer.track(VisitEvent_Page)}};this.clearOutdatedStorage=()=>{try{for(let e=0,t=localStorage.length;e<t;e++){const t=localStorage.key(e);if(0===t.indexOf("kameleoon")){const e=JSON.parse(localStorage.getItem(t));if(this.pageStartTime>(e.date||e.expirationDate))localStorage.removeItem(t)}}}catch(e){}};this.getSimulationMode=()=>{const e=this.readFromStorageOrExternal("kameleoonSimulation","LS");return e?!0:!1};this.pageStartTime=(new Date).getTime();this.dataKeyName="kameleoonData";if(Kameleoon.Internals.configuration.useMultipleSiteCodes){this.dataKeyName+="-"+Kameleoon.Internals.configuration.siteCode;Utils.LOCAL_STORAGE_OBFUSCATED_KEYS[this.dataKeyName]=!0}this.Device=new Device;this.deviceType=this.Device.type;this.parameters=Kameleoon.Utils.parseParameters();this.beforeUnloadEvent="Phone"===this.deviceType&&"Safari"===this.Device.browser?"pagehide":"beforeunload";this.headNode=document.getElementsByTagName("head")[0];this.editorMode="true"==this.parameters.kameleoon;this.proxyMode="proxy."+Kameleoon.Internals.configuration.DOMAIN===window.location.hostname;this.disableCache="true"==this.parameters.kameleoonDisableCache||this.parameters.kameleoonVariationId;this.kameleoonSelectionIframeMode="true"==this.parameters.kameleoonSelectionIframeMode;this.iframeLocalStorage=Kameleoon.Internals.configuration.useWideDomainSupport;this.useWideDomainSupport=Kameleoon.Internals.configuration.useWideDomainSupport||null!=window.kameleoonLightIframe;if(0==window.kameleoonLightIframe||null==window.kameleoonLightIframe)this.iframeLocalStorage=!1;this.mouseDownEvent="ontouchend"in document.documentElement?"touchend":"mousedown";this.addedClasses={};this.addedIDs={};this.eventListeners=[];this.listenVariations=[];this.listenSpaCallbacks=[];this.waitingElementPresentObjects=[];this.waitingDynamicElements=[];this.variations=[];this.intervalIds={};this.targetingSegments=[];this.timeoutIds={};this.goals=Kameleoon.Utils.clone(Kameleoon.Internals.configuration.goals);this.cantUseMutationObserver="undefined"==typeof MutationObserver;this.Campaigns=new Campaigns;this.Consent=new Consent;if(e&&Kameleoon.Gatherer.Referrer&&Kameleoon.Gatherer.Referrer.isUpdated)this.prevSpaPage=Kameleoon.Gatherer.Referrer.obtain();this.enableRemoteVisitorSynchronization=Kameleoon.Internals.configuration.enableRemoteVisitorSynchronization&&(!Kameleoon.Internals.configuration.enableRemoteVisitorSynchronizationItpOnly||"Safari"===this.Device.browser);Object.defineProperty(this,"experiments",{get(){return this.Campaigns.obtainCampaignsList(0)}});Object.defineProperty(this,"personalizations",{get(){return this.Campaigns.obtainCampaignsList(1)}})}clear(){this.eventListeners.forEach((e=>{let t;if("window"==e.elementKey||"document"==e.elementKey)t="window"==e.elementKey?window:document;else{t=document.querySelector(`[kameleoonListener-${e.elementKey}=true]`);if(t)t.removeAttribute(`kameleoonListener-${e.elementKey}`)}if(t)t.removeEventListener(e.eventType,e.actionFunction,e.useCapture)}));this.waitingDynamicElements.forEach((e=>{Kameleoon.Utils.querySelectorAll(`[${e.attribute}=true]`).forEach((t=>{t.removeAttribute(e.attribute)}))}));for(const e in this.timeoutIds)Kameleoon.Utils.clearTimeout(parseInt(e));for(const e in this.intervalIds)Kameleoon.Utils.clearInterval(parseInt(e));if(this.RequestManager)this.RequestManager.processRequests();if(this.storedData)this.storedData.save(!0);if(null!=this.mutationObserver)this.mutationObserver.disconnect();if(null!=this.mutationObserverSpa)this.mutationObserverSpa.disconnect();if(Kameleoon.Targeting)Kameleoon.Targeting.segments={};let e=Kameleoon.Utils.querySelectorAll("[id^='kameleoonElement'], [id*='kameleoonScenarioLayerBase'], [id^='kameleoonStyleSheet'], [class*='kameleoonWidget']");for(let t=0;t<e.length;++t)e[t].parentNode.removeChild(e[t]);e=Kameleoon.Utils.querySelectorAll("[id^='kameleoonId'], .kameleoonOverlay");for(let t=0;t<e.length;++t)e[t].removeAttribute("id");e=Kameleoon.Utils.querySelectorAll("[class^='kameleoonClass']");for(let t=0;t<e.length;++t)e[t].removeAttribute("class");if(this.storedData)this.storedData.save(!0);Kameleoon.API.Events.triggered=[]}run(){this.running=!0;Kameleoon.Utils.removeBlockingStyleSheet();this.setupLocalData((()=>{this.simulationMode=this.getSimulationMode();this.storedData=new StoredData(this.incomingStoredData);this.Consent.setup();this.initializePredefinedVisitorCode();this.initializeActions();Kameleoon.Gatherer.run((()=>{this.RequestManager=new RequestManager}));this.initializeActionsAfterGatherer();this.executeGlobalScript();window.kameleoonQueue=new CommandQueue(window.kameleoonQueue);Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"Started",{newVisitorCode:1==this.Visitor.visits.length});this.initializeListeners();this.setup();this.setupAfterLocalDataRetrieval=!0}))}}class Utils{constructor(){this.events=[];this.addParameterToURL=(e,t,n)=>{if(n)return e+(-1==e.indexOf("#")?"#":"&")+t;let a="";if(-1!=e.indexOf("#")){a=e.substr(e.indexOf("#"));e=e.substr(0,e.indexOf("#"))}e+=(-1==e.indexOf("?")?"?":"&")+t+a;return e};this.computeCurrentPageAbsoluteURLNoProxyMode=function(){let e=Kameleoon.Internals.runtime;if(null==e.currentPageAbsoluteURLNoProxyMode){if(e.proxyMode){let t=e.parameters.kameleoonExperimentId||e.parameters["kameleoon-experiment-id"];if(null!=t){let n=e.Campaigns.obtainCampaign(t,!0);if(n)e.currentPageAbsoluteURLNoProxyMode=n.baseURL}}if(null==e.currentPageAbsoluteURLNoProxyMode)e.currentPageAbsoluteURLNoProxyMode=window.location.href}return e.currentPageAbsoluteURLNoProxyMode};this.computeCurrentPageCanonicalURL=()=>{if(null==Kameleoon.Internals.runtime.currentPageCanonicalURL){let e=this.querySelectorAll('link[rel="canonical"]');if(e.length>0)Kameleoon.Internals.runtime.currentPageCanonicalURL=e[0].href}return Kameleoon.Internals.runtime.currentPageCanonicalURL};this.computeCurrentPageCleanRelativeURL=()=>{if(null==Kameleoon.Internals.runtime.currentPageCleanRelativeURL)Kameleoon.Internals.runtime.currentPageCleanRelativeURL=this.computeRelativeURL(this.computeCurrentPageCleanAbsoluteURL());return Kameleoon.Internals.runtime.currentPageCleanRelativeURL};this.computeIfSuffix=(e,t)=>{let n=e.length-t.length;let a=e.lastIndexOf(t,n);return a>=0&&a==n};this.computeRelativeURL=e=>{let t=document.createElement("a");t.href=e;return t.pathname+t.search+t.hash};this.computeStringSha256=e=>{let t=1,n,a=[],o=[];while(++t<18)for(n=t*t;n<312;n+=t)a[n]=1;function r(e,t){return Math.pow(e,1/t)%1*4294967296|0}for(t=1,n=0;t<313;)if(!a[++t]){o[n]=r(t,2);a[n++]=r(t,3)}function l(e,t){return e>>>t|e<<32-t}let i=o.slice(t=0),s=this.encodeUTF8(e),m=[],u=s.length,c=[],d,f,h;for(;t<u;)c[t>>2]|=(255&s.charCodeAt(t))<<8*(3-t++%4);u*=8;c[u>>5]|=128<<24-u%32;c[h=u+64>>5|15]=u;for(t=0;t<h;t+=16){d=i.slice(n=0,8);for(;n<64;d[4]+=f){if(n<16)m[n]=c[n+t];else m[n]=(l(f=m[n-2],17)^l(f,19)^f>>>10)+(0|m[n-7])+(l(f=m[n-15],7)^l(f,18)^f>>>3)+(0|m[n-16]);let e;d.unshift((f=(d.pop()+(l(e=d[4],6)^l(e,11)^l(e,25))+((e&d[5]^~e&d[6])+a[n])|0)+(0|m[n++]))+(l(u=d[0],2)^l(u,13)^l(u,22))+(u&d[1]^d[1]&d[2]^d[2]&u))}for(n=8;n--;)i[n]=d[n]+i[n]}for(s="";n<63;)s+=(i[++n>>3]>>4*(7-n%8)&15).toString(16);return s};this.computeURLNoKameleoonParameters=e=>{let t=!1;for(let n in Kameleoon.Internals.runtime.parameters)if(-1!=n.indexOf("kameleoon")){t=!0;e=e.replace(new RegExp(n+"="+Kameleoon.Internals.runtime.parameters[n]+"&?"),"")}return t?e.replace(/\?$/,""):e};this.computeURLRegExpNoKameleoonParameters=e=>e?e.replace(/(\\\?|&|#)kameleoon[^&#()]*/g,""):null;this.createLocalData=(e,t,n,a,o,r,l,i)=>{const s="COOKIE"!=o;const m=(new Date).getTime();const u=m+24*n*60*60*1e3;if(!i&&!Kameleoon.Internals.runtime.Consent.hasGlobalConsent()){let i=s?"LS":"COOKIE";if(null==Kameleoon.Internals.runtime.localDataMap)Kameleoon.Internals.runtime.localDataMap={};if(null==Kameleoon.Internals.runtime.localDataMap[i])Kameleoon.Internals.runtime.localDataMap[i]={};Kameleoon.Internals.runtime.localDataMap[i][e]={name:e,value:t,days:n,domain:a,forceLocalAccess:o,jsonFormat:r,creationTime:m};if(s)l&&l();return}if(s){const n={value:Utils.LOCAL_STORAGE_OBFUSCATED_KEYS[e]&&this.obfuscateString(JSON.stringify(t))||t,expirationDate:u};if(Kameleoon.Internals.runtime.iframeLocalStorage)this.postMessageToExternalIframe("set",e,n,l);else{try{localStorage.setItem(e,JSON.stringify(n))}catch(e){}l&&l()}}else{let o="";let l=r?JSON.stringify(t):t;if(n)o="; expires="+new Date(u).toUTCString();if("CURRENT_HOST"!=a){a=a||Kameleoon.Internals.configuration.customCookieDomainName||this.obtainCurrentRootDomain();o+="; domain="+a}let i="";document.cookie=e+"="+l+o+"; path=/; SameSite=Lax"+i}};this.decodeString=e=>{let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="";let a,o,r;let l,i,s,m;let u=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(u<e.length){l=t.indexOf(e.charAt(u++));i=t.indexOf(e.charAt(u++));s=t.indexOf(e.charAt(u++));m=t.indexOf(e.charAt(u++));a=l<<2|i>>4;o=(15&i)<<4|s>>2;r=(3&s)<<6|m;n+=String.fromCharCode(a);if(64!=s)n+=String.fromCharCode(o);if(64!=m)n+=String.fromCharCode(r)}n=this.decodeUTF8(n);return n};this.decodeUTF8=e=>{let t="";let n=0;let a=0,o=0,r;while(n<e.length){a=e.charCodeAt(n);if(a<128){t+=String.fromCharCode(a);n++}else if(a>191&&a<224){o=e.charCodeAt(n+1);t+=String.fromCharCode((31&a)<<6|63&o);n+=2}else{o=e.charCodeAt(n+1);r=e.charCodeAt(n+2);t+=String.fromCharCode((15&a)<<12|(63&o)<<6|63&r);n+=3}}return t};this.domReady=e=>{if("complete"==document.readyState||"interactive"==document.readyState)return e();else{let t=!1;this.addEventListener(document,"DOMContentLoaded",(()=>{if(t)return;t=!0;e()}),!1);this.addEventListener(window,"load",(()=>{if(t)return;t=!0;e()}),!1)}};this.encodeString=e=>{let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="";let a,o,r,l,i,s,m;let u=0;e=this.encodeUTF8(e);while(u<e.length){a=e.charCodeAt(u++);o=e.charCodeAt(u++);r=e.charCodeAt(u++);l=a>>2;i=(3&a)<<4|o>>4;s=(15&o)<<2|r>>6;m=63&r;if(isNaN(o))s=m=64;else if(isNaN(r))m=64;n=n+t.charAt(l)+t.charAt(i)+t.charAt(s)+t.charAt(m)}return n};this.encodeUTF8=e=>{e=e.replace(/\r\n/g,"\n");let t="";for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);if(a<128)t+=String.fromCharCode(a);else if(a>127&&a<2048){t+=String.fromCharCode(a>>6|192);t+=String.fromCharCode(63&a|128)}else{t+=String.fromCharCode(a>>12|224);t+=String.fromCharCode(a>>6&63|128);t+=String.fromCharCode(63&a|128)}}return t};this.eraseLocalData=(e,t,n)=>{let a="COOKIE"!=n;let o=Kameleoon.Internals.runtime.localDataMap;let r=a?"LS":"COOKIE";if(null!=o&&null!=o[r]&&null!=o[r][e])delete o[r][e];if(a)if(Kameleoon.Internals.runtime.iframeLocalStorage)this.postMessageToExternalIframe("remove",e,null,null);else localStorage.removeItem(e);else this.createLocalData(e,"",-1,t,"COOKIE",!1,null,!0)};this.forceNoFlicker=e=>{let t=document.createElement("style");t.setAttribute("id","kameleoonPageLoading");t.setAttribute("rel","stylesheet");t.setAttribute("type","text/css");t.setAttribute("media","screen");let n=e+" { visibility: hidden !important; background-image: none !important; }";t.appendChild(document.createTextNode(n));Kameleoon.Internals.runtime.headNode.appendChild(t)};this.getLocale=e=>{let t=Kameleoon.Gatherer.Language.obtainLocaleTag().substring(0,2);if(e&&"fr"!=t)t="en";return t};this.obtainComputedStyle=e=>{if(window.getComputedStyle)return getComputedStyle(e,"");return null};this.obtainCurrentRootDomain=()=>{if(null==Kameleoon.Internals.runtime.currentRootDomain){const e=window.location.hostname.split(".");const t=e.length-1;const n="testRootDomain";const a="_detectRootDomain";let o=e[t];for(let r=t-1;r>=0;r--){o=e[r]+"."+o;this.createLocalData(a,n,1,o,"COOKIE",!1,void 0,!0);const t=this.readLocalData(a,"COOKIE",!1);if(t){this.eraseLocalData(a,o,"COOKIE");Kameleoon.Internals.runtime.currentRootDomain=o;break}}}return Kameleoon.Internals.runtime.currentRootDomain};this.obtainRandomString=(e,t=Analyst.CODE_ALPHABET)=>{let n=t.length;let a="";for(let o=0;o<e;++o){let e=Math.floor(Math.random()*n);a+=t.substring(e,e+1)}return a};this.parseHostName=e=>{let t=document.createElement("a");t.href=e;return t.hostname};this.processRedirect=(e,t)=>{if(window.location.href!=e){t=t||Kameleoon.Analyst.Actions.currentAction;let n=document.createElement("a");n.href=e;if(!Kameleoon.Internals.runtime.useWideDomainSupport&&-1==window.location.href.indexOf(n.protocol+"//"+n.hostname)){if(t)e=this.addParameterToURL(e,"kameleoonRedirect-"+t.id+"="+t.associatedVariation.id,!0)}else if(t)this.createLocalData("kameleoonRedirect-"+t.id,t.associatedVariation.id,1,null,null,!1,null,!0);if(window.location.href!=e){this.forceNoFlicker("*");this.createLocalData("kameleoonReferrer",Kameleoon.Gatherer.Referrer.obtain(),1/24,null,"COOKIE",!1);window.location.replace(e)}}};this.processStorageData=e=>{if(Kameleoon.Internals.runtime.setupAfterLocalDataRetrieval)switch(e.type){case"kameleoonExperiment":const t=Kameleoon.Internals.runtime.Campaigns.obtainCampaign(e.experimentId,!0);if(t)t.registeredVariationId=e.registeredVariationId;break;case"kameleoonGlobalPersonalizationExposition":Kameleoon.Internals.runtime.personalizationsActive=e.active;break;case Kameleoon.Internals.runtime.dataKeyName:case"kameleoonSimulationVisitorData":if(e.type==Kameleoon.Internals.runtime.dataKeyName&&!Kameleoon.Internals.runtime.simulationMode||"kameleoonSimulationVisitorData"==e.type&&Kameleoon.Internals.runtime.simulationMode){if(Kameleoon.Internals.runtime.pageCached)Kameleoon.Internals.runtime.storedData.update(this.readLocalData(e.type,"LS",!0));else Kameleoon.Internals.runtime.storedData.update(JSON.parse(this.unobfuscateString(e.value)));Kameleoon.Internals.runtime.Visitor.updateFromStoredData(!1,!1,!1)}break;case"kameleoonLegalConsent":if(e.saveLegalConsent){let t=e=>e?"enable":"disable";if(null!=e.saveLegalConsent.AB_TESTING){let n=t(e.saveLegalConsent.AB_TESTING);Kameleoon.Internals.runtime.Consent[n]("AB_TESTING",!0)}if(null!=e.saveLegalConsent.PERSONALIZATION){let n=t(e.saveLegalConsent.PERSONALIZATION);Kameleoon.Internals.runtime.Consent[n]("PERSONALIZATION",!0)}}break}};this.querySelectorAll=(e,t)=>{Kameleoon.Internals.runtime.querySelectorAllHasError=!1;let n=!1,a,o=[],r=[];if(null==t)t=document;let l=e.match(/#([0-9]+.*)(?: |$)/);if(l){let t=e.charAt(1);e=e.replace("#"+t,"#\\3"+t+" ")}if(""!==e){if(-1!==e.indexOf("[")&&-1===e.indexOf("']")&&-1===e.indexOf('"]')){let t=e.split(/(?=\.)|(?=#)|(?=\[)/),n,a,o;t.forEach((function(t){if("["===t[0]&&-1===t.indexOf("']")&&-1===e.indexOf('"]')&&-1!==e.indexOf("=")){n=t.split(/=(.+)?/);a=n[1];a=a.substring(0,a.length-1);o=n[0]+"='"+a+"']";e=e.replace(t,o)}}))}if(-1!==e.indexOf(":contains")){n=!0;a=this.treatContainsSelector(e);e=a.newSelector}if(t&&t.querySelectorAll)if(-1!==e.indexOf(":eq"))o=this.treatEqSelector(e,t);else try{o=t.querySelectorAll(e)}catch(e){Kameleoon.Internals.runtime.querySelectorAllHasError=!0;o=[]}for(let e=0,t=o.length;e<t;++e)if(n){if(a.check(a.containText,o[e]))r.push(o[e])}else r.push(o[e])}return r};this.readLocalData=(e,t,n)=>{let a="COOKIE"!=t;let o=(new Date).getTime();try{if(!Kameleoon.Internals.runtime.Consent.hasGlobalConsent()){let t=Kameleoon.Internals.runtime.localDataMap;let n=a?"LS":"COOKIE";if(null!=t&&null!=t[n]&&null!=t[n][e]){let a=t[n][e];if(o-24*a.days*60*60*1e3>=a.creationTime)delete t[n][e];else return a.value}}if(a){let t;t=localStorage&&localStorage.getItem(e);if(!t)return null;t=JSON.parse(t);if(Utils.LOCAL_STORAGE_OBFUSCATED_KEYS[e])t.value=JSON.parse(this.unobfuscateString(t.value));if(o>(t.date||t.expirationDate)){localStorage.removeItem(e);return null}return t.value}else{let t=null;let a=document.cookie.split(";");for(let o=0,r=a.length;o<r;++o){let r=a[o];let l=r.indexOf("=");if(r.substring(0,l).trim()==e){let e=r.substring(l+1);t=n&&JSON.parse(e)||e;break}}return t}}catch(e){}return null};this.runProtectedFunction=(e,t)=>{try{e()}catch(e){if(t)console.log(e);else this.Logger.send(e,"kameleoon.js");if(Kameleoon.Internals.runtime&&t)Kameleoon.Internals.runtime.processPageLoaded()}};this.runProtectedScript=(e,t,n)=>{if(n)return n();if(e){let n=null;try{let a=t?"//# sourceURL="+t:"";n=eval.call(window,"(function () {\n"+e+"\n})();"+a)}catch(e){n=null;console.log(e)}return n}return null};this.saveVisitorCode=(e,t=!0)=>{const n="kameleoonVisitorCode";if(Kameleoon.Internals.configuration.useWideDomainSupport||Kameleoon.Internals.configuration.useVisitorCodeInLocalStorage)this.createLocalData(n,e,Utils.MAX_STORAGE_DAYS,null,"LS");if(t)this.createLocalData(n,e,Utils.MAX_STORAGE_DAYS,null,"COOKIE")};this.seededRandom=(e,t)=>{let n;if(t){n=this.computeStringSha256(e);return parseInt(n,16)/Math.pow(2,256)}n=this.computeStringHash(e);n=(9301*Math.abs(n)+49297)%233280;return n/233280};this.treatEqSelector=(e,t)=>{if(void 0===e)return null;let n=e.split(/\:eq\([0-9]+\)/g);let a=e.match(/(?!\:eq\()[0-9]+/g)||[];let o=null==t?document:t;for(let t=0;t<n.length;++t){n[t]=n[t].trim();if(">"===n[t].charAt(0))n[t]=n[t].substring(1,e.length).trim();if(null==o||""==n[t].trim())break;if(t>a.length-1)o=o.querySelectorAll(n[t]);else o=o.querySelectorAll(n[t])[a[t]]}if(null==o)return[];if(void 0==o.length)o=[o];let r=Kameleoon.Utils.querySelectorAll(e.replace(/\:eq\([0-9]+\)/g,""));let l=[];for(let e=0;e<r.length;++e)for(let t=0;t<o.length;++t)if(r[e]===o[t]){l.push(o[t]);break}return l};this.Logger=new Logger;this.bowser=window.kbowser||window.bowser}addEventListener(e,t,n,a,o){let r;if(e==window)r="window";else if(e==document)r="document";else{r=this.obtainRandomString(4);e.setAttribute(`kameleoonListener-${r}`,!0)}let l=n;if(o)e.addEventListener(t,l,a);else{l=function(e){Kameleoon.Utils.runProtectedFunction((function(){n(e)}))};e.addEventListener(t,l,a)}Kameleoon.Internals.runtime.eventListeners.push({elementKey:r,eventType:t,actionFunction:l,useCapture:a})}addPostMessageCallback(e){let t=Math.random().toString();Kameleoon.Internals.runtime.postMessageCallbacks[t]=e;return t}addCSSStyleSheet(e,t,n){if(!e)return;let a=n?n:document;let o="kameleoonStyleSheet"+(t?"-"+t.id:"");let r=n?n.getElementById(o):null;let l="";if(r){l=r.textContent;r.parentNode.removeChild(r)}let i=a.createElement("style");i.className="KameleoonStyleSheet";i.setAttribute("id",o);i.setAttribute("rel","stylesheet");i.setAttribute("type","text/css");i.setAttribute("media","screen");let s=l+e;if(i.styleSheet)i.styleSheet.cssText=s;else i.appendChild(document.createTextNode(s));if(n)a.getElementsByTagName("head")[0].appendChild(i,a.getElementsByTagName("head")[0].firstChild);else Kameleoon.Internals.runtime.headNode.appendChild(i);if(t)t.loadedCSSStyleSheet=i}addCallbackToObserver(e){KMutationObserver.setMutationObserverSPA();Kameleoon.Internals.runtime.listenSpaCallbacks.push(e)}applyVariation(e){new Variation(e).process()}clearInterval(e){delete Kameleoon.Internals.runtime.intervalIds[e];window.clearInterval(e)}clearTimeout(e){delete Kameleoon.Internals.runtime.timeoutIds[e];window.clearTimeout(e)}clone(e){return JSON.parse(JSON.stringify(e))}computeCurrentPageCleanAbsoluteURL(){if(null==Kameleoon.Internals.runtime.currentPageCleanAbsoluteURL){Kameleoon.Internals.runtime.currentPageCleanAbsoluteURL=this.computeURLNoKameleoonParameters(this.computeCurrentPageAbsoluteURLNoProxyMode());try{Kameleoon.Internals.runtime.currentPageCleanAbsoluteURL=decodeURIComponent(Kameleoon.Internals.runtime.currentPageCleanAbsoluteURL)}catch(e){}}return Kameleoon.Internals.runtime.currentPageCleanAbsoluteURL}computeStringHash(e,t){e=t?this.computeStringSha256(e):e;let n=0;for(let t=0;t<e.length;++t){n=(n<<5)-n+e.charCodeAt(t);n&=n}return n}secureSessionStorage(e,t,n){try{return window.sessionStorage[e](t,n)}catch(e){return null}}flatten(...e){let t=[];for(let e=0;e<arguments.length;e++)if(arguments[e]instanceof Array)t.push.apply(t,this.flatten.apply(this,arguments[e]));else t.push(arguments[e]);return t}obfuscateString(e){let t="";for(let n=0,a=e.length;n<a;n+=1){let a=e[n];if("’"==a)a="'";t+=String.fromCharCode(a.charCodeAt(0)+16)}return t}parseParameters(){let e={};let t=window.location.hash.substring(1).replace(/\?/g,"&");let n=window.location.search.substring(1);if(n||t){let a=(n?n.split("&"):[]).concat(t?t.split("&"):[]);a.forEach((t=>{let n=t.split("=");try{e[decodeURIComponent(n[0])]=n[1]?decodeURIComponent(n[1]):null}catch(t){e[unescape(n[0])]=n[1]?unescape(n[1]):null}}))}return e}performBeaconServerCall(e,t,n,a){let o=new XMLHttpRequest;o.open("GET",e,!0);if(t)o.onreadystatechange=function(e){t.bind(o)(e.target)};if(n){o.onerror=function(e){n.bind(o)(e.target)};o.ontimeout=function(e){n.bind(o)(e.target)}}o.timeout=a||15*60*1e3;o.send()}postMessageToExternalIframe(e,t,n,a){const o=JSON.stringify({type:e,key:t||void 0,data:null!=n?n:void 0,callbackId:this.addPostMessageCallback(a)});if(!Kameleoon.Internals.runtime.externalIframe||!Kameleoon.Internals.runtime.externalIframe.contentWindow){if(window.kameleoonIframeURL){let e=document.createElement("iframe");e.src=window.kameleoonIframeURL;e.id="kameleoonExternalIframe";e.style.cssFloat="left !important";e.style.height="0px !important";e.style.opacity="0.0 !important";e.style.width="0px !important";e.onload=()=>{Kameleoon.Internals.runtime.externalIframe=e;Kameleoon.Internals.runtime.externalIframe.contentWindow.postMessage("kameleoon"+o,"*")};document.head.appendChild(e)}}else Kameleoon.Internals.runtime.externalIframe.contentWindow.postMessage("kameleoon"+o,"*")}processMessageEvent(e){if("string"!==typeof e.data)return;if("obtainTagCommanderVariableNames"==e.data){let t=[];if(window.tc_vars)for(let e in window.tc_vars)t.push(e);if(!(e.source instanceof MessagePort)&&!(e.source instanceof ServiceWorker))e.source.postMessage("tagCommanderVariableNames"+JSON.stringify(t),e.origin);return}if(0==e.data.indexOf("checkKameleoonScriptPresent")){if("https://back-office."+Kameleoon.Internals.configuration.DOMAIN==e.origin){let t="";let n=e.data.replace("checkKameleoonScriptPresent","");this.runProtectedScript(n);if(!(e.source instanceof MessagePort)&&!(e.source instanceof ServiceWorker))e.source.postMessage(t,e.origin)}return}if(Kameleoon.Internals.runtime.iframeLocalStorage&&Kameleoon.Internals.runtime.postMessageOrigin==e.origin)try{let t=JSON.parse(e.data);if(t.kameleoonMessage){if(t.callbackId){let e=Kameleoon.Internals.runtime.postMessageCallbacks[t.callbackId];delete Kameleoon.Internals.runtime.postMessageCallbacks[t.callbackId];e&&e(t.data)}if(null!=t.type)this.processStorageData(t)}}catch(e){}}removeBlockingStyleSheet(){let e=document.getElementById("kameleoonPageLoading");if(e&&e.parentNode)e.parentNode.removeChild(e)}removeCSSStyleSheet(e){if(e.loadedCSSStyleSheet){const t="kameleoonStyleSheet-";const n=e.loadedCSSStyleSheet.id.replace(t,"");if(-1==n.indexOf(",")){Kameleoon.Internals.runtime.headNode.removeChild(e.loadedCSSStyleSheet);e.loadedCSSStyleSheet=null}else e.loadedCSSStyleSheet.id=t+n.replace(new RegExp(e.id+",?"),"")}}sendKameleoonCustomEvent(e,t,n){try{let a=document.createEvent("CustomEvent");t.time=(new Date).getTime();a.initCustomEvent("Kameleoon::"+e,!1,!1,t);window.dispatchEvent(a);if(sessionStorage.getItem("kameleoonLightExtension")||Kameleoon.Internals.runtime.parameters.kameleoonLightExtension){t.type=n?n:t.type;window.kameleoonEvents=window.kameleoonEvents||[];window.kameleoonEvents.push(t)}}catch(e){}}setInterval(e,t,n,a){let o=window.setInterval((function(){Kameleoon.Utils.runProtectedFunction((function(){e()}),a)}),t);Kameleoon.Internals.runtime.intervalIds[o]=!0;if(n)e();return o}setTimeout(e,t,n){let a=window.setTimeout((function(){Kameleoon.Utils.runProtectedFunction((function(){e()}),n)}),t);Kameleoon.Internals.runtime.timeoutIds[a]=!0;return a}testEmptyMap(e){return 0==Object.keys(e).length}parseObjectToUrlParams(e){return Object.entries(e).map((e=>e[0]+"="+e[1])).join("&")}treatContainsSelector(e){let t={},n;function a(e,t){let n=!1;if(t.textContent&&-1!==t.textContent.indexOf(e))n=!0;return n}n=e.match(/:contains\(['"]([\s\S]+)['"]\)/);t.containText=n[1];t.newSelector=e.replace(n[0],"");if(""===t.newSelector)t.newSelector="*";t.check=a;return t}unobfuscateString(e){let t="";for(let n=0,a=e.length;n<a;n+=1)t+=String.fromCharCode(e[n].charCodeAt(0)-16);return t}}Utils.LOCAL_STORAGE_OBFUSCATED_KEYS={kameleoonData:!0,kameleoonSimulationVisitorData:!0};Utils.MAX_STORAGE_DAYS=365;class Browser{constructor(e){this.browsers=e}obtain(){let e=Kameleoon.Internals.runtime.Device.browser;if("Internet Explorer"==e||"Microsoft Edge"==e)e="Explorer";return e}obtainIndex(){let e=this.obtain()||"";let r=e.toUpperCase();for(let e in this.browsers)if(this.browsers[e].name.toUpperCase()==r)return parseInt(e);return null}}class CustomData{constructor(t){this.CUSTOM_DATA_CUTOFF=3*1e3;this.CUSTOM_DATA_INTERVAL=3*1e3;this.CUSTOM_DATA_RETRY_DELAY_BEFORE_CUT_OFF=100;this.MAX_INTERVAL_API_VISIT_REQUEST=15*60*1e3;this.MAX_NUMBER_REQUESTS_TO_API_VISIT=3;this.inheritVisitorScopeAndTrackVisitorDataFromServer=()=>{if(Kameleoon.Internals.runtime.Visitor.visits.length>1){const t=Kameleoon.Internals.runtime.Visitor.currentVisit.customData;const e=Kameleoon.Internals.runtime.Visitor.visits[Kameleoon.Internals.runtime.Visitor.visits.length-2].customData;for(const a in this.customData){const i=this.customData[a].scope;if("VISITOR"==i&&null==t[a]){const t=e[a];if(null!=t)this.register(parseInt(a),{value:t,overwrite:!0},!0)}}Kameleoon.Internals.runtime.Visitor.saveToStoredData()}};this.register=(t,e,a)=>{const i=this.customData[t];if(i){let n={};const s=e.value;if(null==s)return;const o=e.overwrite;if(a)n=s;else if(s instanceof Array){for(let t=0,e=s.length;t<e;++t)if(null!=s[t]&&(s[t].toString().length<=VisitEvent_CustomData.MAX_SUM_CUSTOM_DATA_VALUES_LENGTHES_IN_A_REQUEST||i.localOnly))n[s[t]]=1}else if(s.toString().length<=VisitEvent_CustomData.MAX_SUM_CUSTOM_DATA_VALUES_LENGTHES_IN_A_REQUEST||i.localOnly)n[s]=1;const r="LIST"==i.type||"COUNT_LIST"==i.type?o:!0;if(r||!Kameleoon.Utils.testEmptyMap(n)){Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"CustomDataSet",{name:i.name,value:s});Kameleoon.Utils.sendKameleoonCustomEvent("Internals",{type:"customData/set",name:i.name,value:s});Kameleoon.Gatherer.track(VisitEvent_CustomData,{index:t,customData:i,overwrite:r,overwriteDefault:o,valueToAdd:n,value:s})}}};this.customDataVisitsRequest=t=>{};this.run=()=>{Kameleoon.Internals.runtime.Visitor.currentVisit.clearCustomDataPage();Kameleoon.Utils.clearInterval(this.intervalId);if(Kameleoon.Internals.runtime.Gatherer.startOfVisit)this.inheritVisitorScopeAndTrackVisitorDataFromServer();this.firstTimeCheck=(new Date).getTime();this.intervalId=Kameleoon.Utils.setInterval(this.obtain.bind(this),this.CUSTOM_DATA_RETRY_DELAY_BEFORE_CUT_OFF,!0);Kameleoon.Utils.setTimeout((()=>{Kameleoon.Utils.clearInterval(this.intervalId)}),this.CUSTOM_DATA_CUTOFF);Kameleoon.Utils.setInterval(this.obtain.bind(this),this.CUSTOM_DATA_INTERVAL,!1)};this.customData=t}parseNumberValue(t,e){switch(t){case-2:return"true"===e;case-1:return e;default:return parseFloat(e)}}obtainParsedValue(t,e){const a=this.customData[t];switch(a.type){case"COUNT_LIST":const t=[];for(const a in e)t.push({value:a,count:e[a]});return t;case"LIST":const i=[];for(const t in e)i.push(t);return i;default:return this.parseNumberValue(a.format,Object.keys(e)[0])}}obtain(){for(const t in this.customData)if(!this.customData[t].treated){const e=parseInt(t);const a=this.obtainValueMap(e,this.customData[t]);if(a)this.register(e,a)}}obtainValueFromPath(t,e){return t.match(/[^'\]\[\.\"]+/gi).reduce(((t,e)=>t&&t[e]),e)}obtainValueMap(t,e){let a=null;if(null!=e&&!e.disabled)switch(e.method){case"GTM":if(window.dataLayer&&e.variableName)for(let t=window.dataLayer.length-1;t>=0;--t){const i=this.obtainValueFromPath(e.variableName,window.dataLayer[t]);if(null!=i){a={value:i,overwrite:!1};break}}break;case"TC":if(window.tc_vars&&e.variableName){let t=this.obtainValueFromPath(e.variableName,window.tc_vars);if("string"==typeof t&&0==t.length)t=null;if(null!=t){a={value:t,overwrite:!1};break}}break;case"ADOBE_ANALYTICS":if(window._satellite&&window._satellite.getVar&&e.variableName){const t=window._satellite.getVar(e.variableName);if(null!=t){a={value:t,overwrite:!1};break}}break;case"CUSTOM_CODE":a=Kameleoon.Utils.runProtectedScript(e.customEvalCode,"kameleoonCustomDataScript-"+t+".js");break;default:break}if(null!=a){e.treated=!0;const i=Kameleoon.Internals.runtime.Visitor.currentVisit.customData[t];const n=a.value;if(null!=n){const t=e.type;if("LIST"==t||"COUNT_LIST"==t||null==i||Object.keys(i)[0]!=n.toString()||Kameleoon.Internals.configuration.enableHistoryReconciliation&&e.mappingIdentifier&&null==Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","visitsRequestSuccess"))return a}}return null}}class KeyPage{constructor(e){this.keyPages=e}obtainIndexes(){const e=[];if(0==e.length)e.push(null);return e}}class Language{constructor(){this.DEFAULT_LOCALE_LANGUAGE_TAG="en"}obtainLocaleTag(){return navigator&&navigator.language||this.DEFAULT_LOCALE_LANGUAGE_TAG}}class OperatingSystem{constructor(e){this.oss=e}obtainIndex(){const e=this.obtain().toUpperCase();for(const s in this.oss)if(this.oss[s].name.toUpperCase()==e)return parseInt(s);return null}obtain(){const e=(Kameleoon.Utils.bowser.parsedResult||Kameleoon.Utils.bowser.parse(navigator.userAgent)).os.name;switch(e){case"Windows Phone":case"iOS":case"Android":case"Linux":case"Windows":return e;case"macOS":return"Tablet"==Kameleoon.Internals.runtime.Device.type?"iOS":"Mac";default:return"Other"}}}class Referrer{constructor(e){this.referrers=e;this.referrer=Kameleoon.Internals.runtime.prevSpaPage||document.referrer;const t="kameleoonReferrer";const r=Kameleoon.Utils.readLocalData(t,"COOKIE");if(r){this.referrer=r;Kameleoon.Utils.eraseLocalData(t,null,"COOKIE")}}obtainCorrected(e){switch(this.obtainType(e)){case 0:case 1:return null;default:return this.obtain()}}update(e){this.isUpdated=!0;this.referrer=e}obtain(){return this.referrer}obtainDetectionMatches(e){let t=this.obtainDetectionPartMatches(e.method,e.parameters);if(e.and)t=t&&this.obtainDetectionPartMatches(e.andMethod,e.andParameters);return t}obtainDetectionPartMatches(e,t){try{switch(e){case 0:return new RegExp(t).test(this.obtain());case 1:const e=new RegExp(t);return e.test(Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL())||e.test(Kameleoon.Utils.computeCurrentPageCleanRelativeURL());default:return!0===Kameleoon.Utils.runProtectedScript(t)}}catch(e){console.log(e);return!1}}obtainIndexes(e){switch(this.obtainType(e)){case 0:case 1:return[0];default:let e=[];let t=Number.NEGATIVE_INFINITY;for(const r in Kameleoon.Internals.runtime.Gatherer.configuration.referrers){const n=Kameleoon.Internals.runtime.Gatherer.configuration.referrers[r];if(this.obtainMatches(n)){let a=n.priority;if(null==a)a=Number.NEGATIVE_INFINITY;if(a>=t){if(a>t){e=[];t=a}e.push(parseInt(r)+1)}}}if(0==e.length)e.push(null);return e}}obtainIsIgnored(e){return!1}obtainMatches(e){const t=e.detections;for(let e=0;e<t.length;e++)if(this.obtainDetectionMatches(t[e]))return!0;return!1}obtainType(e){if(this.obtainIsIgnored(e))return 0;if(Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","startsOfVisitForCurrentPage")>1)return 1;return 3}}class StoredData{constructor(e){this.Gatherer={};this.Runtime={};this.Vars=Kameleoon.Utils.readLocalData("kameleoonVars","LS")||{};this.Visitor={};this.canSave=!1;if(e){let a="";if(e[Kameleoon.Internals.runtime.dataKeyName]){a=e[Kameleoon.Internals.runtime.dataKeyName];if(e.Kameleoon)Kameleoon.Utils.eraseLocalData("kameleoonData",null,"LS")}else if(e.kameleoonData)a=e.kameleoonData;if(Kameleoon.Internals.runtime.simulationMode)if(e.kameleoonDataSimulation||e.kameleoonSimulationVisitorData)a=e.kameleoonDataSimulation||e.kameleoonSimulationVisitorData;let t=Kameleoon.Utils.unobfuscateString(a);let i=t&&JSON.parse(t)||{};this.Gatherer=i.Gatherer||{};this.Runtime=i.Runtime||{};this.Vars=i.Vars||e.kameleoonVars||{};this.Visitor=i.Visitor||{}}else{let e=Kameleoon.Utils.readLocalData("kameleoonData","LS");if(Kameleoon.Internals.configuration.useMultipleSiteCodes){let a=Kameleoon.Utils.readLocalData(Kameleoon.Internals.runtime.dataKeyName,"LS",!0);if(a)e=a;Kameleoon.Utils.eraseLocalData("kameleoonData",null,"LS")}if(Kameleoon.Internals.runtime.simulationMode){const a=Kameleoon.Utils.readLocalData("kameleoonDataSimulation","LS",!0);const t=Kameleoon.Utils.readLocalData("kameleoonSimulationVisitorData","LS",!0);if(a||t)e=a||t}if(e){this.Gatherer=e.Gatherer||{};this.Runtime=e.Runtime||{};this.Vars=e.Vars||this.Vars||{};this.Visitor=e.Visitor||{}}}Kameleoon.Utils.eraseLocalData("kameleoonVars",null,"LS");for(let e in this.Vars)if(Kameleoon.Internals.runtime.pageStartTime>this.Vars[e].date)delete this.Vars[e];Kameleoon.Utils.setInterval((()=>{if(this.canSave){this.save(!0);this.canSave=!1}}),1e3);Kameleoon.Utils.addEventListener(window,Kameleoon.Internals.runtime.beforeUnloadEvent,(()=>{if(window.self!==window.top){let e=Kameleoon.Utils.readLocalData(Kameleoon.Internals.runtime.simulationMode?"kameleoonSimulationVisitorData":Kameleoon.Internals.runtime.dataKeyName,"LS");if(e&&e.Visitor&&this.Visitor&&this.Visitor.totalVisits<e.Visitor.totalVisits)this.update(e)}this.save(!0)}))}obtainField(e,a,t){return this[e][a]||t||null}resetForStartOfVisit(){this.Runtime={}}saveField(e,a,t){this[e][a]=t;this.save(!1)}save(e){if(e)Kameleoon.Utils.createLocalData(Kameleoon.Internals.runtime.simulationMode?"kameleoonSimulationVisitorData":Kameleoon.Internals.runtime.dataKeyName,this,Kameleoon.Internals.runtime.simulationMode?1/24:Utils.MAX_STORAGE_DAYS,null,"LS",!0);else this.canSave=!0}update(e){this.Gatherer=e.Gatherer||this.Gatherer;this.Runtime=e.Runtime||this.Runtime;this.Vars=e.Vars||this.Vars;this.Visitor=e.Visitor||this.Visitor}}class TimeZone{constructor(){}obtainId(){let t;try{t="undefined"!=typeof Intl&&Intl.DateTimeFormat().resolvedOptions?Intl.DateTimeFormat().resolvedOptions().timeZone:null}catch(e){t=null}return t}}class VisitEvent{constructor(e){this.visitEvent=e}track(e){const t=()=>{const t=new this.visitEvent(e);Kameleoon.Internals.runtime.Visitor.saveToStoredData();if((!e||!e.notTrack&&!t.notTrack)&&Kameleoon.Internals.configuration.track)Kameleoon.Internals.runtime.RequestManager.addRequest(t);Kameleoon.Internals.runtime.storedData.save(this.visitEvent.urgent)};if(!Kameleoon.Internals.runtime.Visitor.currentVisit.isVisitFinished())t();else if(this.visitEvent===VisitEvent_Activity&&Kameleoon.Internals.runtime.Gatherer.active){Kameleoon.Internals.runtime.Visitor=new Visitor;Kameleoon.Gatherer.track(VisitEvent_Page);Kameleoon.Gatherer.track(VisitEvent_StaticData);Kameleoon.Gatherer.CustomData.run();Kameleoon.Internals.runtime.gathererRun=!0;t()}}}class VisitEvent_Main{constructor(t){this.obtainRequestData=()=>{let t="eventType="+this.eventType;for(const e in this){if("function"==typeof this[e]||VisitEvent_Main.NOT_TRACK_FIELD[e])continue;t+=`&${e}=${this.addValueParameter(this[e])}`}return t};this.addValueParameter=t=>{const e=t=>{try{return encodeURIComponent(t)}catch(e){return t}};if("object"==typeof t)return e(JSON.stringify(t));else if("string"==typeof t)return e(t);return t};this.time=(new Date).getTime();this.nonce=Kameleoon.Utils.obtainRandomString(VisitEvent_Main.NONCE_LENGTH,Analyst.HEXADECIMAL_ALPHABET)}}VisitEvent_Main.NONCE_LENGTH=16;VisitEvent_Main.NOT_TRACK_FIELD={eventType:1,time:1,notTrack:1,type:1,urgent:1};class VisitEvent_Activity extends VisitEvent_Main{constructor(){super();this.eventType="activity";this.clicks=Kameleoon.Internals.runtime.Gatherer.clicks;Kameleoon.Internals.runtime.Visitor.currentVisit.addActivity(this.time,Kameleoon.Internals.runtime.Gatherer.active);Kameleoon.Internals.runtime.Visitor.currentVisit.addNumberClicks(this.clicks);Kameleoon.Internals.runtime.Gatherer.active=!1;Kameleoon.Internals.runtime.Gatherer.clicks=0}static initialize(){let e=()=>{Kameleoon.Internals.runtime.Gatherer.active=!0};let t=()=>{e();Kameleoon.Internals.runtime.Gatherer.clicks++};Kameleoon.Utils.addEventListener(document,"mousemove",e,!1);Kameleoon.Utils.addEventListener(document,"scroll",e,!1);Kameleoon.Utils.addEventListener(document,"click",t,!1);Kameleoon.Utils.setInterval((()=>{if(Kameleoon.Internals.runtime.Gatherer.active)Kameleoon.Gatherer.track(this)}),this.ACTIVITY_TRACKING_INTERVAL,!0)}}VisitEvent_Activity.ACTIVITY_TRACKING_INTERVAL=15*1e3;VisitEvent_Activity.urgent=!1;class VisitEvent_AdBlocker extends VisitEvent_Main{constructor(){super();this.eventType="adBlocker";Kameleoon.Internals.runtime.Visitor.currentVisit.addAdBlocker()}}VisitEvent_AdBlocker.urgent=!1;class VisitEvent_Experiment extends VisitEvent_Main{constructor(i){super();this.eventType="experiment";this.id=i.id;this.variationId=i.variationId;this.notTrack=i.notTrack;if(null==this.variationId)this.notTrack=!0;Kameleoon.Internals.runtime.Visitor.currentVisit.addExperiment(this.time,this.id,this.variationId)}}VisitEvent_Experiment.urgent=!0;class VisitEvent_Conversions extends VisitEvent_Main{constructor(e){super();this.eventType="conversion";this.goalId=e.goalId;this.negative=!0===e.negative;let t,i=!1;let n=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","revenuesByGoalId",{});let s=n[this.goalId];if(this.negative)if(s&&s.length>0){t=s.splice(-1)[0];if(0==s.length)delete n[this.goalId]}else i=!0;else{t=e.revenue;if(isNaN(t))t=0;if(!s)s=[];s.push(t);n[this.goalId]=s.splice(-10)}this.revenue=t;if(!i){Kameleoon.Internals.runtime.storedData.saveField("Gatherer","revenuesByGoalId",n);Kameleoon.Internals.runtime.Visitor.currentVisit.addConversions(this.goalId,1,this.revenue,this.negative);}if(e.metadata)this.metadata=e.metadata}}VisitEvent_Conversions.urgent=!0;class VisitEvent_CustomData extends VisitEvent_Main{constructor(t){super();this.eventType="customData";this.index=t.index;this.overwrite=t.overwrite||!1;this.notTrack=t.value.length>VisitEvent_CustomData.MAX_SUM_CUSTOM_DATA_VALUES_LENGTHES_IN_A_REQUEST||t.customData.localOnly;this.valuesCountMap=t.valueToAdd;this.mappingIdentifier=1==t.customData.mappingIdentifier?"true":"false";Kameleoon.Internals.runtime.Visitor.currentVisit.addCustomData(this.index,this.valuesCountMap,this.overwrite);if("PAGE"===t.customData.scope)this.overwrite=t.overwriteDefault||!1}}VisitEvent_CustomData.MAX_SUM_CUSTOM_DATA_VALUES_LENGTHES_IN_A_REQUEST=1e3;VisitEvent_CustomData.urgent=!0;class VisitEvent_Geolocation extends VisitEvent_Main{constructor({city:t,country:i,latitude:o,longitude:e,postalCode:n,region:s}){super();this.eventType="geolocation";this.city=t;this.country=i;this.latitude=o;this.longitude=e;this.postalCode=n;this.region=s;Kameleoon.Internals.runtime.Visitor.currentVisit.addGeolocation({city:t,country:i,latitude:o,longitude:e,postalCode:n,region:s})}}VisitEvent_Geolocation.urgent=!1;class VisitEvent_Page extends VisitEvent_Main{constructor(){super();this.eventType="page";const e=Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL();const r=document.title;const t=Kameleoon.Utils.computeCurrentPageCanonicalURL();const i=Kameleoon.Gatherer.Referrer.obtainCorrected(Kameleoon.Internals.runtime.Gatherer.startOfVisit);this.href=e&&e.slice(0,Kameleoon.Gatherer.MAX_HREF_LENGTH_IN_A_REQUEST);this.title=r.slice(0,Kameleoon.Gatherer.MAX_PAGE_TITLE_LENGTH_IN_A_REQUEST);this.keyPagesIndices=Kameleoon.Gatherer.KeyPage.obtainIndexes();this.referrersIndices=Kameleoon.Gatherer.Referrer.obtainIndexes(Kameleoon.Internals.runtime.Gatherer.startOfVisit);if(t)this.canonicalHref=t;if(null!=i)this.referrerHref=i;if(Kameleoon.Internals.configuration.cleanHrefTracking){if(this.href)this.href=this.href.replace(/(\?|\#)(.*)/gi,"");if(this.referrerHref)this.referrerHref=this.referrerHref.replace(/(\?|\#)(.*)/gi,"")}Kameleoon.Internals.runtime.Visitor.currentVisit.addPage(this.time,e,this.keyPagesIndices,this.referrersIndices);Kameleoon.Internals.runtime.Visitor.currentVisit.addActivity(this.time,!0)}}VisitEvent_Page.urgent=!0;class VisitEvent_StaticData extends VisitEvent_Main{constructor(){super();this.eventType="staticData";this.obtainInfluences=(e,i)=>{let t={experiments:{},personalizations:{}};let n=e=>{for(let i in e)if(e[i][1]<0||"-1"==i||null==e[i][0]||"null"==e[i][0])delete e[i];return e};e.forEach((({ExperimentActivations:e,PersonalizationActivations:n})=>{for(let n in e){let s=e[n];if(s.influence){let e=s.influence-(i-s.times.slice(-1)[0]);t.experiments[n]=[parseInt(s.associatedVariationID),e]}}for(let e in n){let s=n[e];if(s.influence){let n=s.influence-(i-s.times.slice(-1)[0]);t.personalizations[e]=[1,n]}}}));this.experimentInfluences=n(t.experiments);this.personalizationInfluences=n(t.personalizations)};const{Visitor:e,Device:i}=Kameleoon.Internals.runtime;const{Browser:t,OperatingSystem:n,TimeZone:s,Language:o}=Kameleoon.Gatherer;const a=s.obtainId();this.timeSincePreviousVisit=e.obtainTimeSincePreviousVisit();this.browser=t.obtain();this.browserIndex=t.obtainIndex();this.browserVersion=i.browserVersion;this.os=n.obtain();this.osIndex=n.obtainIndex();this.windowWidth=i.windowWidth;this.windowHeight=i.windowHeight;this.screenWidth=i.screenWidth;this.screenHeight=i.screenHeight;this.localeLanguageTag=o.obtainLocaleTag();this.deviceType=i.type.toLocaleUpperCase();this.visitNumber=e.currentVisit.visitNumber;if(null!=a)this.timeZoneId=a;this.obtainInfluences(e.visits,e.currentVisit.startDate)}}VisitEvent_StaticData.urgent=!0;class VisitEvent_TargetingSegments extends VisitEvent_Main{constructor(t){super();this.eventType="targetingSegment";this.id=t.id;Kameleoon.Internals.runtime.Visitor.currentVisit.addTargetingSegment(this.time,this.id)}}VisitEvent_TargetingSegments.urgent=!1;class CommandQueue{constructor(e,s){this.executeCommand=e=>{try{if(e.command)e=e.command;if("function"===typeof e)e();else{const s=e[0];const o=s.split(".");let t;let m;if("Kameleoon"!=o[0]){t=Kameleoon.API;m=Kameleoon.API[o[0]]}else m=Kameleoon.API[o[2]];o.forEach((e=>{if(null==t)t=window[e];else t=t[e]}));t.apply(m,Array.prototype.slice.call(e,1))}}catch(e){console.log(e)}};const o="IMMEDIATE";this.commands=e&&e.forEach?e:[];this.commands.push=e=>{if(s==o)e.level==s?this.executeCommand(e):this.commands.unshift(e);else this.executeCommand(e)};const t=[];if(s==o)for(let e=this.commands.length-1;e>=0;e--){const s=this.commands[e];if(s.level===o){t.push(s);this.commands.splice(e,1)}}else{this.commands.forEach((e=>{t.push(e)}));this.commands.splice(0,this.commands.length)}t.forEach(this.executeCommand);return this.commands}}class Actions{constructor(){this.associateActionAndVariation=(e,n,i)=>{let o=!0;let t=!0;if("REGISTERED_VARIATION"==i)t=!1;if("DISPLAYED_VARIATION"==i)o=!1;if(null===n)e.trackingPerformed=!0;const a=Kameleoon.Internals.runtime.variations.filter((e=>e.id==n))[0];let s="Reference";if(e&&e.variations)e.variations.forEach((function(e,i){if(e.id&&e.name&&e.id==n)s=e.name}));const r=e.associatedVariation;if(e&&r&&n==r.id)s=r.name;if(e&&o)e.associatedVariation={id:n,name:s};if(e&&t&&!e.displayedVariation)e.associationMade=!1;if(a){if(e&&(Kameleoon.Internals.runtime.simulationMode&&-1==e.id||!e.associationMade)){if(o){e.associatedVariation=a;e.associationMade=!0}a.actionId=e.id;if(t)e.displayedVariation=new Variation(a)}}else{e.displayedVariation={id:n,name:s};}}}checkCapping(e,n,i,o,t){if(null!=o.expositionFrequencySameVisit&&Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(n,i,null,t,!0,!1,!1,e)>=o.expositionFrequencySameVisit||null!=o.expositionFrequencySameVisitor&&null!=o.expositionFrequencySameVisitorDelaySeconds&&Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(n,i,t-1e3*o.expositionFrequencySameVisitorDelaySeconds,t,!0,!0,!1,e)>=o.expositionFrequencySameVisitor||o.cappingPerVisitorNumberExpositions&&Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(n,i,null,t,!0,!0,!1,e)>=o.expositionFrequencySameVisitorMax||o.cappingPerVisitorNumberExposedVisits&&Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(n,i,null,null,!0,!0,!0,e)>=o.exposedVisitsSameVisitorMax||o.cappingPerVisitorConvertGoal&&Kameleoon.Internals.runtime.Visitor.obtainNumberConversions(o.cappingPerVisitorGoalId)>0||null!=o.expositionFrequencyDelaySecondsBetweenTwoExpositions&&Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(n,i,t-1e3*o.expositionFrequencyDelaySecondsBetweenTwoExpositions,t,!0,!0,!1,e)>=1)return!1;return!0}checkActionConsent(e){if(e.experimentAction){if(!Kameleoon.Internals.runtime.Consent.AB_TESTING){if(null==Kameleoon.Internals.runtime.Consent.AB_TESTING){if("ALL"==Kameleoon.Internals.configuration.beforeAbtestConsent)return!0;if("PARTIALLY"==Kameleoon.Internals.configuration.beforeAbtestConsent&&e.technical)return!0}else if(e.technical&&"RUN"==Kameleoon.Internals.configuration.abtestConsentOptout)return!0;return!1}}else if(!Kameleoon.Internals.runtime.Consent.PERSONALIZATION){if(null==Kameleoon.Internals.runtime.Consent.PERSONALIZATION){if("ALL"==Kameleoon.Internals.configuration.beforePersonalizationConsent)return!0;if("PARTIALLY"==Kameleoon.Internals.configuration.beforePersonalizationConsent&&e.technical)return!0}else if(e.technical&&"RUN"==Kameleoon.Internals.configuration.personalizationConsentOptout)return!0;return!1}return!0}checkActionsTargeting(e){Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList(1).forEach((e=>{e.previousExposition=e.exposition}));const n=[];for(let i=0,o=e.length;i<o;++i){const o=e[i];if(!this.checkActionConsent(o)||o.blocked||o.featureFlag||null===o.registeredVariationId)continue;if(null==o.numberTargetingCheckings)o.numberTargetingCheckings=0;if(Kameleoon.Targeting.checkIfTargetingMustBeComputed(o.targeting,o.rescheduleTargeting||0==o.numberTargetingCheckings,!o.experimentAction&&"CUMULATIVE_WEIGHT"==o.checkConditionsRule))n.push(o)}e=n;for(let n=0,i=e.length;n<i;++n){const i=e[n];if(!0===i.forceTargeting)i.targeting=!0;else{const e=!i.experimentAction&&"CUMULATIVE_WEIGHT"==i.personalizationCheckConditionsRule;const n=Kameleoon.Targeting.checkTree(i,i.targetingSegment?i.targetingSegment.tree:null,e,i.targetingSegment||null);if(e)switch(i.microtargetingMatchType){case"GREATER":i.targeting=n.weight>(i.cumulativeWeightOfConditions||0);break;case"EQUAL":i.targeting=n.weight==(i.cumulativeWeightOfConditions||0);break;case"LOWER":i.targeting=n.weight<i.cumulativeWeightOfConditions;break}else i.targeting=n.targeting;i.rescheduleTargeting=n.rescheduleTargeting;i.numberTargetingCheckings++}}const i=[];const r=[];for(let n=0,i=e.length;n<i;++n){const i=e[n];if(!1===i.targeting||!i.experimentAction&&!0===i.targeting&&!1===i.exposition){this.associateActionAndVariation(i,0,"DISPLAYED_VARIATION");Kameleoon.Utils.removeCSSStyleSheet(i)}if(Kameleoon.Targeting.checkIfTargetingMustBeComputed(i.targeting,i.rescheduleTargeting,!i.experimentAction&&"CUMULATIVE_WEIGHT"==i.personalizationCheckConditionsRule))r.push(i)}if(r.length>0){const e=Kameleoon.Utils.setTimeout((()=>{Kameleoon.Utils.clearTimeout(e);this.process(r)}),Kameleoon.Internals.runtime.PAGE_LOADING_POLL_DELAY)}if(e.length>0&&Kameleoon.Internals.runtime.targetingsEvent)Kameleoon.Internals.runtime.targetingsEvent.emit(e)}performActionsTracking(e){const n=[];for(let i=0,o=e.length;i<o;++i){const o=e[i];if(o.trackingPerformed||!o.associatedVariation||null==o.associatedVariation.id)continue;n.push(o)}e=n;for(let n=0,i=e.length;n<i;++n){const i=e[n];const o=i.associatedVariation;let t=i.collectingDataDisabled?!1:!0;if(i.experimentAction&&0==i.deviation[o.id])t=!1;if(i.mentalistEnabled)o.name+=" (Predicteo)";if(i.experimentAction)Kameleoon.Gatherer.track(VisitEvent_Experiment,{id:i.id,variationId:o.id,notTrack:!(i.kameleoonTracking&&t)});else Kameleoon.Gatherer.track(VisitEvent_Personalization,{id:i.id,variationId:0==o.id?0:1,notTrack:!(i.kameleoonTracking&&t),originalVariationId:o.id,unexpositionCause:i.notExposedReason});if(t&&(i.experimentAction||i.exposition||!i.exposition&&"PERSONALIZATION_EXCLUSION"==i.notExposedReason)){const e=Kameleoon.Internals.runtime.RequestManager;const n=e.addCallback.bind(e);if(i.clarity)n((()=>Kameleoon.Tracking.processClarity(i)));}i.trackingPerformed=!0}}performDeferredVariations(e,n,i){}process(e,n){const i=(new Date).getTime();this.checkActionsTargeting(e);const o=[];for(let t=0,a=e.length;t<a;++t){const a=e[t];if(a.treated||a.blocked)continue;if(!0===a.targeting){Kameleoon.Internals.runtime.Visitor.currentVisit.addActionTriggered(a.id,a.experimentAction);Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"SegmentTriggered",{segment:{id:a.targetingSegmentId,name:a.targetingSegment?a.targetingSegment.name:null}});if(a.experimentAction){const e=new APIAction(a,0);Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"ExperimentTriggered",{experiment:e},"experiment/triggered");a.performVariationAssignment(!1);if(null!=a.associatedVariation){if(!this.checkCapping(!0,a.id,a.associatedVariation.id,a.associatedVariation,i))a.targeting=!1;if(null===a.associatedVariation.id)a.targeting=!1}}}if(!0===a.targeting){a.treated=!0;this.currentAction=a;if(a.displayedVariation){if(a.experimentAction)if(0!=a.displayedVariation.id&&"reference"!=a.displayedVariation.id||a.executeCodeForReference){if(a.cssCode&&!a.cssCodeEvaluated){a.cssCodeEvaluated=!0;Kameleoon.Utils.addCSSStyleSheet(a.cssCode,a,null)}if(a.javaScriptCode&&!a.javaScriptCodeEvaluated){a.javaScriptCodeEvaluated=!0;Kameleoon.Utils.runProtectedScript(a.javaScriptCode,"kameleoonActionJavaScriptCode-"+a.id+".js")}}if(!n&&a.displayedVariation.process)a.displayedVariation.process();if(a.targeting&&(a.experimentAction||a.exposition)){const e={};if(a.experimentAction)e.experiment=new APIAction(a,0);else e.personalization=new APIAction(a,1);Kameleoon.Utils.sendKameleoonCustomEvent.call(window,a.experimentAction?"ExperimentActivated":"PersonalizationActivated",e,"action/activated")}o.push(a)}}}this.performActionsTracking(o)}processAllActions(){let e=[];e=e.concat(Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList(0));this.process(e);Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList(0).forEach((e=>{e.handleSpecialCase()}));}}class Campaigns{constructor(){this.experiments={};this.personalizations={}}addCampaign(i){if(i.experimentAction)this.experiments[i.id.toString()]=i;else this.personalizations[i.id.toString()]=i}obtainCampaign(i,t){if(null!=i){i=i.toString();if(null!=t){const n=t?"experiments":"personalizations";return this[n][i]}return this.experiments[i]||this.personalizations[i]}}obtainCampaignsList(i){const t="experiments"===i||0===i?"experiments":"personalizations";return Object.values(this[t])}}class Consent{constructor(){this.disable=(e,n)=>{Kameleoon.Utils.sendKameleoonCustomEvent("Internals",{type:"consent/disable",consentType:e});if(e&&"BOTH"!=e)this[e]=!1;else{this.AB_TESTING=!1;this.PERSONALIZATION=!1}if(1!=n)this.write();Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"LegalConsentUpdated",{legalConsentUpdate:this.getConsent()})};this.enable=(e,n)=>{Kameleoon.Utils.sendKameleoonCustomEvent("Internals",{type:"consent/enable",consentType:e});if(e&&"BOTH"!=e)this[e]=!0;else{this.AB_TESTING=!0;this.PERSONALIZATION=!0}if(Kameleoon.Internals.runtime&&Kameleoon.Internals.runtime.RequestManager){Kameleoon.Internals.runtime.RequestManager.processRequests();this.purge()}if(1!=n)this.write();Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"LegalConsentUpdated",{legalConsentUpdate:this.getConsent()})};this.getConfiguredConsent=()=>({AB_TESTING:Kameleoon.Internals.configuration.abtestConsent,PERSONALIZATION:Kameleoon.Internals.configuration.personalizationConsent});this.getConsent=()=>({AB_TESTING:this.AB_TESTING,PERSONALIZATION:this.PERSONALIZATION});this.hasGlobalConsent=()=>{return this.AB_TESTING||this.PERSONALIZATION};this.initialize=e=>{Kameleoon.Utils.sendKameleoonCustomEvent("Internals",{type:"consent/initialize",consent:e});this.AB_TESTING=e.AB_TESTING;this.PERSONALIZATION=e.PERSONALIZATION;this.initializeSdk()};this.initializeSdk=()=>{if(this.AB_TESTING)return;try{const e=localStorage.getItem("kameleoonConsentData");if(e){const n=JSON.parse(e)[Kameleoon.Utils.readLocalData("kameleoonVisitorCode","COOKIE")];if(n)this.AB_TESTING=!0}}catch(e){}};this.purge=()=>{if(Kameleoon.Internals.runtime){const e=e=>{if(null!=e)for(const n in e)Kameleoon.Utils.createLocalData(e[n].name,e[n].value,e[n].days,e[n].domain,e[n].forceLocalAccess,e[n].jsonFormat,null,!0)};e(Kameleoon.Internals.runtime.localDataMap&&Kameleoon.Internals.runtime.localDataMap["LS"]);e(Kameleoon.Internals.runtime.localDataMap&&Kameleoon.Internals.runtime.localDataMap["COOKIE"]);Kameleoon.Internals.runtime.localDataMap=null;Kameleoon.Analyst.Actions.processAllActions();}};this.setup=()=>{let e={AB_TESTING:!1,PERSONALIZATION:!1};const n=Kameleoon.Internals.runtime.readFromStorageOrExternal("kameleoonLegalConsent","LS");if(null!=n)if(1==n)e={AB_TESTING:!0,PERSONALIZATION:!0};else e=n;else{e={AB_TESTING:"OFF"==Kameleoon.Internals.configuration.abtestConsent?!0:null,PERSONALIZATION:"OFF"==Kameleoon.Internals.configuration.personalizationConsent?!0:null};}this.initialize(e)};this.write=()=>{Kameleoon.Utils.createLocalData("kameleoonLegalConsent",this.getConsent(),Utils.MAX_STORAGE_DAYS,null,"LS",!0,null,!0)};this.AB_TESTING=!1;this.PERSONALIZATION=!1}}class Device{get adBlocker(){return Kameleoon.Internals.runtime.adBlocker}get os(){return Kameleoon.Gatherer.OperatingSystem.obtain()}get screenHeight(){return window.screen.height}get screenWidth(){return window.screen.width}get timeZone(){return Kameleoon.Gatherer.TimeZone.obtainId()}get windowHeight(){return window.innerHeight}get windowWidth(){return window.innerWidth}constructor(){const e=Kameleoon.Utils.bowser.parsedResult=Kameleoon.Utils.bowser.parsedResult||Kameleoon.Utils.bowser.parse(navigator.userAgent);this.browser=e.browser.name||"Other";this.type="tablet"===e.platform.type?"Tablet":"mobile"===e.platform.type?"Phone":"Desktop";if("Safari"===this.browser&&"Desktop"===this.type&&"ontouchend"in document.documentElement)this.type="Tablet";let t=e.browser.version||"Safari"===this.browser&&e.os.version;try{if(t&&t.split(".").length>1)t=t.split(".")[0]+"."+t.split(".")[1]}catch(e){}this.browserVersion=t?parseFloat(t):null}}class Experiment{constructor(i,t){var e,n;this.executeGlobalScript=()=>{};this.handleSpecialCase=()=>{if(!0!==this.targeting&&this.redirectProcessed){this.performVariationAssignment(!0);Kameleoon.Analyst.Actions.performActionsTracking([this])}else if(this.preAssignVariation)this.performVariationAssignment(!0)};this.obtainVariationAssignmentRandomNumber=()=>{let i="";this.variations.forEach((function(t){if(t.respoolTime)i+=t.respoolTime}));const t=Kameleoon.Internals.runtime.Visitor.obtainIdentifierValue();return Kameleoon.Utils.seededRandom(t+this.id+i,!0)};this.performVariationAssignment=i=>{if(this.displayedVariation&&!i&&!this.deferredLoading)return;if(void 0!==this.registeredVariationId&&this.assignmentTime)this.variations.forEach((i=>{if(this.registeredVariationId==i.id&&i.respoolTime>this.assignmentTime||null===this.registeredVariationId&&this.untrackedRespoolTime>this.assignmentTime)this.registeredVariationId=void 0}));if(void 0===this.registeredVariationId&&!Kameleoon.Internals.runtime.simulationMode&&0==this.variations.filter((i=>i.id==this.registeredVariationId)).length)this.registeredVariationId=void 0;if(this.mentalistEnabled&&this.mentalistVariationReassignationPermission)this.registeredVariationId=void 0;if(void 0===this.registeredVariationId){if(this.mentalistEnabled){}else if(Kameleoon.Internals.runtime.customVariationSelectionFunction){this.registeredVariationId=Kameleoon.Internals.runtime.customVariationSelectionFunction(this);if(null!=this.registeredVariationId)if("reference"==this.registeredVariationId.toString())this.registeredVariationId=0;else if("none"==this.registeredVariationId.toString())this.registeredVariationId=null}else{const i=this.obtainVariationAssignmentRandomNumber();let t=0;this.registeredVariationId=null;for(let e=0,n=this.variations.length;e<n;++e){t+=this.variations[e].deviation;if(i<=t){this.registeredVariationId=this.variations[e].id;break}}}this.assignmentTime=(new Date).getTime();this.writeLocalData()}Kameleoon.Analyst.Actions.associateActionAndVariation(this,this.registeredVariationId,i?"REGISTERED_VARIATION":"BOTH")};this.setBlocked=i=>{this.blockingReason=i;this.blocked=!0};this.setTargetingSegment=i=>{this.targetingSegment=Kameleoon.Internals.runtime.targetingSegments.filter((i=>i.id==this.targetingSegmentId))[0]||{};if(!i||i==this.targetingSegmentId){this.targeting=void 0;this.rescheduleTargeting=null;this.numberTargetingCheckings=0;this.displayedVariation=null}};this.trigger=()=>{if(!this.targeting){this.targeting=!0;this.displayedVariation=null}};this.writeLocalData=()=>{const i=this.registeredVariationId+(this.mentalistEnabled?"-mentalist":"")+"/"+this.assignmentTime;if(!this.simulationMode)Kameleoon.Utils.createLocalData("kameleoonExperiment-"+this.id,i,this.cookieDuration||30,this.cookieDomain,"LS",!1)};for(const t in i)this[t]=i[t];const a="kameleoonRedirect-"+this.id;const s=null!==(n=null!==(e=t&&t[a])&&void 0!==e?e:Kameleoon.Utils.readLocalData(a,"LS",!1))&&void 0!==n?n:Kameleoon.Internals.runtime.parameters[a];if(null!=s){this.registeredVariationId=s;this.assignmentTime=(new Date).getTime();this.redirectProcessed=!0;Kameleoon.Utils.eraseLocalData("kameleoonRedirect-"+this.id,null,null)}const r="kameleoonExperiment-"+this.id;let o=t?t[r]:Kameleoon.Utils.readLocalData(r,"LS",!1);for(const i in Kameleoon.Internals.runtime.parameters)if(0==i.indexOf("kameleoonRedirect-"+this.id)){o=Kameleoon.Internals.runtime.parameters[i]+"/"+(new Date).getTime()+"/"+!1;this.writeLocalData()}if(o&&-1!=this.id){const i=o.split("/");this.registeredVariationId="null"==i[0]?null:i[0];this.assignmentTime=parseInt(i[1]);if(this.registeredVariationId){if("reference"==this.registeredVariationId.toString()){this.registeredVariationId=0;this.writeLocalData()}if("none"==this.registeredVariationId.toString()){this.registeredVariationId=null;this.writeLocalData()}if(null!=this.winningVariationId&&!Kameleoon.Internals.runtime.simulationMode&&!Kameleoon.Internals.runtime.disableCache&&this.winningVariationId!=this.registeredVariationId)this.registeredVariationId=this.winningVariationId;}}if(this.registeredVariationId&&-1!=this.registeredVariationId.toString().indexOf("-mentalist")){this.registeredVariationId=parseInt(this.registeredVariationId.toString().replace("-mentalist",""));this.mentalistEnabled=!0}if(this.registeredVariationId&&o&&null==this.deviation[this.registeredVariationId])this.registeredVariationId=void 0;this.setTargetingSegment();if(this.redirectProcessed&&null!=this.registeredVariationId)this.writeLocalData();const l=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","blockedExperiments",[]);if(l.length>0&&-1!=l.indexOf(this.id))this.setBlocked("API");}static performMutualExclusiveGroup(){}}class Goals{constructor(){this.checkKameleoonGoals=()=>{const e=[];const n=[];const o=[];const t=[];Kameleoon.Internals.runtime.goals.forEach((s=>{switch(s.type){case"ENGAGEMENT":n.push({goal:s});break;case"URL":{const n=new RegExp(s.url);if(n.test(Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL()))e.push({goal:s});break}case"SCROLL":t.push(s);break;}}));if(e.length>0)this.processConversions(e);Kameleoon.Utils.addEventListener(document,Kameleoon.Internals.runtime.mouseDownEvent,(e=>{this.processConversions(n)}),!0);Kameleoon.Utils.addEventListener(document,"scroll",(e=>{if(document.body){const e=[];t.forEach((n=>{if(!n.sent){let o=null,t=null;switch(n.scrollTrackingType){case"PIXELS_HEIGHT":o=Math.ceil(document.documentElement.scrollTop||document.body.scrollTop)+window.innerHeight;t=n.scrollTrackingValue;break;case"PERCENTAGE":o=(Math.ceil(document.documentElement.scrollTop||document.body.scrollTop)+window.innerHeight)/document.body.scrollHeight*100;t=n.scrollTrackingValue;break;case"ELEMENT":o=window.innerHeight;const e=Kameleoon.Utils.querySelectorAll(n.selector);if(e.length>0)t=e[0].getBoundingClientRect().top+e[0].offsetHeight;break}if(null!==o&&null!==t&&t<=o){e.push({goal:n});n.sent=!0}}}));if(e.length>0)this.processConversions(e)}}),!0);};this.processConversions=e=>{if(Kameleoon.Internals.runtime.gathererRun)for(let n=0,o=e.length;n<o;++n){const o=e[n];const t=o.goal;const s=!0===o.negative;if(s||"PAGE_VIEWS"!=t.type&&"TIME_SPENT"!=t.type&&"ENGAGEMENT"!=t.type||0==Kameleoon.Internals.runtime.Visitor.currentVisit.obtainNumberConversions(t.id)){Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"ConversionTriggered",new APIGoal(t),"goal/process");Kameleoon.Gatherer.track(VisitEvent_Conversions,{goalId:t.id,revenue:o.revenue?o.revenue:0,negative:s,metadata:o.metadata});}}}}}class KGeolocation{constructor(){let e=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","geolocation");if(null==e)Kameleoon.Utils.performBeaconServerCall(Kameleoon.Internals.runtime.RequestManager.obtainGeolocationUrl(),(e=>{if(4==e.readyState&&(200==e.status||204==e.status)){let t=e.getResponseHeader("geoip_country_name");let o=e.getResponseHeader("geoip_region_name");let n=e.getResponseHeader("geoip_city");this.country=t?Kameleoon.Utils.decodeUTF8(t):null;this.city=n?Kameleoon.Utils.decodeUTF8(n):null;this.latitude=e.getResponseHeader("geoip_latitude");this.longitude=e.getResponseHeader("geoip_longitude");this.postalCode=e.getResponseHeader("geoip_postal_code");this.region=o?Kameleoon.Utils.decodeUTF8(o):null;this.loaded=!0;Kameleoon.Gatherer.track(VisitEvent_Geolocation,this);Kameleoon.Internals.runtime.storedData.saveField("Runtime","geolocation",this);this.loadWeather()}}),null);else{this.loaded=!0;this.country=e.country;this.city=e.city;this.latitude=e.latitude;this.longitude=e.longitude;this.postalCode=e.postalCode;this.region=e.region;this.loadWeather()}}loadWeather(){}}class KMutationObserver{static addMutationElementsToInternalObjects(e){for(let t=0;t<e.length;++t){const n=e[t];if(n&&n.id)Kameleoon.Internals.runtime.addedIDs["#"+n.id]=!0;if(n&&n.className&&"string"===typeof n.className){const e=n.className.split(" ");for(let t=0;t<e.length;++t)Kameleoon.Internals.runtime.addedClasses["."+e[t]]=!0}}}static checkSelectorInDomTree(e){if(!e.selectors)KMutationObserver.fillClassesAndIdsForSelector(e);if(0===e.selectorClasses.length&&0===e.selectorIDs.length)return!0;let t=!1;for(let n=0;n<e.selectors.length;++n)if(KMutationObserver.checkIDsForSelector(e.selectorIDs[n],e)&&KMutationObserver.checkClassesForSelector(e.selectorClasses[n],e)){t=!0;break}return t}static fillClassesAndIdsForSelector(e){const t=[];const n=[];const o=e.selector&&e.selector.split(",")||[];if(e.currentQuery&&e.selector!=e.currentQuery)o.push(e.currentQuery);o.forEach((e=>{if(-1!==e.indexOf(".")||-1!==e.indexOf("#")){let o;let r;if(-1!==e.indexOf("\\")||-1!==e.indexOf("contains")||-1!==e.indexOf(":not")){const t=e.replace(/(:[^:]+\(.+?\)|\\)/g,"").replace(/(\-)?(\[.*?\])/g,((e,t)=>t?e:""));o=t.match(/\.([^\s.]+)/g);r=t.match(/#([^\s:\[]+)/g)}else{o=e.replace(/\[[^\]]*\]/g,"").match(/\.([^\s.:\[]+)/g);r=e.replace(/\[[^\]]*\]/g,"").match(/#([^\s.:[>]+)/g)}n.push(o||[]);t.push(r||[])}}));e.selectors=o;e.selectorClasses=n;e.selectorIDs=t;return e}static checkClassesForSelector(e,t){if(null==e)return!0;for(let t=0,n=e.length;t<n;++t){const n=e[t];if(-1===n.indexOf("kameleoon")&&null==Kameleoon.Internals.runtime.addedClasses[n])return!1}return!0}static checkIDsForSelector(e,t){if(null==e)return!0;let n;if(t.options)n=t.options.domReference;for(let t=0,o=e.length;t<o;++t){const o=e[t];if(-1!==o.indexOf("kameleoonElement")){if(n){const e=KMutationObserver.fillClassesAndIdsForSelector({selector:n});if(!KMutationObserver.checkIDsForSelector(e.selectorIDs[0],e))return!1}}else if(null==Kameleoon.Internals.runtime.addedIDs[o])return!1}return!0}static fillInternalObjectsForMutationObserver(e){if(!e)e=document;const t=e.getElementsByTagName("*");for(let e=0,n=t.length;e<n;++e){const n=t[e];if(n.id)Kameleoon.Internals.runtime.addedIDs["#"+n.id]=!0;if(n.className&&"string"===typeof n.className){const e=n.className.split(" ");for(let t=0;t<e.length;++t)Kameleoon.Internals.runtime.addedClasses["."+e[t]]=!0}}}static removeMutationElementsFromInternalObjects(e){for(let t=0;t<e.length;++t){const n=e[t];if(n&&n.id)if(1==Kameleoon.Internals.runtime.addedIDs["#"+n.id])delete Kameleoon.Internals.runtime.addedIDs["#"+n.id]}}static performWaitingElementPresentObject(){for(let e=Kameleoon.Internals.runtime.waitingElementPresentObjects.length-1;e>=0;e-=1){const t=Kameleoon.Internals.runtime.waitingElementPresentObjects[e];if(t&&t.useAntiFlicker)if(KMutationObserver.checkSelectorInDomTree(t)){const n=Kameleoon.Utils.querySelectorAll(t.selector);if(0<n.length){Kameleoon.Utils.runProtectedFunction((function(){t.callback(n)}),!0);Kameleoon.Internals.runtime.waitingElementPresentObjects.splice(e,1)}}}}static performVariationsElementSet(e){const t=Kameleoon.Internals.runtime.listenVariations||[];if(e)t.forEach((function(e){if(e.elementSets)e.elementSets.forEach((function(t){if(t.evaluated)return;if((!t.evaluated||!(t.options.autoGeneratedSelector||t.options.idSelector||t.options.domOperation))&&KMutationObserver.checkSelectorInDomTree(t)){const n=e.getAction();if(!n||n.targeting){t.evaluated=!0;Kameleoon.ElementSet.processElementSet(t,e,!1,e.permanentRefreshActive,e.editionMode,document)}}}))}));}static performAsyncMutations(){Kameleoon.Internals.runtime.domMutationThrottling=!0;if(!KMutationObserver.asyncMutationsTimeoutId)KMutationObserver.asyncMutationsTimeoutId=Kameleoon.Utils.setTimeout((()=>{if(KMutationObserver.mutationList.length>=KMutationObserver.MAX_MUTATIONS_LENGTH_FOR_ITERATION)KMutationObserver.fillInternalObjectsForMutationObserver();else KMutationObserver.mutationList.forEach((e=>{const t=e.addedNodes,n=e.removedNodes;const o=Array.prototype.slice.call(t);const r=Array.prototype.slice.call(n);const a=o.concat(r);KMutationObserver.removeMutationElementsFromInternalObjects(n);KMutationObserver.addMutationElementsToInternalObjects(t);for(let t=0;t<a.length;++t){const n=a[t];if(n&&n.innerHTML&&"childList"===e.type)KMutationObserver.fillInternalObjectsForMutationObserver(n)}}));KMutationObserver.mutationList=[];KMutationObserver.performWaitingElementPresentObject();KMutationObserver.performVariationsElementSet(!0);Kameleoon.Utils.clearTimeout(KMutationObserver.asyncMutationsTimeoutId);KMutationObserver.asyncMutationsTimeoutId=null}),250)}static setMutationObserver(){if(Kameleoon.Internals.runtime.cantUseMutationObserver||Kameleoon.Internals.runtime.mutationObserver)return;KMutationObserver.fillInternalObjectsForMutationObserver();const e=document.documentElement;const t={attributes:!0,childList:!0,characterData:!0,subtree:!0};Kameleoon.Internals.runtime.mutationObserver=new MutationObserver((function(e){let t=!0;if(!Kameleoon.Internals.runtime.domReady&&e.length>=KMutationObserver.MAX_MUTATIONS_LENGTH){KMutationObserver.mutationList=KMutationObserver.mutationList.concat(e);KMutationObserver.performAsyncMutations();return}e.forEach((e=>{const n=e.addedNodes,o=e.removedNodes;const r=Array.prototype.slice.call(n);const a=Array.prototype.slice.call(o);const s=r.concat(a);KMutationObserver.removeMutationElementsFromInternalObjects(o);KMutationObserver.addMutationElementsToInternalObjects(n);for(let n=0;n<s.length;++n){const o=s[n];if((Kameleoon.Internals.runtime.editorMode||Kameleoon.Internals.runtime.kameleoonSelectionIframeMode)&&o&&o.id&&"string"==typeof o.id&&null!==o.id.match("kameleoon"))if(o.closest&&null!==o.closest(".KameleoonProtected"))t=!1;if(t&&o&&o.innerHTML&&"childList"===e.type)KMutationObserver.fillInternalObjectsForMutationObserver(o)}}));KMutationObserver.performWaitingElementPresentObject();KMutationObserver.performVariationsElementSet(t);}));if("function"===typeof Kameleoon.Internals.runtime.mutationObserver.observe)Kameleoon.Internals.runtime.mutationObserver.observe(e,t);if(Kameleoon.Internals.runtime.singlePageSupport)KMutationObserver.setMutationObserverSPA()}static setMutationObserverSPA(){if(Kameleoon.Internals.runtime.mutationObserverSpa||Kameleoon.Internals.runtime.cantUseMutationObserver)return;Kameleoon.API.Core.runWhenElementPresent("body",(e=>{const t={childList:!0,subtree:!0};Kameleoon.Internals.runtime.mutationObserverSpa=new MutationObserver((function(e){Kameleoon.Internals.runtime.listenVariations=[];Kameleoon.Internals.runtime.mutationObserverSpa.disconnect();if(Kameleoon.ElementSet)KMutationObserver.checkElementSetIntegrity();KMutationObserver.executeCallbacks(e);KMutationObserver.checkDynamicElements();n()}));const n=()=>{t.characterData=Kameleoon.ElementSet&&Kameleoon.ElementSet.pageElementSetsSpa.length>0||Kameleoon.Internals.runtime.listenSpaCallbacks.length>0;Kameleoon.Internals.runtime.mutationObserverSpa.observe(e[0],t)};n()}))}}KMutationObserver.MAX_MUTATIONS_LENGTH=3e3;KMutationObserver.MAX_MUTATIONS_LENGTH_FOR_ITERATION=5e3;KMutationObserver.asyncMutationsTimeoutId=null;KMutationObserver.mutationList=[];KMutationObserver.executeCallbacks=e=>{Kameleoon.Internals.runtime.listenSpaCallbacks.forEach((e=>Kameleoon.Utils.runProtectedFunction(e,!0)))};KMutationObserver.checkDynamicElements=()=>{Kameleoon.Internals.runtime.waitingDynamicElements.forEach((e=>{const t=Kameleoon.Utils.querySelectorAll(e.selector).filter((t=>null==t.getAttribute(e.attribute)));t.length>0&&e.callback(t)}))};KMutationObserver.checkElementSetIntegrity=()=>{if(Kameleoon.Internals.runtime.editorEnabled)return;try{const e=[];(Kameleoon.ElementSet.pageElementSetsSpa||[]).forEach((t=>{const{elementSet:n,potentialElementsWithOptions:o}=t;const r=Kameleoon.Utils.querySelectorAll(n.selector);if(!r.length&&o&&!o.length)KMutationObserver.resetElementSet(n,null);if(n.options.domOperation&&!r.length&&o&&o.length)o.forEach((e=>{KMutationObserver.resetElementSet(n,e.element)}));r.forEach((t=>{if(n.options.htmlContent||n.options.href){const o=e.findIndex((e=>e.currentElement===t));if(-1!==o){const t=e[o].elementSet;if(t.options.htmlContent&&n.options.htmlContent||t.options.href&&n.options.href)e[o].elementSet=n}else e.push({currentElement:t,elementSet:n})}if(n.options.domOperation){if("SWAP"==n.options.domOperation)if(t.kameleoonData){const e=Kameleoon.Utils.querySelectorAll(n.options.domReference)[0];if(!KMutationObserver.containsDomOperationElements(e))KMutationObserver.resetElementSet(n,t,e)}else KMutationObserver.resetElementSet(n,t);else if("INSERT_BEFORE"==n.options.domOperation){const e=Kameleoon.Utils.querySelectorAll(n.selector+","+n.options.domReference);if(t.nextElementSibling!=e[1]&&(!KMutationObserver.containsDomOperationElements(e[0])||!KMutationObserver.containsDomOperationElements(e[1])))KMutationObserver.resetElementSet(n,t)}else if("INSERT_AFTER"==n.options.domOperation){const e=Kameleoon.Utils.querySelectorAll(n.selector+","+n.options.domReference);if(t.previousElementSibling!=e[0]&&(!KMutationObserver.containsDomOperationElements(e[0])||!KMutationObserver.containsDomOperationElements(e[1])))KMutationObserver.resetElementSet(n,t)}else if("INSERT_AS_CHILD"==n.options.domOperation){const e=Kameleoon.Utils.querySelectorAll(n.options.domReference)[0];if(t.parentElement!=e)KMutationObserver.resetElementSet(n,t)}}else{if(n.options.autoGeneratedSelector&&n.options.kameleoonId){if(null==t.getAttribute("data-kameleoon-id"))t.setAttribute("data-kameleoon-id",n.options.kameleoonId);if(null==t.getAttribute("id"))t.setAttribute("id","kameleoonId"+n.options.kameleoonId)}if(n.options.customSelector&&n.options.kameleoonClass){if(null==t.getAttribute("data-kameleoon-class"))Kameleoon.ElementSet.addDuplicatedData(t,null,n.options.kameleoonClass);if(0==Kameleoon.ElementSet.checkClassName(t,"KameleoonClass"+n.options.kameleoonClass))Kameleoon.ElementSet.addClassName(t,"KameleoonClass"+n.options.kameleoonClass)}if(n.options.attributesData&&!n.options.htmlContent){const e=JSON.parse(n.options.attributesData);for(let o=0;o<e.length;o++){const r=e[o];if("id"!=r.attributeName&&t.getAttribute(r.attributeName)!=r.attributeValue){KMutationObserver.resetElementSet(n,t);break}}}}}))}));e.forEach((({currentElement:e,elementSet:t})=>{if(t.options.htmlContent)if(e.innerHTML!=t.options.htmlContent)KMutationObserver.resetElementSet(t,e);if(t.options.href)if(e.href!=t.options.href&&e.href!=t.options.href+"/")if("A"==e.tagName)KMutationObserver.resetElementSet(t,e)}));}catch(e){}};KMutationObserver.resetElementSet=(e,t,n)=>{const o=t?[t]:[];if(n)o.push(n);o.forEach((e=>{if(e.id&&0==e.id.indexOf("kameleoon"))e.removeAttribute("id");e.removeAttribute("kameleoon");e.removeAttribute("data-kameleoon-id");delete e.kameleoonData;delete e.dataset.kameleoonEvaluated}));if(e.element&&!o.length)delete e.element;e.evaluated=!1;Kameleoon.ElementSet.processElementSet(e,null,!1,!1,!1);e.evaluated=!0;};KMutationObserver.containsDomOperationElements=e=>{const t=e&&e.querySelector("span.kameleoonDomOperation");return t&&t.parentElement==e;};class Logger{constructor(){this.MAX_REQUESTS_PER_VISIT=3;this.baseUrl="https://logger.kameleoon.com/api/2/store/?sentry_key=d8dc96c209184885ab9643cbaf1eb86f&sentry_version=7";this.canSend=()=>{if(Kameleoon.Internals.runtime&&Kameleoon.Internals.runtime.Consent.hasGlobalConsent())if(this.errorLoggerIds.length<this.MAX_REQUESTS_PER_VISIT){let e=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","loggerPopulation");if(null==e){this.population=e=Math.random();Kameleoon.Internals.runtime.storedData.saveField("Runtime","loggerPopulation",e)}if(e<.01)return!0}return!1};this.generateRandomIdAsString=(e,t,n)=>Kameleoon.Utils.computeStringSha256(e+t+n).substr(0,32);this.generateRequestDataAsString=(e,t,n,r)=>{let o={tags:{siteCode:Kameleoon.Internals.configuration.siteCode},user:{},environment:Kameleoon.Internals.configuration.environment,platform:"javascript",event_id:t,request:{url:location.href,headers:{"User-Agent":navigator.userAgent}},exception:{values:[{type:e.name,value:e.stack?e.stack:e.message,stacktrace:{frames:[{filename:n}]},mechanism:{data:{mode:"stack",message:e.stack?e.stack:e.message,name:e.name},handled:!1,type:"onerror"}}]}};if(r){o.tags["action-id"]=r.id;o.tags["action-name"]=r.name;o.tags["action-type"]=r.experimentAction?"experiment":"personalization"}try{o.user={id:Kameleoon.Internals.runtime&&Kameleoon.Internals.runtime.Visitor&&Kameleoon.Internals.runtime.Visitor.currentVisit.visitorCode}}catch(e){o.user={id:"no_visitor_code"}}return JSON.stringify(o)};this.send=(e,t,n)=>{try{this.errorLoggerIds=Kameleoon.Internals.runtime&&Kameleoon.Internals.runtime.storedData.obtainField("Runtime","loggerRequestsSend")||this.errorLoggerIds;let r=this.generateRandomIdAsString(e.message,Kameleoon.Internals.configuration.siteCode,Kameleoon.Internals.configuration.environment);if(-1==this.errorLoggerIds.indexOf(r)){this.errors.push(e);let o=e.stack?e.stack:e.message;if(this.canSend()&&o&&o.trim().length>0){let o=new XMLHttpRequest;o.open("POST",this.baseUrl,!0);o.timeout=2e3;o.send(this.generateRequestDataAsString(e,r,t,n));Kameleoon.Internals.runtime&&Kameleoon.Internals.runtime.storedData.saveField("Runtime","loggerRequestsSend",this.errorLoggerIds)}this.errorLoggerIds.push(r);if(Kameleoon.Internals.runtime.parameters.kameleoonDebug||localStorage.kameleoonExtensionIsAdmin)console.log(e)}}catch(t){this.errors.push(e)}};this.errorLoggerIds=[];this.errors=[]}}class RequestManager{constructor(){this.errorKey="kameleoonRequestEvents";this.processRequests=()=>{if(Kameleoon.Internals.runtime.Consent.hasGlobalConsent()){if(!this.tabId){this.tabId=Kameleoon.Utils.obtainRandomString(8,Analyst.HEXADECIMAL_ALPHABET);Kameleoon.Utils.secureSessionStorage("setItem","kameleoonTabId",this.tabId)}if(this.callbacksToExecute.length>0){const e=this.callbacksToExecute.splice(0,1e3);e.forEach((e=>e()))}if(this.eventsToSend.length>0&&this.validateTrackingRequest()){const e=this.eventsToSend.splice(0,1e3);const t=this.obtainRequestBody(e);this.send(this.obtainVisitUrl(),"POST",t,(()=>{}),(()=>{this.createErrorEventsQueue(t)}));if(this.eventsToSend.length>0)this.processRequests()}}};this.obtainRequestBody=e=>{const t=Kameleoon.Internals.runtime.Consent.getConsent();let n="";n+=e.reduce(((e,n)=>{if(!n.notTrack&&this.validateTrackingConsent(n.eventType,t))e+=n.obtainRequestData()+"\n";return e}),"");if(sessionStorage.getItem(this.errorKey)){n+=sessionStorage.getItem(this.errorKey);sessionStorage.removeItem(this.errorKey)}return n};this.obtainVisitUrl=()=>{const e=Kameleoon.Internals.runtime.Visitor.currentVisit.visitorCode;return`${this.url}/visit/events?siteCode=${this.siteCode}&visitorCode=${e}&itp=${"Safari"===Kameleoon.Internals.runtime.Device.browser}${this.tabId?`&tabId=${this.tabId}`:""}`};this.obtainIpUrl=()=>this.url+"/ip";this.obtainGeolocationUrl=()=>this.url+"/geolocation";this.send=(e,t,n,s,i,o)=>{const r=new XMLHttpRequest;r.open(t,e,!0);if(s)r.onreadystatechange=function(e){s.bind(r)(e.target)};if(i){r.onabort=function(e){i.bind(r)(e.target)};r.onerror=function(e){i.bind(r)(e.target)};r.ontimeout=function(e){i.bind(r)(e.target)}}r.timeout=o||15*60*1e3;r.send("POST"==t&&n?n:null);};this.sendActiveScript=()=>{};this.obtainRemoteSynchronizationData=(e,t)=>{this.send(`${Kameleoon.Internals.runtime.DATA_URL}/visit/visitor?${e}`,"GET",null,t)};this.sendProduct=(e,t)=>{};this.eventsToSend=[];this.callbacksToExecute=[];this.url=Kameleoon.Internals.runtime.DATA_URL;this.siteCode=Kameleoon.Internals.configuration.siteCode;this.tabId=Kameleoon.Utils.secureSessionStorage("getItem","kameleoonTabId");Kameleoon.Utils.setInterval(this.processRequests.bind(this),500);Kameleoon.Utils.addEventListener(window,Kameleoon.Internals.runtime.beforeUnloadEvent,"Safari"===Kameleoon.Internals.runtime.Device.browser?()=>this.eventsToSend.length&&this.createErrorEventsQueue(this.obtainRequestBody(this.eventsToSend)):this.processRequests.bind(this))}addCallback(e){if(Kameleoon.Internals.runtime.Consent.hasGlobalConsent())e();else this.callbacksToExecute.push(e)}addRequest(e){this.eventsToSend.push(e);if("page"===e.eventType)this.processRequests()}createErrorEventsQueue(e){if(e)sessionStorage.setItem(this.errorKey,(sessionStorage.getItem(this.errorKey)||"")+e)}validateTrackingConsent(e,t){return"experiment"!==e&&"personalization"!==e||t.AB_TESTING&&"experiment"===e||t.PERSONALIZATION&&"personalization"===e}validateTrackingRequest(){const n=(!Kameleoon.Internals.runtime.simulationMode||Kameleoon.Internals.runtime.enableRemoteVisitorSynchronization||Kameleoon.Internals.runtime.parameters["kameleoon-qa-mode"])&&!Kameleoon.Internals.runtime.proxyMode&&!Kameleoon.Internals.runtime.kameleoonSelectionIframeMode;return n}}class Targeting{constructor(){this.segments={};this.obtainSegment=e=>e&&this.segments[e];this.checkTargetingCondition=(e,t,i)=>{let n;if(null==t.numberTargetingCheckings)t.numberTargetingCheckings=0;if(!this.checkIfTargetingMustBeComputed(t.targeting,t.rescheduleTargeting||0==t.numberTargetingCheckings,void 0))n={targeting:t.targeting,rescheduleTargeting:!1};else{let r=Kameleoon.Targeting["evaluate_"+t.type];let a;if(null!=r)a=r.bind(this)(t,e,i);else a=null;if(null==a)a={targeting:void 0,rescheduleTargeting:!1};let g=a.targeting;if(!0!==t.include)if(void 0===g){if(!0===a.excludedUndefinedIsTargeted)g=!0}else g=!g;n={targeting:g,rescheduleTargeting:this.checkIfTargetingMustBeComputed(g,a.rescheduleTargeting,void 0)};t.targeting=n.targeting;t.rescheduleTargeting=n.rescheduleTargeting;t.numberTargetingCheckings++}if(!0===n.targeting)n.weight=t.weight;else n.weight=0;return n};this.checkTargetingSegmentsTargeting=e=>{let t=[];for(let i=0,n=e.length;i<n;++i){let n=e[i];if(null==n.numberTargetingCheckings)n.numberTargetingCheckings=0;if(this.checkIfTargetingMustBeComputed(n.targeting,n.rescheduleTargeting||0==n.numberTargetingCheckings,!1))t.push(n)}e=t;for(let t=0,i=e.length;t<i;++t){let i=e[t];let n=this.checkTree(null,i?i.tree:null,!1,i);i.targeting=n.targeting;i.rescheduleTargeting=n.rescheduleTargeting;i.numberTargetingCheckings++}let i=[];for(let t=0,n=e.length;t<n;++t){let n=e[t];if(this.checkIfTargetingMustBeComputed(n.targeting,n.rescheduleTargeting,!1))i.push(n)}if(i.length>0){let e=Kameleoon.Utils.setTimeout((()=>{Kameleoon.Utils.clearTimeout(e);this.processTargetingSegments(i)}),Kameleoon.Internals.runtime.domReady?Kameleoon.Internals.runtime.PAGE_LOADED_POLL_DELAY:Kameleoon.Internals.runtime.PAGE_LOADING_POLL_DELAY)}};this.checkTree=(e,t,i,n)=>{let r;if(null==t){r={targeting:!0,rescheduleTargeting:!1};if(i)r.weight=0}else{if(null==t.numberTargetingCheckings)t.numberTargetingCheckings=0;if(!this.checkIfTargetingMustBeComputed(t.targeting,t.rescheduleTargeting||0==t.numberTargetingCheckings,i)){r={targeting:t.targeting,rescheduleTargeting:!1};if(i)r.weight=t.weight}else{if(null!=t.targetingCondition)r=this.checkTargetingCondition(e,t.targetingCondition,n);else{let a=this.checkTree(e,t.leftChild,i,n);let g=Kameleoon.Internals.runtime.simulationMode||i;if(!g)switch(a.targeting){case!0:if(!t.orOperator)g=!0;break;case!1:if(t.orOperator)g=!0;break;case void 0:default:g=!0;break}let l=null;if(g)l=this.checkTree(e,t.rightChild,i,n);let s;switch(a.targeting){case!0:if(t.orOperator)s=!0;else switch(l.targeting){case!0:s=!0;break;case!1:s=!1;break;case void 0:default:s=void 0;break}break;case!1:if(t.orOperator)switch(l.targeting){case!0:s=!0;break;case!1:s=!1;break;case void 0:default:s=void 0;break}else s=!1;break;case void 0:default:if(t.orOperator)switch(l.targeting){case!0:s=!0;break;case!1:s=void 0;break;case void 0:default:s=void 0;break}else switch(l.targeting){case!0:s=void 0;break;case!1:s=!1;break;case void 0:default:s=void 0;break}break}r={targeting:s,rescheduleTargeting:this.checkIfTargetingMustBeComputed(s,a.rescheduleTargeting||g&&l.rescheduleTargeting,i)};if(i){let e;if(t.orOperator)e=Math.max(a.weight,l.weight);else e=a.weight+l.weight;r.weight=e}}t.targeting=r.targeting;t.rescheduleTargeting=r.rescheduleTargeting;if(i)t.weight=r.weight}t.numberTargetingCheckings++}return r};this.computeDisplayableTree=e=>{let t=new Array;let i=new Array;this.computeDisplayableTreeFirstLevelAddIn(e,t,i);if(i.length>0){let e=new Array;let n=new Array;let r=this.createIterator(t);let a=this.createIterator(i);while(a.hasNext()){let t=a.next();if(Kameleoon.Utils.testEmptyMap(t.conditions)){if(a.hasNext())r.next()}else{n.push(t);if(a.hasNext())e.push(r.next())}}t=n.length>0?e.slice(0,n.length-1):e;i=n}return{firstLevelOrOperators:t,secondLevel:i}};this.computeDisplayableTreeFirstLevelAddIn=(e,t,i)=>{if(null!=e)if(null==e.targetingCondition)if(0==e.orGuiLevel){this.computeDisplayableTreeFirstLevelAddIn(e.leftChild,t,i);t.push(e.orOperator);this.computeDisplayableTreeFirstLevelAddIn(e.rightChild,t,i)}else i.push(this.computeDisplayableTreeSecondLevel(e));else i.push(this.computeDisplayableTreeSecondLevel(e))};this.computeDisplayableTreeSecondLevel=e=>{let t=new Array;let i=new Array;this.computeDisplayableTreeSecondLevelAddIn(e,t,i);if(i.length>0){let e=new Array;let n=new Array;let r=this.createIterator(t);let a=this.createIterator(i);while(a.hasNext()){let t=a.next();if(t.disabled){if(a.hasNext())r.next()}else{n.push(t);if(a.hasNext())e.push(r.next())}}t=n.length>0?e.slice(0,n.length-1):e;i=n}return{orOperators:t,conditions:i}};this.computeDisplayableTreeSecondLevelAddIn=(e,t,i)=>{if(null!=e)if(null==e.targetingCondition){this.computeDisplayableTreeSecondLevelAddIn(e.leftChild,t,i);t.push(e.orOperator);this.computeDisplayableTreeSecondLevelAddIn(e.rightChild,t,i)}else i.push(e.targetingCondition)};this.flattenTree=e=>{let t=(e,i)=>{if(null!=e)if(null!=e.targetingCondition)return!1===e.targetingCondition.targeting?["!",e.targetingCondition]:e.targetingCondition;else{let n=e.orOperator?"OR":"AND";let r=[t(e.leftChild,n),n,t(e.rightChild,n)];return"AND"==i&&"OR"==n?["(",r,")"]:r}};return Kameleoon.Utils.flatten(t(e,"OR"))};this.processAllTargetingSegments=()=>{const e=Kameleoon.Internals.runtime.targetingSegments||[];e.forEach((e=>{this.segments[e.id]=e}));this.processTargetingSegments(e)};this.processTargetingSegments=e=>{this.checkTargetingSegmentsTargeting(e);let t=[];for(let i=0,n=e.length;i<n;++i){let n=e[i];if(!0===n.targeting)t.push(n)}this.performSegmentsTracking(t)}}checkIfTargetingMustBeComputed(e,t,i){let n=!0===t&&(void 0===e||!1===e&&!0===i);return n}createIterator(e){let t=0;return{hasNext:function(){return t<e.length},next:function(){return e[t++]}}}performSegmentsTracking(e){for(let t=0,i=e.length;t<i;++t){let i=e[t];Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"SegmentTriggered",{segment:{id:i.id,name:i.name}});if(Kameleoon.Internals.configuration.useAudience||i.opportunityDetection||i.onboarding||Kameleoon.Internals.runtime.mentalistRun&&i.mentalist)Kameleoon.Gatherer.track(VisitEvent_TargetingSegments,{id:i.id});}}}Targeting.prototype.evaluate_GEOLOCATION=function(e){let n;if(Kameleoon.Internals.runtime.Geolocation&&Kameleoon.Internals.runtime.Geolocation.loaded)if(e.value&&e.value!=Kameleoon.Internals.runtime.Geolocation.country||e.region&&e.region!=Kameleoon.Internals.runtime.Geolocation.region||e.city&&e.city!=Kameleoon.Internals.runtime.Geolocation.city)n=!1;else n=!0;return{targeting:n,rescheduleTargeting:void 0===n}};Targeting.prototype.evaluate_PAGE_URL=function(e){let t=new RegExp(Kameleoon.Utils.computeURLRegExpNoKameleoonParameters(e.value));let a;try{a=t.test(decodeURI(Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL()))}catch(e){try{a=unescape?t.test(unescape(Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL())):!1}catch(e){a=!1}}return{targeting:a,rescheduleTargeting:!1}};class Tracking{constructor(){this.timeBeforeSendTracking=20*60*1e3;this.checkAndSetKameleoonTrackingTime=(t,e)=>{const n=Kameleoon.Utils.secureSessionStorage("getItem","kameleoonAnalyticsTrackingTimes");const i=null==n?{}:JSON.parse(n);const a="Experiment-"+t;if(null==i[e]||null==i[e][a]||(new Date).getTime()>=i[e][a]+this.timeBeforeSendTracking){if(null==i[e])i[e]={};i[e][a]=(new Date).getTime();Kameleoon.Utils.secureSessionStorage("setItem","kameleoonAnalyticsTrackingTimes",JSON.stringify(i));return!0}return!1};this.obtainTealiumData=()=>{};this.processCustomIntegration=t=>{}}}Tracking.prototype.processClarity=function(a){if(window.clarity){window.clarity("set","KameleoonCampaignID",a.id);window.clarity("set","KameleoonCampaignName",a.name);window.clarity("set","KameleoonVariationID",a.associatedVariation.id);window.clarity("set","KameleoonVariationName",a.associatedVariation.name)}else{let e=Kameleoon.Utils.setTimeout((function(){Kameleoon.Utils.clearInterval(e);Kameleoon.Tracking.processClarity.apply(Kameleoon.Tracking,[a])}),150)}};class Variation{constructor(e){this.getAction=()=>Kameleoon.Internals.runtime.Campaigns.obtainCampaign(this.actionId);for(const t in e)this[t]=e[t]}applyJavascriptCode(e){return null}preProcessRedirect(e){}process(){const e=Kameleoon.Internals.runtime.Campaigns.obtainCampaign(this.actionId);if(!this.styleSheetAdded){this.styleSheetAdded=!0;Kameleoon.Utils.addCSSStyleSheet(this.css,e,null)}if(this.elementSets&&(!e||e.targeting))this.elementSets.forEach((e=>{e.evaluated=!0;Kameleoon.ElementSet.processElementSet(e,this,!1,this.permanentRefreshActive,this.editionMode)}));const t="enginePollerForVariation"+this.id;if(Kameleoon.Internals.runtime[t]&&!this.permanentRefreshActive){if(Kameleoon.Internals.runtime.cantUseMutationObserver)Kameleoon.Utils.clearInterval(Kameleoon.Internals.runtime[t]);Kameleoon.Internals.runtime[t]=null}if(!Kameleoon.Internals.runtime[t]&&!Kameleoon.Internals.runtime.editorMode&&!Kameleoon.Internals.runtime.kameleoonSelectionIframeMode){this.permanentRefreshActive=!0;Kameleoon.Internals.runtime.listenVariations.push(this);Kameleoon.Internals.runtime[t]=!0;if(Kameleoon.Internals.runtime.cantUseMutationObserver)Kameleoon.Internals.runtime[t]=Kameleoon.Utils.setInterval((()=>{this.process()}),10)}}processReplaceData(e){}}class Visit{constructor(t){this.addActionTriggered=(t,e)=>{const i=e?"experimentsTriggered":"personalizationsTriggered";const s=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer",i,{});s[t.toString()]=!0;Kameleoon.Internals.runtime.storedData.saveField("Gatherer",i,s);};this.addActivity=(t,e)=>{if(e)this.lastActivityDate=t};this.addAdBlocker=()=>{this.Device.adBlocker=!0};this.addConversions=(t,e,i,s)=>{let n=s?-1:1;e*=n;i*=n;let a=this.conversions[t];let o=a?a.count:0;let r=a?a.revenue:0;let l=o+e;let u=r+i;if(l>0)if(u>=0)this.conversions[t]={count:l,revenue:u};else delete this.conversions[t];else delete this.conversions[t]};this.addCustomData=(t,e,i)=>{if(Kameleoon.Utils.testEmptyMap(e)){if(i)delete this.customData[t]}else{if(i||null==this.customData[t])this.customData[t]={};for(let i in e)this.customData[t][i]=(this.customData[t][i]||0)+e[i]}};this.addExperiment=(t,e,i)=>{if(null===i)return;if(void 0===this.ExperimentActivations[e])this.ExperimentActivations[e]={associatedVariationID:i,times:[]};this.ExperimentActivations[e].times.push(t);if(-1!=e){let t=Kameleoon.Internals.runtime.Campaigns.obtainCampaign(e,!0);let i=t?t.attributionWindow:Visitor.INFLUENCE_DELAY;if(i>0)this.ExperimentActivations[e].influence=i}};this.addGeolocation=t=>{this.Geolocation=t};this.addNumberClicks=t=>{if(t>0)this.clicks+=t};this.addPage=(t,e,i,s)=>{this.addActivity(t,!0);let n=s.filter((t=>null!=t));this.pages.push({timestamp:t,keyPagesMatched:i,referrersMatched:n.length>0?n:[]});let a=this.pageURLsVisited[e];if(null==a){a=[];this.pageURLsVisited[e]=a}a.push(t);for(let t in this.productEansLastPage)this.productEansAllButLastPages[t]=!0;this.productEansLastPage={}};this.addPersonalization=(t,e,i)=>{};this.addProduct=t=>{this.productEansLastPage[t]=!0};this.addTargetingSegment=(t,e)=>{let i=this.activatedSegments[e];if(null==i){i=[];this.activatedSegments[e]=i}i.push(t);};this.addWeather=t=>{this.Weather=t};this.clearCustomDataPage=()=>{for(let t in Kameleoon.Internals.runtime.Gatherer.configuration.customData){let e=Kameleoon.Internals.runtime.Gatherer.configuration.customData[t];if("PAGE"==e.scope)delete this.customData[t]}};this.computeActionNumberActivations=(t,e,i,s)=>{if(null==s[t])return 0;return this.computeObjectNumberPresence(e,i,s[t].times)};this.computeObjectNumberPresence=(t,e,i)=>{let s=0;for(let n=0,a=i.length;n<a;++n){let a=i[n];if((null==t||a>=t)&&(null==e||a<=e))s++}return s};this.isVisitFinished=()=>this.lastActivityDate<(new Date).getTime()-Kameleoon.Internals.runtime.Gatherer.configuration.maxVisitIdleDuration;this.obtainKeyPageIsVisited=t=>{let e=this.pages.filter((e=>-1!=e.keyPagesMatched.indexOf(t)));return e.length>0};this.obtainMeanPageDuration=()=>{};this.obtainNumberConversions=t=>{let e=this.conversions[t];return null==e?0:e.count};this.obtainPageNumberViews=(t,e,i,s)=>{let n=0;for(let a in this.pageURLsVisited)if(null!=a){let o=Kameleoon.Utils.computeRelativeURL(a);if((null==t||t.test(a)||t.test(o))&&(null==e||!e.test(a)&&!e.test(o)))n+=this.computeObjectNumberPresence(i,s,this.pageURLsVisited[a])}return n};this.obtainTimesStartedPages=()=>{let t=[];for(let e in this.pageURLsVisited)t.concat(this.pageURLsVisited[e]);return t.sort()};this.obtainPersonalizationNumberActivations=(t,e,i)=>this.computeActionNumberActivations(t,e,i,this.PersonalizationActivations);this.obtainReferrerIsPresent=t=>{let e=null==t?null:t+1;let i=this.pages.filter((t=>-1!=t.referrersMatched.indexOf(e)));return i.length>0};this.visitNumber=t.visitNumber||0;this.landingPageURL=t.landingPageURL||null;this.productEansAllButLastPages=t.productEansAllButLastPages||{};this.productEansLastPage=t.productEansLastPage||{};this.startDate=t.startDate||0;this.pageURLsVisited=t.pageURLsVisited||{};this.activatedSegments=t.activatedSegments||{};this.visitorCode=t.visitorCode||"";this.customData=t.customData||{};this.clicks=t.clicks||0;this.lastActivityDate=t.lastActivityDate||this.startDate;let e=t.Device||{};this.Device={adBlocker:e.adBlocker||!1,browser:e.browser||"Other",browserVersion:e.browserVersion||null,os:e.os||"Other",screenHeight:e.screenHeight||null,screenWidth:e.screenWidth||null,timeZone:e.timeZone||"UTC",type:e.type?e.type.toLocaleUpperCase():null,windowHeight:e.windowHeight||null,windowWidth:e.windowWidth||null};let i=t.Geolocation||{};this.Geolocation={city:i.city||null,country:i.country||null,latitude:i.latitude||null,longitude:i.longitude||null,postalCode:i.postalCode||null,region:i.region||null};let s=t.Weather||{};this.Weather={conditionCode:s.conditionCode||null,conditionDescription:s.conditionDescription||null,cloudiness:s.cloudiness||null,humidity:s.humidity||null,pressure:s.pressure||null,sunrise:s.sunrise||null,sunset:s.sunset||null,temperature:s.temperature||null,windSpeed:s.windSpeed||null};this.conversions=t.conversions||{};this.ExperimentActivations=t.ExperimentActivations||{};this.PersonalizationActivations=t.PersonalizationActivations||{};this.pages=t.pages||[]}obtainExperimentNumberActivations(t,e,i){return this.computeActionNumberActivations(t,e,i,this.ExperimentActivations)}}class Visitor{constructor(){this.addVisit=t=>{this.visits.push(t);this.currentVisit=t;this.totalVisits++;if(null==this.timeStartedEldestVisit)this.timeStartedEldestVisit=t.startDate;const e=this.visits.length;const i=Math.max(1,Kameleoon.Internals.configuration.maxNumberLocalVisits);if(e>i)this.visits=this.visits.slice(e-i)};this.obtainKeyPageIsVisited=t=>{for(let e=0,i=this.visits.length;e<i;++e)if(this.visits[e].obtainKeyPageIsVisited(t))return!0;return!1};this.obtainReferrerIsPresent=t=>{for(let e=0,i=this.visits.length;e<i;++e)if(this.visits[e].obtainReferrerIsPresent(t))return!0;return!1};this.obtainNumberConversions=t=>{let e=0;for(let i=this.visits.length-1;i>=0;--i)e+=this.visits[i].obtainNumberConversions(t);return e};this.obtainActionNumberActivations=(t,e,i,o,s,n,r,a)=>{const l=a?"obtainExperimentNumberActivations":"obtainPersonalizationNumberActivations";const m=Kameleoon.Internals.runtime.Visitor.visits.length;let c=0;if(m>0){if(s){const e=Kameleoon.Internals.runtime.Visitor.visits[m-1][l](t,i,o);c+=r?e>0?1:0:e}if(n)for(let e=0,s=m-1;e<s;++e){const s=this.visits[e][l](t,i,o);c+=r?s>0?1:0:s}}return c};this.obtainPageNumberViews=(t,e,i,o,s,n)=>{const r=this.visits.length;let a=0;if(r>0){if(s)a+=this.visits[r-1].obtainPageNumberViews(t,e,i,o);if(n)for(let s=0,n=r-1;s<n;++s)a+=this.visits[s].obtainPageNumberViews(t,e,i,o)}return a};this.obtainTimeSincePreviousVisit=()=>{let t=0;if(this.visits.length>1){t=this.currentVisit.startDate-this.visits.slice(-2)[0].lastActivityDate;t=Math.max(t,Kameleoon.Internals.runtime.Gatherer.configuration.maxVisitIdleDuration)}return t};this.obtainVisitorCode=t=>{let e=!1;let i=Kameleoon.Utils.readLocalData("kameleoonVisitorCode","COOKIE");const o=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","timeNextSynchronization",null);if(Kameleoon.Internals.configuration.useWideDomainSupport||Kameleoon.Internals.configuration.useVisitorCodeInLocalStorage){const t=Kameleoon.Internals.runtime.incomingStoredData?Kameleoon.Internals.runtime.incomingStoredData.kameleoonVisitorCode:Kameleoon.Utils.readLocalData("kameleoonVisitorCode","LS");if(t)i=t}if(t||null==i){i=Kameleoon.Utils.obtainRandomString(Visitor.VISITOR_CODE_LENGTH,Analyst.CODE_ALPHABET);e=!0}Kameleoon.Utils.saveVisitorCode(i,null==o);this.visitorCode=i;return e};this.obtainVisitorFromStoredData=()=>Kameleoon.Internals.runtime.storedData.Visitor;this.saveToStoredData=()=>{this.saveFieldToStoredData("visits",this.visits);this.saveFieldToStoredData("totalVisits",this.totalVisits);this.saveFieldToStoredData("timeStartedEldestVisit",this.timeStartedEldestVisit)};this.setVisitorCode=t=>{if(this.visitorCode!=t){Kameleoon.Internals.runtime.newVisitorCode=!0;Kameleoon.Utils.saveVisitorCode(t);this.visitorCode=t;Kameleoon.Internals.runtime.Visitor.currentVisit.visitorCode=t;if(this.visits)this.visits.forEach((e=>{e.visitorCode=t}));Kameleoon.Internals.runtime.Campaigns.obtainCampaignsList(0).forEach((t=>{if(void 0!==t.registeredVariationId){t.registeredVariationId=void 0;t.performVariationAssignment(!0)}}));this.saveToStoredData();Kameleoon.Gatherer.track(VisitEvent_Page);Kameleoon.Gatherer.track(VisitEvent_StaticData)}};this.updateFromStoredData=(t,e,i)=>{const o=this.obtainVisitorFromStoredData();const s=o.visits;if(!this.visitorCode){const t=this.obtainVisitorCode(i);if(t)i=!0}if(s){const t=s.slice(-1)[0].visitorCode;if(t!=this.visitorCode){const e=Kameleoon.Utils.readLocalData("kameleoonVisitorCode","LS")||Kameleoon.Utils.readLocalData("kameleoonVisitorCode","COOKIE");if(e==t||!Kameleoon.Internals.runtime.Consent.hasGlobalConsent()){this.visitorCode=t;try{delete Kameleoon.Internals.runtime.localDataMap.COOKIE.kameleoonVisitorCode;delete Kameleoon.Internals.runtime.localDataMap.LS.kameleoonVisitorCode}catch(t){}}else if(e==this.visitorCode)i=!0}}if(i||t){e=!0;if(i)this.totalVisits=0}this.visits=[];if(!i&&s){s.forEach((t=>{this.addVisit(new Visit(t))}));this.totalVisits=o.totalVisits;this.timeStartedEldestVisit=o.timeStartedEldestVisit}let n=!1;if(e||!this.currentVisit||this.currentVisit.isVisitFinished()){const{Device:t,storedData:e}=Kameleoon.Internals.runtime;const o=e.obtainField("Gatherer","startsOfVisitForCurrentPage");e.saveField("Gatherer","startsOfVisitForCurrentPage",o+1);Kameleoon.Internals.runtime.Gatherer.startOfVisit=!0;e.resetForStartOfVisit();e.saveField("Runtime","firstReferrerHref",Kameleoon.Gatherer.Referrer.obtainCorrected(!0)||null);e.saveField("Runtime","firstReferrersIndices",Kameleoon.Gatherer.Referrer.obtainIndexes(!0)||[null]);e.saveField("Runtime","landingKeyPagesIndices",Kameleoon.Gatherer.KeyPage.obtainIndexes()||[null]);let s;if(!this.currentVisit||i)s=0;else s=this.currentVisit.visitNumber+1;this.addVisit(new Visit({visitorCode:this.visitorCode,startDate:(new Date).getTime(),visitNumber:s,landingPageURL:Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL(),Device:{browser:Kameleoon.Gatherer.Browser.obtain(),browserVersion:t.browserVersion,os:Kameleoon.Gatherer.OperatingSystem.obtain(),screenHeight:t.screenHeight,screenWidth:t.screenWidth,timeZone:Kameleoon.Gatherer.TimeZone.obtainId(),type:t.type,windowHeight:t.windowHeight,windowWidth:t.windowWidth}}));n=!0}this.saveToStoredData();Kameleoon.Internals.runtime.storedData.save(n)};this.getCustomDataVisitor=()=>{const t={};const e=Kameleoon.Internals.runtime.Gatherer.configuration.customData;for(const i in Kameleoon.Internals.runtime.Visitor.currentVisit.customData){const o=e[i];if(null!=o&&!o.disabled)if("VISITOR"==o.scope){const e=Kameleoon.Internals.runtime.Visitor.currentVisit.customData[i];t[i]=e}}return t};this.registerVisitsRequestSuccess=t=>{const e=[];for(let i=0,o=t.previousVisits.length;i<o;++i)e.push(new Visit(t.previousVisits[i]));if(e.length>0){const t=t=>{if(null!=this.currentVisit){const e=this.currentVisit;const i=[];for(let t=0,e=this.visits.length-1;t<e;++t)i.push(this.visits[t]);for(let e=0,o=t.length;e<o;++e)i.push(t[e]);i.sort(((t,e)=>t.startDate-e.startDate));this.visits=[];let o=null;let s=null;for(let t=0,e=i.length;t<e;t++){const e=i[t];const n=e.visitorCode;const r=e.startDate;if(n!=o||r!=s)this.addVisit(e);o=n;s=r}this.addVisit(e)}};t(e);if(Kameleoon.Internals.runtime.Gatherer.startOfVisit&&this.visits.length>1)Kameleoon.Gatherer.track(VisitEvent_StaticData);this.saveToStoredData()}return e;};this.compareCurrentVisitFromServer=t=>{try{for(const e in t){if("Device"==e||"Geolocation"==e||"Weather"==e)continue;const i=this.currentVisit[e];const o=t[e];if(typeof i==typeof o){if(i instanceof Object&&o instanceof Object)for(const s in i)if(null==o[s])t[e][s]=i[s];this.currentVisit[e]=t[e]}if("firstReferrerHref"==e||"landingKeyPagesIndices"==e||"firstReferrersIndices"==e)if(t[e])Kameleoon.Internals.runtime.storedData.saveField("Runtime",e,t[e])}}catch(t){}};this.performRemoteVisitorSynchronization=()=>{if(Kameleoon.Internals.runtime.enableRemoteVisitorSynchronization&&!Kameleoon.Internals.runtime.isReloaded){const t=Kameleoon.Gatherer.Referrer.obtain()&&new URL(Kameleoon.Gatherer.Referrer.obtain()).origin;if(t!=window.location.origin){const t=t=>{if(t.previousVisits&&t.previousVisits.length)this.registerVisitsRequestSuccess(t);if(t.currentVisit)this.compareCurrentVisitFromServer(t.currentVisit)};this.remoteSynchronisation("visitorCode",this.visitorCode,t,Kameleoon.Internals.configuration.enableHistoryReconciliation?0:Kameleoon.Internals.configuration.maxNumberLocalVisits)}}};this.obtainProductData=(t,e,i,o)=>{};this.obtainIdentifierValue=()=>{let t=null;return t||this.visitorCode};this.visits=[];this.currentVisit=null;this.totalVisits=0;this.updateFromStoredData(!1);Object.defineProperty(this,"customData",{enumerable:!0,get:()=>this.getCustomDataVisitor()})}saveFieldToStoredData(t,e){Kameleoon.Internals.runtime.storedData.Visitor[t]=e}remoteSynchronisation(t,e,i,o){if("string"==typeof e&&e.length>0){const s={siteCode:Kameleoon.Internals.configuration.siteCode,currentVisit:"customData"!==t,format:"ENGINE",maxNumberPreviousVisits:"number"==typeof o?o:Kameleoon.Internals.configuration.maxNumberLocalVisits,version:2};"customData"==t&&(s.mappingValue=e);"visitorCode"==t&&(s.visitorCode=e);Kameleoon.Internals.runtime.RequestManager.addCallback((()=>{Kameleoon.Internals.runtime.RequestManager.obtainRemoteSynchronizationData(Kameleoon.Utils.parseObjectToUrlParams(s),(t=>{if(4==t.readyState&&200==t.status){const e=JSON.parse(t.responseText);i&&i(e);Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"RemoteSynchronizationPerformed",{visitsFromServer:e})}}))}))}}}Visitor.VISITOR_CODE_LENGTH=16;Visitor.INFLUENCE_DELAY=1e3*60*60*24*7;try{window.Kameleoon=new KameleoonEngine}catch(o){console.log(o)}
Kameleoon.Internals = {"configuration":{"API_HOST_NAME":"api","APP_HOST_NAME":"app","BACK_OFFICE_HOST_NAME":"old","EDITOR_SRC":"src/main.ts","STATIC_IMAGES_URL":"//static.kameleoon.com/js/editor/source/images/","BASE_EDITOR_URL":"//static.kameleoon.com/js/editor/","NEW_EDITOR_URL":"//graphical-editor.kameleoon.com","EDITOR_HOST_NAME":"editor","DOMAIN":"kameleoon.com","SITE_RESOURCES_DOMAIN":"kameleoon.eu","GUI_ESTIMATED_LOADING_TIME":3000,"IMAGE_PATH":"https://wltzown6uo.kameleoon.eu/images/","PROXY_HOST_NAME":"proxy","QOOXDOO_ESTIMATED_LOADING_TIME":2000,"SERVER_CALL_ESTIMATED_LOADING_TIME":500,"STATIC_DIRECT_HOST_NAME":"static-direct","STATIC_HOST_NAME":"static","environment":"PRODUCTION","staticURL":"//static.kameleoon.eu/","maxNumberLocalVisits":25,"memberCode":"0","siteCode":"wltzown6uo","abtestConsent":"OFF","abtestConsentOptout":"RUN","beforeAbtestConsent":"ALL","beforePersonalizationConsent":"ALL","personalizationConsent":"OFF","personalizationConsentOptout":"RUN","personalizationsDeviation":1,"experiments":[{"id":244582,"name":"Summer 2024 Campaign CZ/EN","baseURL":"https://www.falkensteiner.com/en/summer-holiday","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1715003133000,"dateStatusModified":1714633612000,"goals":[335777,335778,335781,335779,335780,335782],"deviation":{"0":0,"963098":0.5,"963099":0.5},"variations":[{"name":"Reference","id":0,"deviation":0},{"name":"Variation 1","id":963098,"deviation":0.5},{"name":"Variante 2","id":963099,"deviation":0.5}],"targetingSegmentId":260262,"attributionWindow":"604800000","kameleoonTracking":{"mainGoalId":335781},"clarity":true},{"id":254857,"name":"Marlena Test Monitoring Campaign","baseURL":"https://www.falkensteiner.com","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1719412122000,"dateStatusModified":1719412122000,"goals":[335780,335782,335775,335778,335777],"deviation":{"0":0.5,"988375":0.5},"variations":[{"name":"Reference","id":0,"deviation":0.5},{"name":"Variation 1","id":988375,"deviation":0.5}],"targetingSegmentId":269512,"attributionWindow":"604800000","kameleoonTracking":{"mainGoalId":335782}},{"id":257589,"name":"Group Offer Fake Update DE","baseURL":"https://www.falkensteiner.com/angebote","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1720766171000,"dateStatusModified":1720766171000,"goals":[335779,346066,346067,335782,335781,335780],"deviation":{"0":0,"994350":1},"variations":[{"name":"Reference","id":0,"deviation":0},{"name":"Variation 1","id":994350,"deviation":1}],"targetingSegmentId":273648,"attributionWindow":"604800000","winningVariationId":994350,"kameleoonTracking":{"mainGoalId":335779},"clarity":true},{"id":257715,"name":"Group Offer Fake Update EN","baseURL":"https://www.falkensteiner.com/en/offers","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1720767506000,"dateStatusModified":1720766858000,"goals":[335779,335781,335782,346066,346067],"deviation":{"0":0,"994605":1},"variations":[{"name":"Reference","id":0,"deviation":0},{"name":"Variation 1","id":994605,"deviation":1}],"targetingSegmentId":273651,"attributionWindow":"604800000","winningVariationId":994605,"kameleoonTracking":{"mainGoalId":335779},"clarity":true},{"id":257722,"name":"Group Offer Fake Update IT","baseURL":"https://www.falkensteiner.com/it/offerte","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1720767463000,"dateStatusModified":1720767464000,"goals":[335779,335781,335782,346066,346067],"deviation":{"0":0,"994614":1},"variations":[{"name":"Reference","id":0,"deviation":0},{"name":"Variation 1","id":994614,"deviation":1}],"targetingSegmentId":273654,"attributionWindow":"604800000","winningVariationId":994614,"kameleoonTracking":{"mainGoalId":335779},"clarity":true},{"id":257724,"name":"Group Offer Fake Update HR","baseURL":"https://www.falkensteiner.com/hr/ponude","experimentAction":true,"executeCodeForReference":true,"forcedTechnical":true,"dateModified":1720767632000,"dateStatusModified":1720767632000,"goals":[335779,335781,335782,346066,346067],"deviation":{"0":0,"994616":1},"variations":[{"name":"Reference","id":0,"deviation":0},{"name":"Variation 1","id":994616,"deviation":1}],"targetingSegmentId":273656,"attributionWindow":"604800000","winningVariationId":994616,"kameleoonTracking":{"mainGoalId":335779},"clarity":true}],"personalizations":[],"targetingSegments":[{"id":260262,"name":"All User | Geo Location CZ","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"GEOLOCATION","disabled":false,"weight":1,"value":"Czechia","region":"","city":"","include":true}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)https\\://www\\.falkensteiner\\.com/en/summer-holiday(.*)","include":true}}}},{"id":269512,"name":"Segment for Marlena Test Monitoring Campaign","tree":null},{"id":273648,"name":"Segment for Group Offer Fake Update DE","tree":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"https\\://www\\.falkensteiner\\.com/angebote/?([\\?#].*)?$","include":true}}},{"id":273651,"name":"Segment for Group Offer Fake Update EN","tree":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"https\\://www\\.falkensteiner\\.com/en/offers/?([\\?#].*)?$","include":true}}},{"id":273654,"name":"Segment for Group Offer Fake Update IT","tree":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)https\\://www\\.falkensteiner\\.com/it/offerte(.*)","include":true}}},{"id":273656,"name":"Segment for Group Offer Fake Update HR","tree":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)https\\://www\\.falkensteiner\\.com/hr/ponude(.*)","include":true}}}],"variations":[{"name":"Variation 1","id":963098,"css":"#kameleoonId3758391,[data-kameleoon-id=\"3758391\"]{border:none!important;letter-spacing:normal!important;opacity:1!important;background-color:transparent!important;background-image:none!important;border-radius:0 0 0 0!important;color:#333!important;font-size:17px!important;line-height:1.45em!important;padding:0!important;margin:calc(0px - 0px)!important;height:auto!important;width:auto!important;z-index:auto!important}#kameleoonElement3753498{border:none!important;letter-spacing:normal!important;opacity:1!important;background-color:transparent!important;background-image:none!important;border-radius:0 0 0 0!important;color:#333!important;font-size:17px!important;line-height:1.45em!important;padding:0!important;margin:calc(0px + 0px)!important;height:auto!important;width:auto!important;z-index:auto!important}#kameleoonId3758393,[data-kameleoon-id=\"3758393\"]{border:none!important;letter-spacing:normal!important;opacity:1!important;background-color:transparent!important;background-image:none!important;border-radius:0 0 0 0!important;color:#333!important;font-size:17px!important;line-height:1.45em!important;padding:0!important;margin-top:calc(30px + 0px)!important;margin-bottom:calc(30px + 0px)!important;margin-left:calc(0px + 0px)!important;margin-right:calc(0px + 0px)!important;height:auto!important;width:auto!important;z-index:auto!important}#kameleoonElement3753539{border:none!important;letter-spacing:normal!important;opacity:1!important;background-color:transparent!important;background-image:none!important;border-radius:0 0 0 0!important;color:#333!important;font-size:17px!important;line-height:1.45em!important;padding-top:0!important;padding-bottom:0!important;padding-left:42px!important;padding-right:42px!important;margin-top:calc(0px + 0px)!important;margin-bottom:calc(0px + 0px)!important;margin-left:calc(270px + 0px)!important;margin-right:calc(270px + 0px)!important;height:auto!important;width:auto!important;z-index:auto!important}#kameleoonElement3755551{border:none!important;letter-spacing:normal!important;opacity:1!important;background-color:transparent!important;background-image:none!important;border-radius:0 0 0 0!important;color:#333!important;font-size:17px!important;line-height:1.45em!important;padding:0!important;margin-top:calc(30px + 0px)!important;margin-bottom:calc(30px + 0px)!important;margin-left:calc(0px + 0px)!important;margin-right:calc(0px + 0px)!important;height:auto!important;width:auto!important;z-index:auto!important}#kameleoonId3758406,[data-kameleoon-id=\"3758406\"]{width:641px!important;height:641px}#kameleoonId3758410,[data-kameleoon-id=\"3758410\"]{display:none!important}#kameleoonId3758412,[data-kameleoon-id=\"3758412\"]{display:none!important}#kameleoonId3758414,[data-kameleoon-id=\"3758414\"]{display:none!important}#kameleoonId3758417,[data-kameleoon-id=\"3758417\"]{height:736px!important;width:1906px!important}#kameleoonId3758419,[data-kameleoon-id=\"3758419\"]{height:736px!important;width:1906px!important}#kameleoonId3758431,[data-kameleoon-id=\"3758431\"]{height:385px!important;width:641px!important}#kameleoonId3758434,[data-kameleoon-id=\"3758434\"]{display:none!important}#kameleoonId3758436,[data-kameleoon-id=\"3758436\"]{display:none!important}#kameleoonId3758438,[data-kameleoon-id=\"3758438\"]{display:none!important}#kameleoonId3758440,[data-kameleoon-id=\"3758440\"]{display:none!important}#kameleoonElement3756531{border:none!important;letter-spacing:normal!important;opacity:1!important;background-color:transparent!important;background-image:none!important;border-radius:0 0 0 0!important;color:#333!important;font-size:17px!important;line-height:1.45em!important;padding:0!important;margin-top:calc(30px + 0px)!important;margin-bottom:calc(30px + 0px)!important;margin-left:calc(0px + 0px)!important;margin-right:calc(0px + 0px)!important;height:auto!important;width:auto!important;z-index:auto!important}#kameleoonId3758447,[data-kameleoon-id=\"3758447\"]{width:641px!important;height:641px}","elementSets":[{"selector":"#main > div:nth-of-type(2) > div:first-child > div:first-child > div:first-child > div:first-child > div:nth-of-type(2) > div:first-child > p:first-child","options":{"htmlContent":"Experience the ultimate blend of individuality and quality at over 30 premium hotels and residences in stunning beach front and mountain locations. From family-friendly adventures to romantic retreats in adult only hotels, we cater for every type of holiday.<br data-kameleoon-class=\"d090-1986\">\n<br data-kameleoon-class=\"1376-fd19\">\nCROATIA | ITALY | SOUTH TYROL | AUSTRIA | CZECHIA | SLOVAKIA | SERBIA","kameleoonId":3758380,"autoGeneratedSelector":true,"selector":"#kameleoonId3758380, [data-kameleoon-id=\"3758380\"]"},"currentQuery":"#main > div:nth-of-type(2) > div:first-child > div:first-child > div:first-child > div:first-child > div:nth-of-type(2) > div:first-child > p:first-child"},{"selector":"#main > div:nth-of-type(2) > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > header:first-child > h2:nth-of-type(1)","options":{"htmlContent":"Holidays of your desires.","kameleoonId":3758381,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758381, [data-kameleoon-id=\"3758381\"]"},"currentQuery":"#main > div:nth-of-type(2) > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > header:first-child > h2:nth-of-type(1)"},{"selector":"#main > div:nth-of-type(2) > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > header:first-child > h1:first-child","options":{"htmlContent":"Summer with Falkensteiner","kameleoonId":3758382,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758382, [data-kameleoon-id=\"3758382\"]"},"currentQuery":"#main > div:nth-of-type(2) > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > header:first-child > h1:first-child"},{"selector":"#main > div:nth-of-type(4) > div:nth-of-type(1) > section:first-child > div:first-child > header:first-child > h4:nth-of-type(1)","options":{"htmlContent":"From Zadar and Krk to Sardinia and Calabria, we have your favourite destinations for you. Let the fresh sea air caress your skin, dive into the cool salt water and feel the soft sand between your toes. A summer vacation in the truest sense of the word awaits you at Falkensteiner Hotels.","kameleoonId":3758383,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758383, [data-kameleoon-id=\"3758383\"]"},"currentQuery":"#main > div:nth-of-type(4) > div:nth-of-type(1) > section:first-child > div:first-child > header:first-child > h4:nth-of-type(1)"},{"selector":"#main > div:nth-of-type(5) > div:nth-of-type(1) > section:first-child > div:first-child > header:first-child > h4:nth-of-type(1)","options":{"kameleoonId":3758384,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758384, [data-kameleoon-id=\"3758384\"]"},"currentQuery":"#main > div:nth-of-type(5) > div:nth-of-type(1) > section:first-child > div:first-child > header:first-child > h4:nth-of-type(1)"},{"selector":"#main > div:nth-of-type(6) > div:nth-of-type(1) > section:first-child > div:first-child > header:first-child > h4:nth-of-type(1)","options":{"kameleoonId":3758385,"autoGeneratedSelector":true,"selector":"#kameleoonId3758385, [data-kameleoon-id=\"3758385\"]"},"currentQuery":"#main > div:nth-of-type(6) > div:nth-of-type(1) > section:first-child > div:first-child > header:first-child > h4:nth-of-type(1)"},{"selector":"#main > div:nth-of-type(7) > div:nth-of-type(1) > section:first-child > div:first-child > header:first-child > h4:nth-of-type(1)","options":{"kameleoonId":3758386,"autoGeneratedSelector":true,"selector":"#kameleoonId3758386, [data-kameleoon-id=\"3758386\"]"},"currentQuery":"#main > div:nth-of-type(7) > div:nth-of-type(1) > section:first-child > div:first-child > header:first-child > h4:nth-of-type(1)"},{"selector":"#main > section:nth-of-type(1) > div:first-child > div:first-child > aside:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child","options":{"kameleoonId":3758387,"autoGeneratedSelector":true,"selector":"#kameleoonId3758387, [data-kameleoon-id=\"3758387\"]"},"currentQuery":"#main > section:nth-of-type(1) > div:first-child > div:first-child > aside:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child"},{"selector":"#main > section:nth-of-type(2) > div:first-child > div:first-child > aside:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child","options":{"kameleoonId":3758388,"autoGeneratedSelector":true,"selector":"#kameleoonId3758388, [data-kameleoon-id=\"3758388\"]"},"currentQuery":"#main > section:nth-of-type(2) > div:first-child > div:first-child > aside:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child"},{"selector":"#main > section:nth-of-type(1) > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > ul:nth-of-type(1)","options":{"kameleoonId":3758389,"autoGeneratedSelector":true,"selector":"#kameleoonId3758389, [data-kameleoon-id=\"3758389\"]"},"currentQuery":"#main > section:nth-of-type(1) > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > ul:nth-of-type(1)"},{"selector":"#main > section:nth-of-type(2) > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > ul:nth-of-type(1)","options":{"kameleoonId":3758390,"autoGeneratedSelector":true,"selector":"#kameleoonId3758390, [data-kameleoon-id=\"3758390\"]"},"currentQuery":"#main > section:nth-of-type(2) > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > ul:nth-of-type(1)"},{"selector":"#main > section:nth-of-type(1) > div:first-child > div:first-child > aside:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > img:first-child","options":{"kameleoonId":3758391,"autoGeneratedSelector":true,"domOperation":"SWAP","domReference":"#main > section:nth-of-type(1) > div:first-child > div:first-child > div:nth-of-type(1)","domReferenceCurrentQuery":"#kameleoonId3753534 > div:first-child > div:nth-of-type(1)","selector":"#kameleoonId3758391, [data-kameleoon-id=\"3758391\"]"},"currentQuery":"#kameleoonId3752548 > img:first-child"},{"selector":"#kameleoonElement3753498","options":{"idSelector":true,"selector":"#kameleoonElement3753498"},"currentQuery":null},{"selector":"#main > section:nth-of-type(1)","options":{"kameleoonId":3758393,"autoGeneratedSelector":true,"selector":"#kameleoonId3758393, [data-kameleoon-id=\"3758393\"]"},"currentQuery":"#main > section:nth-of-type(1)"},{"selector":"#main > section:nth-of-type(1) > div:first-child","options":{"kameleoonId":3758394,"autoGeneratedSelector":true,"selector":"#kameleoonId3758394, [data-kameleoon-id=\"3758394\"]"},"currentQuery":"#kameleoonId3753530 > div:first-child"},{"selector":"#main > section:nth-of-type(1) > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > p:first-child","options":{"kameleoonId":3758395,"autoGeneratedSelector":true,"selector":"#kameleoonId3758395, [data-kameleoon-id=\"3758395\"]"},"currentQuery":"#kameleoonId3753534 > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > p:first-child"},{"selector":"#kameleoonElement3753539","options":{"idSelector":true,"selector":"#kameleoonElement3753539"},"currentQuery":null},{"selector":"img[src='https://image-tc.galaxy.tf/wijpeg-140ki5oeoxtt6t9l83stsz5dl/24-0301-fhr-0121-summercampaign-neutral-1920x1080.jpg?width=1920']","options":{"kameleoonClass":"3758397","contentSelector":true,"selector":".KameleoonClass3758397, [data-kameleoon-class*=\"3758397\"]"},"currentQuery":null},{"selector":"img[src='https://image-tc.galaxy.tf/wijpeg-co9lmvr1zo435kfrqzbr3wnxw/24-0301-fhr-0121-summercampaign-sea-1920x1080.jpg?width=1920']","options":{"kameleoonClass":"3758398","contentSelector":true,"selector":".KameleoonClass3758398, [data-kameleoon-class*=\"3758398\"]"},"currentQuery":null},{"selector":"#kameleoonElement3755551","options":{"replaceHtmlContent":"<section class=\"section-halfpane  text-image-gallery \" data-cms=\"text-image-gallery\" data-anchor=\"\" style=\"margin-top: 30px; margin-bottom: 30px;\" data-kameleoon-class=\"5554-8760\">\n\t<div class=\"container container--full-mobile\" id=\"\" data-kameleoon-class=\"a6cc-d698\">\n\t\t<div class=\"section__container \n\n\nbg-secondary\n\n\n\" data-kameleoon-class=\"0847-98ef\">\n\t\t\t<aside class=\"section__aside\" data-kameleoon-class=\"220c-e5bd\">\n\t\t\t\t<div class=\"slider-images\" data-kameleoon-class=\"85aa-b615\"> \n\t\t\t\t\t<div class=\"slider__clip\" data-kameleoon-class=\"e4e8-24f1\">\n\t\t\t\t\t\t<div class=\"slider__slides slick-initialized slick-slider\" data-kameleoon-class=\"12aa-2003\"><div class=\"slick-list draggable\" data-kameleoon-class=\"13a2-9e7d\"><div class=\"slick-track\" style=\"opacity: 1; width: 641px; transform: translate3d(0px, 0px, 0px);\" data-kameleoon-class=\"4db9-2f02\"><div class=\"slick-slide slick-current slick-active\" data-slick-index=\"0\" aria-hidden=\"false\" style=\"width: 641px;\" data-kameleoon-class=\"6f09-c99d\"><div data-kameleoon-class=\"8e81-95b8\"><div class=\"slider__slide\" style=\"width: 100%; display: inline-block;\" id=\"\" data-kameleoon-class=\"077d-02e4\">\n\t<a href=\"https://image-tc.galaxy.tf/wijpeg-987nrqhxkxpa6hykp5odomwps/falkensteiner-hotels-residences-prepaid-rate-980x980.jpg?width=800\" class=\"slider__slide-image ratio-container\" tabindex=\"0\" data-kameleoon-class=\"da6f-dc9f\">\n\t\t<img src=\"https://image-tc.galaxy.tf/wijpeg-987nrqhxkxpa6hykp5odomwps/falkensteiner-hotels-residences-prepaid-rate-980x980.jpg?width=800\" alt=\"\" class=\"ratio-media\" loading=\"lazy\" data-kameleoon-class=\"11e9-86eb\">\n\t</a><!-- /.slider__slide-image -->\n</div></div></div></div></div></div><!-- /.slider__slides -->\n\n\t\t\t\t\t<div class=\"paging\" data-kameleoon-class=\"6252-247c\">\n\t<div class=\"paging__arrows\" data-kameleoon-class=\"e3b6-7c13\">\n\t\t<button type=\"button\" class=\"paging__prev slick-arrow slick-hidden\" aria-label=\"Prev Slide\" aria-disabled=\"true\" tabindex=\"-1\" data-kameleoon-class=\"77c4-eb6a\">\n\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"13.8\" height=\"24.6\" viewBox=\"0 0 13.08 24.6\" data-kameleoon-class=\"721d-e164\">\n\t\t\t\t<path d=\"M13.08 22.758l-9.455-9.927L13.08 2.9 11.266 1-.004 12.831l1.814 1.9 9.455 9.927z\" fill=\"currentColor\" data-kameleoon-class=\"8dc6-f467\"></path>\n\t\t\t</svg>\n\t\t</button>\n\n\t\t<button type=\"button\" class=\"paging__next slick-arrow slick-hidden\" aria-label=\"Next Slide\" aria-disabled=\"true\" tabindex=\"-1\" data-kameleoon-class=\"8c0a-3b94\">\n\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"13.8\" height=\"24.6\" viewBox=\"0 0 13.08 24.6\" data-kameleoon-class=\"f070-e1d9\">\n\t\t\t\t<path d=\"M0 2.902l9.455 9.927L0 22.76l1.814 1.9 11.27-11.831-1.814-1.9-9.455-9.927z\" fill=\"currentColor\" data-kameleoon-class=\"ec13-6cbc\"></path>\n\t\t\t</svg>\n\t\t</button>\n\t</div><!-- /.paging__arrows -->\n\n\t<div class=\"paging__dots\" data-kameleoon-class=\"ac3b-d770\"></div><!-- /.paging__dots -->\n</div><!-- /.paging -->\n\t\t\t\t</div><!-- /.slider__clip -->\n\t\t\t</div><!-- /.slider-images -->\n\t\t</aside><!-- /.section__aside -->\n\n\t\t\t<div class=\"section__content\" data-kameleoon-class=\"a6bc-a1cd\">\n\t\t\t\t<article class=\"article\" data-kameleoon-class=\"2f0f-2542\">\n\t\t\t\t\t<header class=\"article__head \" data-kameleoon-class=\"c75d-751a\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t<h2 class=\"h3 text-uppercase article__title \" tabindex=\"0\" data-kameleoon-class=\"b2d5-6f92\">PREPAID RATE</h2><!-- /.article__title -->\n\t\t\t\t\t\t\n\n\t\t\t\t\t\t\n\t\t\t\t\t</header><!-- /.article__head -->\n\n\t\t\t\t\t<div class=\"article__body\" data-kameleoon-class=\"016d-9bce\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div class=\"article__entry\" tabindex=\"0\" data-kameleoon-class=\"d3fb-5a3b\">\n\t\t\t\t\t\t\t\t<p id=\"\" data-kameleoon-class=\"7761-e79b\">Whether relaxing or action-packed - a holiday with us is always all about enjoyment. To increase your anticipation to your summer holiday even more, we have created a special rate for you that gives you a price advantage of&nbsp;<strong data-kameleoon-class=\"415e-cd5f\">up to 15&nbsp;%</strong>&nbsp;if you pay in advance. As a Spirit Club member, you even benefit from a further&nbsp;<strong data-kameleoon-class=\"441a-9282\">5% discount</strong>.&nbsp;</p>\n\n<ul id=\"\" data-kameleoon-class=\"18b6-c1ea\">\n\t<li data-kameleoon-class=\"abad-9c08\">Best price guarantee: If you pay the entire price of your overnight stay in advance, you will receive a<strong data-kameleoon-class=\"e3b6-0010\"> discount of up to 20&nbsp;% </strong>and thus secure the best price.&nbsp;</li>\n\t<li data-kameleoon-class=\"b1b5-9b39\">Please note that due to the special conditions of this offer, refunds are not possible in the event of cancellation.&nbsp;</li>\n\t<li data-kameleoon-class=\"e98b-181a\">The booking period varies depending on the hotel and will be shown during the booking process.&nbsp;</li>\n</ul>\n\n\t\t\t\t\t\t\t</div><!-- /.article__entry -->\n\t\t\t\t\t\t\n\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div class=\"article__actions\" data-kameleoon-class=\"d38b-9977\">\n\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\t<!-- class=\"btn \" -->\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<a href=\"/en/offers/pay-save-stay&amp;kameleoonSelectedVariationId=963099&amp;experimentId=244582&amp;kameleoonReplica=false\" class=\"\n\t\t\t\t\t\t\t\t\tbtn\n\t\t\t\t\t\t\t\t\t\" aria-label=\"Book now \" data-kameleoon-class=\"93d3-6680\">\n\t\t\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\t\t\t<span class=\"btn__text\" data-kameleoon-class=\"4159-0b6a\">Book now</span>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div><!-- /.article__actions -->\n\t\t\t\t\t\t\n\t\t\t\t\t</div><!-- /.article__body -->\n\t\t\t\t</article><!-- /.article -->\n\t\t\t</div><!-- /.section__content -->\n\t\t</div><!-- /.section__container -->\n\t</div><!-- /.container -->\n</section>","idSelector":true,"domOperation":"INSERT_AFTER","domReference":"#main > section:nth-of-type(2)","selector":"#kameleoonElement3755551"},"currentQuery":null},{"selector":"#kameleoonElement3755551 > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > header:first-child > h2:first-child","options":{"htmlContent":"FAMILY SUMMER HOLIDAY","kameleoonId":3758400,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758400, [data-kameleoon-id=\"3758400\"]"},"currentQuery":"#kameleoonElement3755551 > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > header:first-child > h2:first-child"},{"selector":"#kameleoonElement3755551 > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child","options":{"htmlContent":"\n<p data-kameleoon-class=\"7761-e79b\" id=\"\">At Falkensteiner we like to combine adventures with relaxation. With a varied programme for families, boredom is never a chance! Why take the family to the Falkensteiner?</p>\n\n<ul data-kameleoon-class=\"18b6-c1ea\" id=\"\">\n\t<li data-kameleoon-class=\"abad-9c08\">An adventurous, fun and educational animation programme from babies to teenagers</li>\n\t<li data-kameleoon-class=\"abad-9c08\">Discounted overnight rates for children (depending on the hotel and season)</li>\n\t<li data-kameleoon-class=\"abad-9c08\">Family rooms with additional amenities such as cots</li>\n\t<li data-kameleoon-class=\"abad-9c08\">Falky Land children's play area with a craft station, science lab and more.</li>\n\t<li data-kameleoon-class=\"abad-9c08\">Water worlds and children's spa with treatments for children (depending on the hotel)</li>\n\t<li data-kameleoon-class=\"abad-9c08\">...and much more</li>\n</ul>\n","kameleoonId":3758401,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758401, [data-kameleoon-id=\"3758401\"]"},"currentQuery":"#kameleoonElement3755551 > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child"},{"selector":"#kameleoonElement3755551 > div:first-child > div:first-child > aside:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child","options":{"kameleoonId":3758402,"autoGeneratedSelector":true,"selector":"#kameleoonId3758402, [data-kameleoon-id=\"3758402\"]"},"currentQuery":"#kameleoonElement3755551 > div:first-child > div:first-child > aside:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child"},{"selector":"#kameleoonElement3755551 > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > ul:nth-of-type(1) > li:nth-of-type(2)","options":{"htmlContent":"Discounted overnight rates for children","kameleoonId":3758403,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758403, [data-kameleoon-id=\"3758403\"]"},"currentQuery":"#kameleoonId3755555 > ul:nth-of-type(1) > li:nth-of-type(2)"},{"selector":"#kameleoonElement3755551 > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > ul:nth-of-type(1) > li:nth-of-type(5)","options":{"htmlContent":"Water worlds and children's spa with treatments for children","kameleoonId":3758404,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758404, [data-kameleoon-id=\"3758404\"]"},"currentQuery":"#kameleoonId3755555 > ul:nth-of-type(1) > li:nth-of-type(5)"},{"selector":"#kameleoonElement3755551 > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > ul:nth-of-type(1) > li:first-child","options":{"htmlContent":"An adventurous, fun and educational animation programme","kameleoonId":3758405,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758405, [data-kameleoon-id=\"3758405\"]"},"currentQuery":"#kameleoonId3755555 > ul:nth-of-type(1) > li:first-child"},{"selector":"#kameleoonElement3755551 > div:first-child > div:first-child > aside:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > a:first-child > img:first-child","options":{"kameleoonId":3758406,"autoGeneratedSelector":true,"replaceHtmlContent":"<img kameleoon=\"copyAttributes\" src=\"https://wltzown6uo.kameleoon.eu/images/214843-a837077a-542d-40eb-91ca-e39ca142543f.jpg\" />","selector":"#kameleoonId3758406, [data-kameleoon-id=\"3758406\"]"},"currentQuery":"#kameleoonId3755558 > a:first-child > img:first-child"},{"selector":"#kameleoonElement3755551 > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:nth-of-type(2) > a:first-child","options":{"kameleoonId":3758408,"autoGeneratedSelector":true,"href":"/en/inspiration/family&kameleoonSelectedVariationId=963099&experimentId=244582&kameleoonReplica=false","selector":"#kameleoonId3758408, [data-kameleoon-id=\"3758408\"]"},"currentQuery":"#kameleoonElement3755551 > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:nth-of-type(2) > a:first-child"},{"selector":"#slick-slide00 > div:first-child > div:first-child > div:nth-of-type(1) > div:first-child","options":{"kameleoonId":3758410,"autoGeneratedSelector":true,"selector":"#kameleoonId3758410, [data-kameleoon-id=\"3758410\"]"},"currentQuery":"#slick-slide00 > div:first-child > div:first-child > div:nth-of-type(1) > div:first-child"},{"selector":"#slick-slide01 > div:first-child > div:first-child > div:nth-of-type(1) > div:first-child","options":{"kameleoonId":3758412,"autoGeneratedSelector":true,"selector":"#kameleoonId3758412, [data-kameleoon-id=\"3758412\"]"},"currentQuery":"#slick-slide01 > div:first-child > div:first-child > div:nth-of-type(1) > div:first-child"},{"selector":"#slick-slide02 > div:first-child > div:first-child > div:nth-of-type(1) > div:first-child","options":{"kameleoonId":3758414,"autoGeneratedSelector":true,"selector":"#kameleoonId3758414, [data-kameleoon-id=\"3758414\"]"},"currentQuery":"#slick-slide02 > div:first-child > div:first-child > div:nth-of-type(1) > div:first-child"},{"selector":"#slick-slide00 > div:first-child > div:first-child > picture:first-child > img:nth-of-type(1)","options":{"kameleoonId":3758417,"autoGeneratedSelector":true,"replaceHtmlContent":"<img kameleoon=\"copyAttributes\" src=\"https://wltzown6uo.kameleoon.eu/images/214845-2110e2a4-9750-4035-8fa8-e02fa00bf3af.jpg\" />","selector":"#kameleoonId3758417, [data-kameleoon-id=\"3758417\"]"},"currentQuery":"#slick-slide00 > div:first-child > div:first-child > picture:first-child > img:nth-of-type(1)"},{"selector":"#slick-slide01 > div:first-child > div:first-child > picture:first-child > img:nth-of-type(1)","options":{"kameleoonId":3758419,"autoGeneratedSelector":true,"replaceHtmlContent":"<img kameleoon=\"copyAttributes\" src=\"https://wltzown6uo.kameleoon.eu/images/214847-614ad49d-5b3f-4656-b636-59c7de84c946.jpg\" />","selector":"#kameleoonId3758419, [data-kameleoon-id=\"3758419\"]"},"currentQuery":"#slick-slide01 > div:first-child > div:first-child > picture:first-child > img:nth-of-type(1)"},{"selector":"#main > div:nth-of-type(5) > div:nth-of-type(1) > section:first-child > div:first-child > div:nth-of-type(1) > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:nth-of-type(6)","options":{"kameleoonId":3758421,"autoGeneratedSelector":true,"selector":"#kameleoonId3758421, [data-kameleoon-id=\"3758421\"]"},"currentQuery":"#main > div:nth-of-type(5) > div:nth-of-type(1) > section:first-child > div:first-child > div:nth-of-type(1) > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:nth-of-type(6)"},{"selector":"#main > section:nth-of-type(4) > div:first-child > div:first-child > div:first-child > div:first-child > header:first-child > h2:first-child","options":{"htmlContent":"NEED SOME INSPIRATION?","kameleoonId":3758424,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758424, [data-kameleoon-id=\"3758424\"]"},"currentQuery":"#main > section:nth-of-type(5) > div:first-child > div:first-child > div:first-child > div:first-child > header:first-child > h2:first-child"},{"selector":"#main > section:nth-of-type(4) > div:first-child > div:first-child > div:first-child > div:first-child > div:nth-of-type(1) > p:first-child","options":{"htmlContent":"Didn't find what you were looking for?<br data-kameleoon-class=\"0a58-ff91\">\nFind more inspiration and tips for your holiday on our<br data-kameleoon-class=\"7783-70d0\">\nInstagram @falkensteinerhotels_cz","kameleoonId":3758426,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758426, [data-kameleoon-id=\"3758426\"]"},"currentQuery":"#main > section:nth-of-type(5) > div:first-child > div:first-child > div:first-child > div:first-child > div:nth-of-type(1) > p:first-child"},{"selector":"#main > section:nth-of-type(4) > div:first-child > div:first-child > div:first-child > div:first-child > div:nth-of-type(2) > a:first-child","options":{"kameleoonId":3758429,"autoGeneratedSelector":true,"href":"https://www.instagram.com/falkensteinerhotels_cz/","selector":"#kameleoonId3758429, [data-kameleoon-id=\"3758429\"]"},"currentQuery":"#main > section:nth-of-type(5) > div:first-child > div:first-child > div:first-child > div:first-child > div:nth-of-type(2) > a:first-child"},{"selector":"#main > section:nth-of-type(4) > div:first-child > div:first-child > picture:nth-of-type(1) > img:first-child","options":{"kameleoonId":3758431,"autoGeneratedSelector":true,"replaceHtmlContent":"<img kameleoon=\"copyAttributes\" src=\"https://wltzown6uo.kameleoon.eu/images/214863-a1435c67-a3c4-4d1b-b378-28d02a49dcd1.jpg\" />","selector":"#kameleoonId3758431, [data-kameleoon-id=\"3758431\"]"},"currentQuery":"#main > section:nth-of-type(5) > div:first-child > div:first-child > picture:nth-of-type(1) > img:first-child"},{"selector":"#main > section:nth-of-type(3)","options":{"kameleoonId":3758434,"autoGeneratedSelector":true,"selector":"#kameleoonId3758434, [data-kameleoon-id=\"3758434\"]"},"currentQuery":"#main > section:nth-of-type(4)"},{"selector":"#main > section:nth-of-type(3) > div:first-child","options":{"kameleoonId":3758436,"autoGeneratedSelector":true,"selector":"#kameleoonId3758436, [data-kameleoon-id=\"3758436\"]"},"currentQuery":"#main > section:nth-of-type(4) > div:first-child"},{"selector":"#main > section:nth-of-type(3) > div:first-child > div:first-child > header:first-child","options":{"kameleoonId":3758438,"autoGeneratedSelector":true,"selector":"#kameleoonId3758438, [data-kameleoon-id=\"3758438\"]"},"currentQuery":"#main > section:nth-of-type(4) > div:first-child > div:first-child > header:first-child"},{"selector":"#main > section:nth-of-type(3) > div:first-child > div:first-child > div:nth-of-type(1) > div:first-child > div:first-child","options":{"kameleoonId":3758440,"autoGeneratedSelector":true,"selector":"#kameleoonId3758440, [data-kameleoon-id=\"3758440\"]"},"currentQuery":"#main > section:nth-of-type(4) > div:first-child > div:first-child > div:nth-of-type(1) > div:first-child > div:first-child"},{"selector":"#main > section:nth-of-type(2) > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > header:first-child > h2:first-child","options":{"htmlContent":"Sunshine Special","kameleoonId":3758442,"autoGeneratedSelector":true,"selector":"#kameleoonId3758442, [data-kameleoon-id=\"3758442\"]"},"currentQuery":"#main > section:nth-of-type(2) > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > header:first-child > h2:first-child"},{"selector":"#kameleoonElement3756531","options":{"replaceHtmlContent":"<section class=\"section-halfpane  text-image-gallery \" data-cms=\"text-image-gallery\" data-anchor=\"\" style=\"margin-top: 30px; margin-bottom: 30px;\" data-kameleoon-class=\"56a4-ddb4\">\n\t<div class=\"container container--full-mobile\" id=\"\" data-kameleoon-class=\"b042-d2cf\">\n\t\t<div class=\"section__container \n\n\nbg-secondary\n\n\n\" data-kameleoon-class=\"34a3-b1a1\">\n\t\t\t<aside class=\"section__aside\" data-kameleoon-class=\"1599-7f33\">\n\t\t\t\t<div class=\"slider-images\" data-kameleoon-class=\"8355-5323\"> \n\t\t\t\t\t<div class=\"slider__clip\" data-kameleoon-class=\"9bf5-32d6\">\n\t\t\t\t\t\t<div class=\"slider__slides slick-initialized slick-slider\" data-kameleoon-class=\"0ee2-7df6\"><div class=\"slick-list draggable\" data-kameleoon-class=\"ef90-162c\"><div class=\"slick-track\" style=\"opacity: 1; width: 641px; transform: translate3d(0px, 0px, 0px);\" data-kameleoon-class=\"f6da-a1ef\"><div class=\"slick-slide slick-current slick-active\" data-slick-index=\"0\" aria-hidden=\"false\" style=\"width: 641px;\" data-kameleoon-class=\"987a-faa4\"><div data-kameleoon-class=\"97ef-1bdd\"><div class=\"slider__slide\" style=\"width: 100%; display: inline-block;\" id=\"\" data-kameleoon-class=\"592a-86e8\">\n\t<a href=\"https://image-tc.galaxy.tf/wijpeg-987nrqhxkxpa6hykp5odomwps/falkensteiner-hotels-residences-prepaid-rate-980x980.jpg?width=800\" class=\"slider__slide-image ratio-container\" tabindex=\"0\" data-kameleoon-class=\"d197-c8c0\">\n\t\t<img src=\"https://image-tc.galaxy.tf/wijpeg-987nrqhxkxpa6hykp5odomwps/falkensteiner-hotels-residences-prepaid-rate-980x980.jpg?width=800\" alt=\"\" class=\"ratio-media\" loading=\"lazy\" data-kameleoon-class=\"5c0b-effb\">\n\t</a><!-- /.slider__slide-image -->\n</div></div></div></div></div></div><!-- /.slider__slides -->\n\n\t\t\t\t\t<div class=\"paging\" data-kameleoon-class=\"7e94-a462\">\n\t<div class=\"paging__arrows\" data-kameleoon-class=\"c775-273f\">\n\t\t<button type=\"button\" class=\"paging__prev slick-arrow slick-hidden\" aria-label=\"Prev Slide\" aria-disabled=\"true\" tabindex=\"-1\" data-kameleoon-class=\"5311-70ed\">\n\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"13.8\" height=\"24.6\" viewBox=\"0 0 13.08 24.6\" data-kameleoon-class=\"d7c0-3536\">\n\t\t\t\t<path d=\"M13.08 22.758l-9.455-9.927L13.08 2.9 11.266 1-.004 12.831l1.814 1.9 9.455 9.927z\" fill=\"currentColor\" data-kameleoon-class=\"7577-0a61\"></path>\n\t\t\t</svg>\n\t\t</button>\n\n\t\t<button type=\"button\" class=\"paging__next slick-arrow slick-hidden\" aria-label=\"Next Slide\" aria-disabled=\"true\" tabindex=\"-1\" data-kameleoon-class=\"d695-17b1\">\n\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"13.8\" height=\"24.6\" viewBox=\"0 0 13.08 24.6\" data-kameleoon-class=\"8d0a-1365\">\n\t\t\t\t<path d=\"M0 2.902l9.455 9.927L0 22.76l1.814 1.9 11.27-11.831-1.814-1.9-9.455-9.927z\" fill=\"currentColor\" data-kameleoon-class=\"363f-80b2\"></path>\n\t\t\t</svg>\n\t\t</button>\n\t</div><!-- /.paging__arrows -->\n\n\t<div class=\"paging__dots\" data-kameleoon-class=\"d7db-effe\"></div><!-- /.paging__dots -->\n</div><!-- /.paging -->\n\t\t\t\t</div><!-- /.slider__clip -->\n\t\t\t</div><!-- /.slider-images -->\n\t\t</aside><!-- /.section__aside -->\n\n\t\t\t<div class=\"section__content\" data-kameleoon-class=\"5df8-d297\">\n\t\t\t\t<article class=\"article\" data-kameleoon-class=\"ad39-301e\">\n\t\t\t\t\t<header class=\"article__head \" data-kameleoon-class=\"f155-d088\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t<h2 class=\"h3 text-uppercase article__title \" tabindex=\"0\" data-kameleoon-class=\"5581-0582\">PREPAID RATE</h2><!-- /.article__title -->\n\t\t\t\t\t\t\n\n\t\t\t\t\t\t\n\t\t\t\t\t</header><!-- /.article__head -->\n\n\t\t\t\t\t<div class=\"article__body\" data-kameleoon-class=\"0109-303b\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div class=\"article__entry\" tabindex=\"0\" data-kameleoon-class=\"e5ed-50c0\">\n\t\t\t\t\t\t\t\t<p id=\"\" data-kameleoon-class=\"a7c6-dd16\">Whether relaxing or action-packed - a holiday with us is always all about enjoyment. To increase your anticipation to your summer holiday even more, we have created a special rate for you that gives you a price advantage of&nbsp;<strong data-kameleoon-class=\"452c-035f\">up to 15&nbsp;%</strong>&nbsp;if you pay in advance. As a Spirit Club member, you even benefit from a further&nbsp;<strong data-kameleoon-class=\"61a7-6823\">5% discount</strong>.&nbsp;</p>\n\n<ul id=\"\" data-kameleoon-class=\"1e2b-9275\">\n\t<li data-kameleoon-class=\"a838-838a\">Best price guarantee: If you pay the entire price of your overnight stay in advance, you will receive a<strong data-kameleoon-class=\"77aa-e244\"> discount of up to 20&nbsp;% </strong>and thus secure the best price.&nbsp;</li>\n\t<li data-kameleoon-class=\"4abc-d5e3\">Please note that due to the special conditions of this offer, refunds are not possible in the event of cancellation.&nbsp;</li>\n\t<li data-kameleoon-class=\"7535-03a3\">The booking period varies depending on the hotel and will be shown during the booking process.&nbsp;</li>\n</ul>\n\n\t\t\t\t\t\t\t</div><!-- /.article__entry -->\n\t\t\t\t\t\t\n\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div class=\"article__actions\" data-kameleoon-class=\"cfba-22cf\">\n\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\t<!-- class=\"btn \" -->\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<a href=\"/en/offers/pay-save-stay&amp;kameleoonSelectedVariationId=963098&amp;experimentId=244582&amp;kameleoonReplica=false\" class=\"\n\t\t\t\t\t\t\t\t\tbtn\n\t\t\t\t\t\t\t\t\t\" aria-label=\"Book now \" data-kameleoon-class=\"19b8-22f9\">\n\t\t\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\t\t\t<span class=\"btn__text\" data-kameleoon-class=\"7506-89d0\">Book now</span>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div><!-- /.article__actions -->\n\t\t\t\t\t\t\n\t\t\t\t\t</div><!-- /.article__body -->\n\t\t\t\t</article><!-- /.article -->\n\t\t\t</div><!-- /.section__content -->\n\t\t</div><!-- /.section__container -->\n\t</div><!-- /.container -->\n</section>","idSelector":true,"domOperation":"INSERT_AFTER","domReference":"#main > section:nth-of-type(2)","selector":"#kameleoonElement3756531"},"currentQuery":null},{"selector":"#kameleoonElement3756531 > div:first-child > div:first-child > aside:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > a:first-child > img:first-child","options":{"kameleoonId":3758447,"autoGeneratedSelector":true,"replaceHtmlContent":"<img kameleoon=\"copyAttributes\" src=\"https://wltzown6uo.kameleoon.eu/images/215081-0fc047a8-e4a2-4fcb-8199-5456f285f61a.jpg\" />","selector":"#kameleoonId3758447, [data-kameleoon-id=\"3758447\"]"},"currentQuery":"#kameleoonElement3756531 > div:first-child > div:first-child > aside:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > a:first-child > img:first-child"},{"selector":"#kameleoonElement3756531 > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > header:first-child > h2:first-child","options":{"htmlContent":"FAMILY SUMMER HOLIDAY","kameleoonId":3758449,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758449, [data-kameleoon-id=\"3758449\"]"},"currentQuery":"#kameleoonElement3756531 > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > header:first-child > h2:first-child"},{"selector":"#kameleoonElement3756531 > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > p:first-child","options":{"htmlContent":"At Falkensteiner we like to combine adventures with relaxation. With a varied programme for families, boredom is never a chance! Why take the family to Falkensteiner?","kameleoonId":3758451,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758451, [data-kameleoon-id=\"3758451\"]"},"currentQuery":"#kameleoonElement3756531 > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > p:first-child"},{"selector":"#kameleoonElement3756531 > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > ul:nth-of-type(1)","options":{"htmlContent":"\n\t<li data-kameleoon-class=\"a838-838a\">An adventurous, fun and educational animation programme from babies to teenagers</li>\n\t<li data-kameleoon-class=\"4abc-d5e3\">Discounted overnight rates for children (depending on the hotel and season)</li>\n\t<li data-kameleoon-class=\"7535-03a3\">Family rooms with additional amenities</li>\n\t<li data-kameleoon-class=\"7535-03a3\">Falky Land children's play area</li>\n\t<li data-kameleoon-class=\"7535-03a3\">Water worlds and children's spa with treatments for children (depending on the hotel)</li>\n\t<li data-kameleoon-class=\"7535-03a3\">... and much more</li>\n","kameleoonId":3758454,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758454, [data-kameleoon-id=\"3758454\"]"},"currentQuery":"#kameleoonElement3756531 > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > ul:nth-of-type(1)"},{"selector":"#kameleoonElement3756531 > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > ul:nth-of-type(1) > li:nth-of-type(2)","options":{"htmlContent":"Discounted overnight rates for children*","kameleoonId":3758456,"autoGeneratedSelector":true,"selector":"#kameleoonId3758456, [data-kameleoon-id=\"3758456\"]"},"currentQuery":"#kameleoonId3756535 > li:nth-of-type(2)"},{"selector":"#kameleoonElement3756531 > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > ul:nth-of-type(1) > li:nth-of-type(5)","options":{"htmlContent":"Water worlds and children's spa with treatments for children*","kameleoonId":3758458,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758458, [data-kameleoon-id=\"3758458\"]"},"currentQuery":"#kameleoonId3756535 > li:nth-of-type(5)"},{"selector":"#kameleoonElement3756531 > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child","options":{"htmlContent":"\n<p data-kameleoon-class=\"a7c6-dd16\" id=\"\">At Falkensteiner we like to combine adventures with relaxation. With a varied programme for families, boredom is never a chance! Why take the family to Falkensteiner?</p>\n\n<ul data-kameleoon-class=\"1e2b-9275\" id=\"\">\n\t<li data-kameleoon-class=\"a838-838a\">An adventurous, fun and educational animation programme from babies to teenagers</li>\n\t<li data-kameleoon-class=\"4abc-d5e3\" id=\"\">Discounted overnight rates for children*</li>\n\t<li data-kameleoon-class=\"7535-03a3\">Family rooms with additional amenities</li>\n\t<li data-kameleoon-class=\"7535-03a3\">Falky Land children's play area</li>\n\t<li data-kameleoon-class=\"7535-03a3\" id=\"\">Water worlds and children's spa with treatments for children*</li>\n</ul>\n*depending on the hotel and season","kameleoonId":3758461,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758461, [data-kameleoon-id=\"3758461\"]"},"currentQuery":"#kameleoonElement3756531 > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child"},{"selector":"#kameleoonElement3756531 > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > ul:nth-of-type(1) > li:first-child","options":{"htmlContent":"An adventurous, fun and educational animation programme","kameleoonId":3758463,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758463, [data-kameleoon-id=\"3758463\"]"},"currentQuery":"#kameleoonId3756538 > ul:nth-of-type(1) > li:first-child"},{"selector":"#kameleoonElement3756531 > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:nth-of-type(2) > a:first-child","options":{"kameleoonId":3758465,"autoGeneratedSelector":true,"href":"/en/inspiration/family&kameleoonSelectedVariationId=963098&experimentId=244582&kameleoonReplica=false","selector":"#kameleoonId3758465, [data-kameleoon-id=\"3758465\"]"},"currentQuery":"#kameleoonElement3756531 > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:nth-of-type(2) > a:first-child"}]},{"name":"Variante 2","id":963099,"css":"#kameleoonId3758326,[data-kameleoon-id=\"3758326\"]{display:none!important}#kameleoonId3758327,[data-kameleoon-id=\"3758327\"]{display:none!important}#kameleoonId3758332,[data-kameleoon-id=\"3758332\"]{display:none!important}#kameleoonId3758333,[data-kameleoon-id=\"3758333\"]{display:none!important}#kameleoonId3758334,[data-kameleoon-id=\"3758334\"]{display:none!important}#kameleoonId3758349,[data-kameleoon-id=\"3758349\"]{height:919.041px!important;width:2372px!important;max-width:100%!important}#kameleoonId3758350,[data-kameleoon-id=\"3758350\"]{height:919.903px!important;width:2371px!important}#kameleoonId3758352,[data-kameleoon-id=\"3758352\"]{border:none!important;letter-spacing:normal!important;opacity:1!important;background-color:transparent!important;background-image:none!important;border-radius:0 0 0 0!important;color:#333!important;font-size:17px!important;line-height:1.45em!important;padding:0!important;margin-top:calc(30px + 0px)!important;margin-bottom:calc(30px + 0px)!important;margin-left:calc(0px + 0px)!important;margin-right:calc(0px + 0px)!important;height:auto!important;width:auto!important;z-index:auto!important}#kameleoonElement3754798{border:none!important;letter-spacing:normal!important;opacity:1!important;background-color:transparent!important;background-image:none!important;border-radius:0 0 0 0!important;color:#333!important;font-size:17px!important;line-height:1.45em!important;padding:0!important;margin-top:calc(30px + 0px)!important;margin-bottom:calc(30px + 0px)!important;margin-left:calc(0px + 0px)!important;margin-right:calc(0px + 0px)!important;height:auto!important;width:auto!important;z-index:auto!important}#kameleoonId3758354,[data-kameleoon-id=\"3758354\"]{border:none!important;letter-spacing:normal!important;opacity:1!important;background-color:transparent!important;background-image:none!important;border-radius:0 0 0 0!important;color:#333!important;font-size:17px!important;line-height:1.45em!important;padding:50px!important;margin:calc(0px + 0px)!important;z-index:auto!important;top:-3px!important;left:-5px!important;right:auto!important;position:relative}#kameleoonId3758355,[data-kameleoon-id=\"3758355\"]{line-height:1.2em!important}#kameleoonId3758356,[data-kameleoon-id=\"3758356\"]{display:none!important}#kameleoonId3758357,[data-kameleoon-id=\"3758357\"]{display:none!important}#kameleoonElement3754803{border:none!important;letter-spacing:normal!important;opacity:1!important;background-color:transparent!important;background-image:none!important;border-radius:0 0 0 0!important;color:#fff!important;font-size:0px!important;line-height:1.2em!important;padding:0!important;margin:calc(0px + 0px)!important;height:auto!important;width:auto!important;z-index:auto!important}#kameleoonId3758360,[data-kameleoon-id=\"3758360\"]{display:none!important}#kameleoonId3758361,[data-kameleoon-id=\"3758361\"]{display:none!important}#kameleoonId3758362,[data-kameleoon-id=\"3758362\"]{display:none!important}#kameleoonId3758363,[data-kameleoon-id=\"3758363\"]{display:none!important}#kameleoonId3758364,[data-kameleoon-id=\"3758364\"]{height:652px!important;width:639.04px!important}#kameleoonId3758365,[data-kameleoon-id=\"3758365\"]{display:none!important}#kameleoonId3758366,[data-kameleoon-id=\"3758366\"]{display:none!important}#kameleoonId3758377,[data-kameleoon-id=\"3758377\"]{height:385px!important;width:641px!important}#kameleoonId3758378,[data-kameleoon-id=\"3758378\"]{display:none!important}#kameleoonId3758379,[data-kameleoon-id=\"3758379\"]{display:none!important}","elementSets":[{"selector":"#main > div:nth-of-type(2) > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > header:first-child > h1:first-child","options":{"htmlContent":"Léto s Falkensteinerem.","kameleoonId":3758320,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758320, [data-kameleoon-id=\"3758320\"]"},"currentQuery":"#main > div:nth-of-type(2) > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > header:first-child > h1:first-child"},{"selector":"#main > div:nth-of-type(2) > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > header:first-child > h2:nth-of-type(1)","options":{"htmlContent":"Dovolená, po které toužíte.","kameleoonId":3758321,"autoGeneratedSelector":true,"selector":"#kameleoonId3758321, [data-kameleoon-id=\"3758321\"]"},"currentQuery":"#main > div:nth-of-type(2) > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > header:first-child > h2:nth-of-type(1)"},{"selector":"#main > div:nth-of-type(2) > div:first-child > div:first-child > div:first-child > div:first-child > div:nth-of-type(2) > div:first-child > p:first-child","options":{"htmlContent":"Zažijte dokonalou kombinaci individuality a kvality ve více než 30 prémiových hotelech a rezidencích v oblíbených plážových a horských destinacích. Splníme představy všech typů dovolené - od rodinných dobrodružství až po romantické pobyty v hotelech pouze pro dospělé.<br data-kameleoon-class=\"8f61-fc2c\">\n<br data-kameleoon-class=\"61f5-afec\">\nCHORVATSKO | ITÁLIE | JIŽNÍ TYROLSKO | RAKOUSKO | ČESKO | SLOVENSKO | SRBSKO","kameleoonId":3758322,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758322, [data-kameleoon-id=\"3758322\"]"},"currentQuery":"#main > div:nth-of-type(2) > div:first-child > div:first-child > div:first-child > div:first-child > div:nth-of-type(2) > div:first-child > p:first-child"},{"selector":"#main > section:nth-of-type(1) > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > header:first-child > h2:first-child","options":{"htmlContent":"ZAPLAŤTE NYNÍ A UŠETŘETE","kameleoonId":3758323,"autoGeneratedSelector":true,"selector":"#kameleoonId3758323, [data-kameleoon-id=\"3758323\"]"},"currentQuery":"#main > section:nth-of-type(1) > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > header:first-child > h2:first-child"},{"selector":"#main > section:nth-of-type(1) > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > p:first-child","options":{"replaceHtmlContent":"<div data-kameleoon-class=\"b149-faf1\">Ať už se jedná o odpočinkovou nebo akční dovolenou – dovolená s námi je vždy o požitku. Abychom navýšili vaše očekávání na letní dovolenou, připravili jsme pro vás speciální nabídku: při platbě předem můžete ušetřit až 15 %. Pokud se stanete členem Spirit Clubu dostanete dodatečnou 5% slevu.<br data-kameleoon-class=\"309c-f173\">\n<br data-kameleoon-class=\"5e28-7897\">\nZáruka nejlepší ceny:<br data-kameleoon-class=\"225c-b3fd\">\n&nbsp;</div>","kameleoonId":3758324,"autoGeneratedSelector":true,"selector":"#kameleoonId3758324, [data-kameleoon-id=\"3758324\"]"},"currentQuery":"#main > section:nth-of-type(1) > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > p:first-child"},{"selector":"#main > section:nth-of-type(1) > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > ul:nth-of-type(1)","options":{"htmlContent":"\n\t<li style=\"\" data-kameleoon-class=\"e994-620e\">Při platbě předem ušetříte až 15 %</li><li style=\"\" data-kameleoon-class=\"198e-7100\">Termíny včasné rezervace se mohou lišit hotel od hotelu</li>\n\t<li data-kameleoon-class=\"ffba-d7ba\">Please note that due to the special conditions of this offer, refunds are not possible in the event of cancellation.&nbsp;</li>\n\t<li data-kameleoon-class=\"19d9-2602\">The booking period varies depending on the hotel and will be shown during the booking process.&nbsp;</li>\n","kameleoonId":3758325,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758325, [data-kameleoon-id=\"3758325\"]"},"currentQuery":"#main > section:nth-of-type(1) > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > ul:nth-of-type(1)"},{"selector":"#main > section:nth-of-type(1) > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > ul:nth-of-type(1) > li:nth-of-type(3)","options":{"kameleoonId":3758326,"autoGeneratedSelector":true,"selector":"#kameleoonId3758326, [data-kameleoon-id=\"3758326\"]"},"currentQuery":"#kameleoonId3752524 > li:nth-of-type(3)"},{"selector":"#main > section:nth-of-type(1) > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > ul:nth-of-type(1) > li:nth-of-type(4)","options":{"kameleoonId":3758327,"autoGeneratedSelector":true,"selector":"#kameleoonId3758327, [data-kameleoon-id=\"3758327\"]"},"currentQuery":"#kameleoonId3752524 > li:nth-of-type(4)"},{"selector":"#main > section:nth-of-type(1) > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:nth-of-type(2) > a:first-child > span:first-child","options":{"htmlContent":"ZJISTIT VÍCE","kameleoonId":3758328,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758328, [data-kameleoon-id=\"3758328\"]"},"currentQuery":"#main > section:nth-of-type(1) > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:nth-of-type(2) > a:first-child > span:first-child"},{"selector":"#main > section:nth-of-type(2) > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > header:first-child > h2:first-child","options":{"htmlContent":"SUNSHINE SPECIAL","kameleoonId":3758329,"autoGeneratedSelector":true,"selector":"#kameleoonId3758329, [data-kameleoon-id=\"3758329\"]"},"currentQuery":"#main > section:nth-of-type(2) > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > header:first-child > h2:first-child"},{"selector":"#main > section:nth-of-type(2) > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > p:first-child","options":{"htmlContent":"Hotely a rezidence Falkensteiner v Chorvatsku, obklopené jedinečnou přírodou a s fascinujícím výhledem na moře, nabízejí to nejlepší prostředí pro komplexní dovolenou. Rezervujte si je nyní a využijte těch nejlepších podmínek!","kameleoonId":3758330,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758330, [data-kameleoon-id=\"3758330\"]"},"currentQuery":"#main > section:nth-of-type(2) > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > p:first-child"},{"selector":"#main > section:nth-of-type(2) > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > ul:nth-of-type(1)","options":{"htmlContent":"\n\t<li style=\"\" data-kameleoon-class=\"4f61-7a1a\">Ušetřete 10 % na rezervace do konce června.</li><li style=\"\" data-kameleoon-class=\"f805-1e3f\">Zajistěte si větší flexibilitu*</li>\n\t<li data-kameleoon-class=\"d101-d5e2\">Secure more flexibility*&nbsp;</li>\n\t<li data-kameleoon-class=\"3d67-b565\">Bookable from 2&nbsp;nights&nbsp;</li>\n\t<li data-kameleoon-class=\"3b8e-f00f\">Limited offer subject to availability</li>\n","kameleoonId":3758331,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758331, [data-kameleoon-id=\"3758331\"]"},"currentQuery":"#main > section:nth-of-type(2) > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > ul:nth-of-type(1)"},{"selector":"#main > section:nth-of-type(2) > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > ul:nth-of-type(1) > li:nth-of-type(3)","options":{"kameleoonId":3758332,"autoGeneratedSelector":true,"selector":"#kameleoonId3758332, [data-kameleoon-id=\"3758332\"]"},"currentQuery":"#kameleoonId3752530 > li:nth-of-type(3)"},{"selector":"#main > section:nth-of-type(2) > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > ul:nth-of-type(1) > li:nth-of-type(4)","options":{"kameleoonId":3758333,"autoGeneratedSelector":true,"selector":"#kameleoonId3758333, [data-kameleoon-id=\"3758333\"]"},"currentQuery":"#kameleoonId3752530 > li:nth-of-type(4)"},{"selector":"#main > section:nth-of-type(2) > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > ul:nth-of-type(1) > li:nth-of-type(5)","options":{"kameleoonId":3758334,"autoGeneratedSelector":true,"selector":"#kameleoonId3758334, [data-kameleoon-id=\"3758334\"]"},"currentQuery":"#kameleoonId3752530 > li:nth-of-type(5)"},{"selector":"#main > section:nth-of-type(2) > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:nth-of-type(2) > a:first-child > span:first-child","options":{"htmlContent":"ZJISTIT VÍCE","kameleoonId":3758335,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758335, [data-kameleoon-id=\"3758335\"]"},"currentQuery":"#main > section:nth-of-type(2) > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:nth-of-type(2) > a:first-child > span:first-child"},{"selector":"#main > div:nth-of-type(4) > div:nth-of-type(1) > section:first-child > div:first-child > header:first-child > h3:first-child","options":{"htmlContent":"HOTELY U MOŘE","kameleoonId":3758336,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758336, [data-kameleoon-id=\"3758336\"]"},"currentQuery":"#main > div:nth-of-type(4) > div:nth-of-type(1) > section:first-child > div:first-child > header:first-child > h3:first-child"},{"selector":"#main > section:nth-of-type(1) > div:first-child > div:first-child > aside:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child","options":{"htmlContent":"<img data-kameleoon-class=\"ed2a-e3b4\" src=\"https://wltzown6uo.kameleoon.eu/images/213949-5778b9da-6e4e-4f5f-a417-34ae4e0158bb.jpg\"><!-- /.slider__slide-image -->","kameleoonId":3758337,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758337, [data-kameleoon-id=\"3758337\"]"},"currentQuery":"#main > section:nth-of-type(1) > div:first-child > div:first-child > aside:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child"},{"selector":"#main > section:nth-of-type(2) > div:first-child > div:first-child > aside:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child","options":{"htmlContent":"<img src=\"https://wltzown6uo.kameleoon.eu/images/213950-47265c6d-3de7-4f58-844a-68314df035d7.jpg\" data-kameleoon-class=\"cda9-8a2c\"><!-- /.slider__slide-image -->","kameleoonId":3758338,"autoGeneratedSelector":true,"selector":"#kameleoonId3758338, [data-kameleoon-id=\"3758338\"]"},"currentQuery":"#main > section:nth-of-type(2) > div:first-child > div:first-child > aside:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child"},{"selector":"#main > div:nth-of-type(4) > div:nth-of-type(1) > section:first-child > div:first-child > header:first-child > h4:nth-of-type(1)","options":{"htmlContent":"Od Zadaru přes Krk až po Sardinii či Kalábrii - máme pro vás vaše oblíbené destinace. Nechte se hýčkat čerstvým mořským vzduchem, ponořte se do svěží slané vody a nechte jemný písek masírovat vaše nohy. Ve Falkensteiner hotelech a residencích na vás čeká letní dovolená v pravém slova smyslu.","kameleoonId":3758339,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758339, [data-kameleoon-id=\"3758339\"]"},"currentQuery":"#main > div:nth-of-type(4) > div:nth-of-type(1) > section:first-child > div:first-child > header:first-child > h4:nth-of-type(1)"},{"selector":"#main > div:nth-of-type(5) > div:nth-of-type(1) > section:first-child > div:first-child > header:first-child > h3:first-child","options":{"htmlContent":"HOTELY V HORÁCH","kameleoonId":3758340,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758340, [data-kameleoon-id=\"3758340\"]"},"currentQuery":"#main > div:nth-of-type(5) > div:nth-of-type(1) > section:first-child > div:first-child > header:first-child > h3:first-child"},{"selector":"#main > div:nth-of-type(5) > div:nth-of-type(1) > section:first-child > div:first-child > header:first-child > h4:nth-of-type(1)","options":{"htmlContent":"Všechny hotely Falkensteiner nabízejí úchvatné výhledy na horské panoramata Rakouska a Jižního Tyrolska. Milovníci hor se u nás budou cítit jako doma. Vyberte si z široké nabídky aktivit v okolí a následně odpočívejte ve wellness obklopeny rozkvetlou přírodou.","kameleoonId":3758341,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758341, [data-kameleoon-id=\"3758341\"]"},"currentQuery":"#main > div:nth-of-type(5) > div:nth-of-type(1) > section:first-child > div:first-child > header:first-child > h4:nth-of-type(1)"},{"selector":"#main > div:nth-of-type(6) > div:nth-of-type(1) > section:first-child > div:first-child > header:first-child > h3:first-child","options":{"htmlContent":"WELLNESS HOTELY","kameleoonId":3758342,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758342, [data-kameleoon-id=\"3758342\"]"},"currentQuery":"#main > div:nth-of-type(6) > div:nth-of-type(1) > section:first-child > div:first-child > header:first-child > h3:first-child"},{"selector":"#main > div:nth-of-type(6) > div:nth-of-type(1) > section:first-child > div:first-child > header:first-child > h4:nth-of-type(1)","options":{"htmlContent":"Samozřejmostí je, že Falkensteiner nabízí i absolutní relaxaci během letní dovolené: Ať už v Rakousku nebo v České republice, naše wellness hotely vás přivítají ve světě klidu a relaxace. Nechte se hýčkat rozsáhlými wellness možnostmi, lekcí jógy a vyváženou kuchyní.","kameleoonId":3758343,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758343, [data-kameleoon-id=\"3758343\"]"},"currentQuery":"#main > div:nth-of-type(6) > div:nth-of-type(1) > section:first-child > div:first-child > header:first-child > h4:nth-of-type(1)"},{"selector":"#main > div:nth-of-type(7) > div:nth-of-type(1) > section:first-child > div:first-child > header:first-child > h4:nth-of-type(1)","options":{"htmlContent":"Někdy se prostě chcete dostat přímo do centra dění a poznat novou kulturu zblízka. V našich městských hotelech v Bratislavě, Praze a Bělehradě můžete využít ideální polohu pro objevování místních památek. V městských hotelech nechybí odpočinek ve wellness a prvotřídní gastronomické zážitky.","kameleoonId":3758344,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758344, [data-kameleoon-id=\"3758344\"]"},"currentQuery":"#main > div:nth-of-type(7) > div:nth-of-type(1) > section:first-child > div:first-child > header:first-child > h4:nth-of-type(1)"},{"selector":"#main > section:nth-of-type(3) > div:first-child > div:first-child > header:first-child > h3:first-child","options":{"htmlContent":"NECHTE SE INSPIROVAT","kameleoonId":3758345,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758345, [data-kameleoon-id=\"3758345\"]"},"currentQuery":"#main > section:nth-of-type(3) > div:first-child > div:first-child > header:first-child > h3:first-child"},{"selector":"#main > section:nth-of-type(3) > div:first-child > div:first-child > header:first-child > h2:nth-of-type(1)","options":{"htmlContent":"Všichni se těšíme na léto. Abyste si čekání zkrátili, začněte plánovat nezapomenutelné chvíle už teď. Nechte se inspirovat naším cestovatelským blogem Falkensteiner a vyberte si ty správné gastronomické zážitky, aktivity a zajímavosti, které doplní vaši letní dovolenou.","kameleoonId":3758346,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758346, [data-kameleoon-id=\"3758346\"]"},"currentQuery":"#main > section:nth-of-type(3) > div:first-child > div:first-child > header:first-child > h2:nth-of-type(1)"},{"selector":"#main > div:nth-of-type(3) > center:nth-of-type(1)","options":{"htmlContent":"*Vezměte prosím na vědomí individuální storno podmínky hotelu a podmínky rezervace.","kameleoonId":3758347,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758347, [data-kameleoon-id=\"3758347\"]"},"currentQuery":"#main > div:nth-of-type(3) > center:nth-of-type(1)"},{"selector":"#main > div:nth-of-type(4) > div:nth-of-type(1) > section:first-child > div:first-child > div:nth-of-type(1) > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:nth-of-type(6) > div:first-child > div:first-child > div:first-child","options":{"kameleoonId":3758348,"autoGeneratedSelector":true,"selector":"#kameleoonId3758348, [data-kameleoon-id=\"3758348\"]"},"currentQuery":"#main > div:nth-of-type(4) > div:nth-of-type(1) > section:first-child > div:first-child > div:nth-of-type(1) > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:nth-of-type(6) > div:first-child > div:first-child > div:first-child"},{"selector":"#slick-slide00 > div:first-child > div:first-child > picture:first-child > img:nth-of-type(1)","options":{"kameleoonId":3758349,"autoGeneratedSelector":true,"replaceHtmlContent":"<img kameleoon=\"copyAttributes\" src=\"https://wltzown6uo.kameleoon.eu/images/214509-7cca8e80-cd2d-43e8-92b5-226d41f1f356.jpg\" />","selector":"#kameleoonId3758349, [data-kameleoon-id=\"3758349\"]"},"currentQuery":"#slick-slide00 > div:first-child > div:first-child > picture:first-child > img:nth-of-type(1)"},{"selector":"#slick-slide01 > div:first-child > div:first-child > picture:first-child > img:nth-of-type(1)","options":{"kameleoonId":3758350,"autoGeneratedSelector":true,"replaceHtmlContent":"<img kameleoon=\"copyAttributes\" src=\"https://wltzown6uo.kameleoon.eu/images/214466-135f6055-3903-4c10-91b8-a5f29a700a1e.jpg\" />","selector":"#kameleoonId3758350, [data-kameleoon-id=\"3758350\"]"},"currentQuery":"#slick-slide01 > div:first-child > div:first-child > picture:first-child > img:nth-of-type(1)"},{"selector":"#slick-slide02 > div:first-child > div:first-child > picture:first-child > img:nth-of-type(1)","options":{"kameleoonId":3758351,"autoGeneratedSelector":true,"selector":"#kameleoonId3758351, [data-kameleoon-id=\"3758351\"]"},"currentQuery":"#slick-slide02 > div:first-child > div:first-child > picture:first-child > img:nth-of-type(1)"},{"selector":"#main > section:nth-of-type(1)","options":{"kameleoonId":3758352,"autoGeneratedSelector":true,"selector":"#kameleoonId3758352, [data-kameleoon-id=\"3758352\"]"},"currentQuery":"#main > section:nth-of-type(1)"},{"selector":"#kameleoonElement3754798","options":{"replaceHtmlContent":"<section class=\"section-halfpane text-image-gallery \" data-cms=\"text-image-gallery\" data-anchor=\"\" style=\"margin-top: 30px; margin-bottom: 30px;\" data-kameleoon-class=\"f261-e8c0\">\n\t<div class=\"container container--full-mobile\" data-kameleoon-class=\"1d57-4a89\">\n\t\t<div class=\"section__container \n\n\nbg-secondary\n\n\n\" data-kameleoon-class=\"a21f-8518\">\n\t\t\t<aside class=\"section__aside\" data-kameleoon-class=\"3d10-a328\">\n\t\t\t\t<div class=\"slider-images\" data-kameleoon-class=\"4673-5b9a\"> \n\t\t\t\t\t<div class=\"slider__clip\" data-kameleoon-class=\"a770-bc75\">\n\t\t\t\t\t\t<div class=\"slider__slides slick-initialized slick-slider\" data-kameleoon-class=\"b0e4-5d80\"><div class=\"slick-list draggable\" data-kameleoon-class=\"dbe9-b0d3\"><div class=\"slick-track\" style=\"opacity: 1; width: 641px; transform: translate3d(0px, 0px, 0px);\" data-kameleoon-class=\"38e3-b65f\"><div class=\"slick-slide slick-current slick-active\" data-slick-index=\"0\" aria-hidden=\"false\" style=\"width: 641px;\" data-kameleoon-class=\"f914-0068\"><div data-kameleoon-class=\"4274-48da\"><div class=\"slider__slide\" style=\"width: 100%; display: inline-block;\" id=\"\" data-kameleoon-class=\"805c-65b9\"><img data-kameleoon-class=\"ed2a-e3b4\" src=\"https://wltzown6uo.kameleoon.eu/images/213949-5778b9da-6e4e-4f5f-a417-34ae4e0158bb.jpg\"><!-- /.slider__slide-image --></div></div></div></div></div></div><!-- /.slider__slides -->\n\n\t\t\t\t\t<div class=\"paging\" data-kameleoon-class=\"fada-8368\">\n\t<div class=\"paging__arrows\" data-kameleoon-class=\"8c3a-6b6f\">\n\t\t<button type=\"button\" class=\"paging__prev slick-arrow slick-hidden\" aria-label=\"Prev Slide\" aria-disabled=\"true\" tabindex=\"-1\" data-kameleoon-class=\"d4ea-9688\">\n\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"13.8\" height=\"24.6\" viewBox=\"0 0 13.08 24.6\" data-kameleoon-class=\"9646-4343\">\n\t\t\t\t<path d=\"M13.08 22.758l-9.455-9.927L13.08 2.9 11.266 1-.004 12.831l1.814 1.9 9.455 9.927z\" fill=\"currentColor\" data-kameleoon-class=\"4616-2618\"></path>\n\t\t\t</svg>\n\t\t</button>\n\n\t\t<button type=\"button\" class=\"paging__next slick-arrow slick-hidden\" aria-label=\"Next Slide\" aria-disabled=\"true\" tabindex=\"-1\" data-kameleoon-class=\"5e5b-e2dd\">\n\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"13.8\" height=\"24.6\" viewBox=\"0 0 13.08 24.6\" data-kameleoon-class=\"23de-7667\">\n\t\t\t\t<path d=\"M0 2.902l9.455 9.927L0 22.76l1.814 1.9 11.27-11.831-1.814-1.9-9.455-9.927z\" fill=\"currentColor\" data-kameleoon-class=\"bdea-0ba1\"></path>\n\t\t\t</svg>\n\t\t</button>\n\t</div><!-- /.paging__arrows -->\n\n\t<div class=\"paging__dots\" data-kameleoon-class=\"f352-6c05\"></div><!-- /.paging__dots -->\n</div><!-- /.paging -->\n\t\t\t\t</div><!-- /.slider__clip -->\n\t\t\t</div><!-- /.slider-images -->\n\t\t</aside><!-- /.section__aside -->\n\n\t\t\t<div class=\"section__content\" data-kameleoon-class=\"6121-77a7\">\n\t\t\t\t<article class=\"article\" data-kameleoon-class=\"c082-7f23\">\n\t\t\t\t\t<header class=\"article__head \" data-kameleoon-class=\"4b26-b00b\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t<h2 class=\"h3 text-uppercase article__title \" tabindex=\"0\" id=\"\" data-kameleoon-class=\"c8ed-96f4\">ZAPLAŤTE NYNÍ A UŠETŘETE</h2><!-- /.article__title -->\n\t\t\t\t\t\t\n\n\t\t\t\t\t\t\n\t\t\t\t\t</header><!-- /.article__head -->\n\n\t\t\t\t\t<div class=\"article__body\" data-kameleoon-class=\"8192-6b54\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div class=\"article__entry\" tabindex=\"0\" data-kameleoon-class=\"528e-dfe0\">\n\t\t\t\t\t\t\t\t<div data-kameleoon-class=\"b149-faf1\" id=\"\">Ať už se jedná o odpočinkovou nebo akční dovolenou – dovolená s námi je vždy o požitku. Abychom navýšili vaše očekávání na letní dovolenou, připravili jsme pro vás speciální nabídku: při platbě předem můžete ušetřit až 15 %. Pokud se stanete členem Spirit Clubu dostanete dodatečnou 5% slevu.<br data-kameleoon-class=\"309c-f173\">\n<br data-kameleoon-class=\"5e28-7897\">\nZáruka nejlepší ceny:<br data-kameleoon-class=\"225c-b3fd\">\n&nbsp;</div>\n\n<ul id=\"\" data-kameleoon-class=\"08bc-c84e\">\n\t<li style=\"\" data-kameleoon-class=\"e994-620e\">Při platbě předem ušetříte až 15 %</li><li style=\"\" data-kameleoon-class=\"198e-7100\">Termíny včasné rezervace se mohou lišit hotel od hotelu</li>\n\t<li data-kameleoon-class=\"ffba-d7ba\" id=\"\">Please note that due to the special conditions of this offer, refunds are not possible in the event of cancellation.&nbsp;</li>\n\t<li data-kameleoon-class=\"19d9-2602\" id=\"\">The booking period varies depending on the hotel and will be shown during the booking process.&nbsp;</li>\n</ul>\n\n\t\t\t\t\t\t\t</div><!-- /.article__entry -->\n\t\t\t\t\t\t\n\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div class=\"article__actions\" data-kameleoon-class=\"9406-7a56\">\n\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\t<!-- class=\"btn \" -->\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<a href=\"/en/offers/pay-save-stay&amp;kameleoonSelectedVariationId=963098&amp;experimentId=244582&amp;kameleoonReplica=false\" class=\"\n\t\t\t\t\t\t\t\t\tbtn\n\t\t\t\t\t\t\t\t\t\" aria-label=\"Book now \" data-kameleoon-class=\"5b8e-624b\">\n\t\t\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\t\t\t<span class=\"btn__text\" id=\"\" data-kameleoon-class=\"7798-35b6\">ZJISTIT VÍCE</span>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div><!-- /.article__actions -->\n\t\t\t\t\t\t\n\t\t\t\t\t</div><!-- /.article__body -->\n\t\t\t\t</article><!-- /.article -->\n\t\t\t</div><!-- /.section__content -->\n\t\t</div><!-- /.section__container -->\n\t</div><!-- /.container -->\n</section>","idSelector":true,"domOperation":"INSERT_AFTER","domReference":"#main > section:nth-of-type(2)","selector":"#kameleoonElement3754798"},"currentQuery":null},{"selector":"#kameleoonElement3754798 > div:first-child > div:first-child > div:nth-of-type(1)","options":{"kameleoonId":3758354,"autoGeneratedSelector":true,"userPosition":{"positionMode":"RELATIVE"},"selector":"#kameleoonId3758354, [data-kameleoon-id=\"3758354\"]"},"currentQuery":"#kameleoonElement3754798 > div:first-child > div:first-child > div:nth-of-type(1)"},{"selector":"#kameleoonElement3754798 > div:first-child > div:first-child","options":{"kameleoonId":3758355,"autoGeneratedSelector":true,"selector":"#kameleoonId3758355, [data-kameleoon-id=\"3758355\"]"},"currentQuery":"#kameleoonElement3754798 > div:first-child > div:first-child"},{"selector":"#kameleoonElement3754798 > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > ul:nth-of-type(1) > li:nth-of-type(3)","options":{"kameleoonId":3758356,"autoGeneratedSelector":true,"selector":"#kameleoonId3758356, [data-kameleoon-id=\"3758356\"]"},"currentQuery":"#kameleoonId3754799 > article:first-child > div:nth-of-type(1) > div:first-child > ul:nth-of-type(1) > li:nth-of-type(3)"},{"selector":"#kameleoonElement3754798 > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > ul:nth-of-type(1) > li:nth-of-type(4)","options":{"kameleoonId":3758357,"autoGeneratedSelector":true,"selector":"#kameleoonId3758357, [data-kameleoon-id=\"3758357\"]"},"currentQuery":"#kameleoonId3754799 > article:first-child > div:nth-of-type(1) > div:first-child > ul:nth-of-type(1) > li:nth-of-type(4)"},{"selector":"#kameleoonElement3754803","options":{"idSelector":true,"selector":"#kameleoonElement3754803"},"currentQuery":null},{"selector":"#kameleoonElement3754798 > div:first-child > div:first-child > aside:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > img:first-child","options":{"kameleoonId":3758359,"autoGeneratedSelector":true,"replaceHtmlContent":"<img kameleoon=\"copyAttributes\" src=\"https://wltzown6uo.kameleoon.eu/images/214516-fb0fdd80-c713-4404-8a7b-0f61b8daedf2.jpg\" />","selector":"#kameleoonId3758359, [data-kameleoon-id=\"3758359\"]"},"currentQuery":"#kameleoonId3754800 > aside:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > img:first-child"},{"selector":"#slick-slide02 > div:first-child > div:first-child > div:nth-of-type(1) > div:first-child > div:first-child","options":{"kameleoonId":3758360,"autoGeneratedSelector":true,"selector":"#kameleoonId3758360, [data-kameleoon-id=\"3758360\"]"},"currentQuery":"#slick-slide02 > div:first-child > div:first-child > div:nth-of-type(1) > div:first-child > div:first-child"},{"selector":"#slick-slide00 > div:first-child > div:first-child > div:nth-of-type(1) > div:first-child > div:first-child > div:first-child > h3:nth-of-type(2) > a:first-child","options":{"kameleoonId":3758361,"autoGeneratedSelector":true,"selector":"#kameleoonId3758361, [data-kameleoon-id=\"3758361\"]"},"currentQuery":"#slick-slide00 > div:first-child > div:first-child > div:nth-of-type(1) > div:first-child > div:first-child > div:first-child > h3:nth-of-type(2) > a:first-child"},{"selector":"#slick-slide00 > div:first-child > div:first-child > div:nth-of-type(1) > div:first-child > div:first-child > a:nth-of-type(1)","options":{"kameleoonId":3758362,"autoGeneratedSelector":true,"selector":"#kameleoonId3758362, [data-kameleoon-id=\"3758362\"]"},"currentQuery":"#slick-slide00 > div:first-child > div:first-child > div:nth-of-type(1) > div:first-child > div:first-child > a:nth-of-type(1)"},{"selector":"#slick-slide01 > div:first-child > div:first-child > div:nth-of-type(1) > div:first-child > div:first-child","options":{"kameleoonId":3758363,"autoGeneratedSelector":true,"selector":"#kameleoonId3758363, [data-kameleoon-id=\"3758363\"]"},"currentQuery":"#slick-slide01 > div:first-child > div:first-child > div:nth-of-type(1) > div:first-child > div:first-child"},{"selector":"#main > section:nth-of-type(1) > div:first-child > div:first-child > aside:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child","options":{"kameleoonId":3758364,"autoGeneratedSelector":true,"selector":"#kameleoonId3758364, [data-kameleoon-id=\"3758364\"]"},"currentQuery":"#kameleoonId3754797 > div:first-child > div:first-child > aside:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child"},{"selector":"#slick-slide00 > div:first-child > div:first-child > div:nth-of-type(1) > div:first-child > div:first-child > div:first-child > h3:first-child > a:first-child > p:first-child > img:first-child","options":{"kameleoonId":3758365,"autoGeneratedSelector":true,"selector":"#kameleoonId3758365, [data-kameleoon-id=\"3758365\"]"},"currentQuery":"#slick-slide00 > div:first-child > div:first-child > div:nth-of-type(1) > div:first-child > div:first-child > div:first-child > h3:first-child > a:first-child > p:first-child > img:first-child"},{"selector":"#kameleoonElement3754798 > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > ul:nth-of-type(1)","options":{"kameleoonId":3758366,"autoGeneratedSelector":true,"selector":"#kameleoonId3758366, [data-kameleoon-id=\"3758366\"]"},"currentQuery":"#kameleoonId3754799 > article:first-child > div:nth-of-type(1) > div:first-child > ul:nth-of-type(1)"},{"selector":"#kameleoonElement3754798 > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > div:first-child","options":{"htmlContent":"Ve Falkensteineru rádi kombinujeme dobrodružství s relaxací. S pestrým programem pro rodiny u nás nuda nemá šanci!<br data-kameleoon-class=\"a4b9-44c9\">\nProč s rodinou do Falkensteineru?\n<ul data-kameleoon-class=\"75ea-54ff\">\n\t<li data-kameleoon-class=\"5a56-50a7\">Dobrodružný, zábavný a vzdělávací animační programy od miminek až po teenagery</li>\n\t<li data-kameleoon-class=\"c0fb-8302\">Zvýhodněné ceny pro děti (v závislosti na hotelu a sezóně)</li>\n\t<li data-kameleoon-class=\"c0fb-8302\">Rodinné pokoje se specializovaným vybavením</li>\n\t<li data-kameleoon-class=\"a530-905b\">Dětský koutek Falky Land</li>\n\t<li data-kameleoon-class=\"7afa-1a91\">Vodní světy a dětské lázně s procedurami pro děti (v závislosti na hotelu)</li>\n</ul>\n...a mnoho dalšího","kameleoonId":3758367,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758367, [data-kameleoon-id=\"3758367\"]"},"currentQuery":"#kameleoonId3754799 > article:first-child > div:nth-of-type(1) > div:first-child > div:first-child"},{"selector":"#kameleoonElement3754798 > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:nth-of-type(2) > a:first-child","options":{"kameleoonId":3758368,"autoGeneratedSelector":true,"href":"/en/inspiration/family&kameleoonSelectedVariationId=963098&experimentId=244582&kameleoonReplica=false","selector":"#kameleoonId3758368, [data-kameleoon-id=\"3758368\"]"},"currentQuery":"#kameleoonId3754799 > article:first-child > div:nth-of-type(1) > div:nth-of-type(2) > a:first-child"},{"selector":"#kameleoonElement3754798 > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > header:first-child > h2:first-child","options":{"htmlContent":"RODINNÁ LETNÍ DOVOLENÁ","kameleoonId":3758369,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758369, [data-kameleoon-id=\"3758369\"]"},"currentQuery":"#kameleoonId3754799 > article:first-child > header:first-child > h2:first-child"},{"selector":"#kameleoonElement3754798 > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > div:first-child > ul:nth-of-type(1) > li:nth-of-type(2)","options":{"htmlContent":"Zvýhodněné ceny za přenocování pro děti","kameleoonId":3758370,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758370, [data-kameleoon-id=\"3758370\"]"},"currentQuery":"#kameleoonId3755539 > ul:nth-of-type(1) > li:nth-of-type(2)"},{"selector":"#kameleoonElement3754798 > div:first-child > div:first-child > div:nth-of-type(1) > article:first-child > div:nth-of-type(1) > div:first-child > div:first-child > ul:nth-of-type(1) > li:nth-of-type(5)","options":{"htmlContent":"Vodní světy a dětské lázně s procedurami pro děti","kameleoonId":3758371,"autoGeneratedSelector":true,"selector":"#kameleoonId3758371, [data-kameleoon-id=\"3758371\"]"},"currentQuery":"#kameleoonId3755539 > ul:nth-of-type(1) > li:nth-of-type(5)"},{"selector":"#main > section:nth-of-type(3)","options":{"kameleoonId":3758372,"autoGeneratedSelector":true,"selector":"#kameleoonId3758372, [data-kameleoon-id=\"3758372\"]"},"currentQuery":"#main > section:nth-of-type(4)"},{"selector":"#main > section:nth-of-type(3) > div:first-child > div:first-child","options":{"kameleoonId":3758373,"autoGeneratedSelector":true,"selector":"#kameleoonId3758373, [data-kameleoon-id=\"3758373\"]"},"currentQuery":"#main > section:nth-of-type(4) > div:first-child > div:first-child"},{"selector":"#main > section:nth-of-type(4) > div:first-child > div:first-child > div:first-child > div:first-child > header:first-child > h2:first-child","options":{"htmlContent":"NECHTE SE INSPIROVAT","kameleoonId":3758374,"autoGeneratedSelector":true,"selector":"#kameleoonId3758374, [data-kameleoon-id=\"3758374\"]"},"currentQuery":"#main > section:nth-of-type(5) > div:first-child > div:first-child > div:first-child > div:first-child > header:first-child > h2:first-child"},{"selector":"#main > section:nth-of-type(4) > div:first-child > div:first-child > div:first-child > div:first-child > div:nth-of-type(1) > p:first-child","options":{"htmlContent":"Nenašli jste, co jste hledali?<br data-kameleoon-class=\"b324-7bd7\">\nNajděte další inspiraci a tipy pro vaší dovolenou na našem<br data-kameleoon-class=\"f3ea-d4a1\">\nInstagramu @falkensteinerhotels_cz","kameleoonId":3758375,"autoGeneratedSelector":true,"attributesData":"[]","selector":"#kameleoonId3758375, [data-kameleoon-id=\"3758375\"]"},"currentQuery":"#main > section:nth-of-type(5) > div:first-child > div:first-child > div:first-child > div:first-child > div:nth-of-type(1) > p:first-child"},{"selector":"#main > section:nth-of-type(4) > div:first-child > div:first-child > div:first-child > div:first-child > div:nth-of-type(2) > a:first-child","options":{"kameleoonId":3758376,"autoGeneratedSelector":true,"href":"https://www.instagram.com/falkensteinerhotels_cz/","selector":"#kameleoonId3758376, [data-kameleoon-id=\"3758376\"]"},"currentQuery":"#main > section:nth-of-type(5) > div:first-child > div:first-child > div:first-child > div:first-child > div:nth-of-type(2) > a:first-child"},{"selector":"#main > section:nth-of-type(4) > div:first-child > div:first-child > picture:nth-of-type(1) > img:first-child","options":{"kameleoonId":3758377,"autoGeneratedSelector":true,"replaceHtmlContent":"<img kameleoon=\"copyAttributes\" src=\"https://wltzown6uo.kameleoon.eu/images/214869-93a9e78b-3a98-464f-aa1a-3bcaf3d3c73a.jpg\" />","selector":"#kameleoonId3758377, [data-kameleoon-id=\"3758377\"]"},"currentQuery":"#main > section:nth-of-type(5) > div:first-child > div:first-child > picture:nth-of-type(1) > img:first-child"},{"selector":"#main > section:nth-of-type(3) > div:first-child > div:first-child > header:first-child","options":{"kameleoonId":3758378,"autoGeneratedSelector":true,"selector":"#kameleoonId3758378, [data-kameleoon-id=\"3758378\"]"},"currentQuery":"#main > section:nth-of-type(4) > div:first-child > div:first-child > header:first-child"},{"selector":"#main > section:nth-of-type(3) > div:first-child > div:first-child > div:nth-of-type(1) > div:first-child > div:first-child","options":{"kameleoonId":3758379,"autoGeneratedSelector":true,"selector":"#kameleoonId3758379, [data-kameleoon-id=\"3758379\"]"},"currentQuery":"#main > section:nth-of-type(4) > div:first-child > div:first-child > div:nth-of-type(1) > div:first-child > div:first-child"}]},{"name":"Variation 1","id":988375,"css":"","elementSets":[]},{"name":"Variation 1","id":994350,"css":"","elementSets":[{"selector":"#main > section:nth-of-type(1) > section:nth-of-type(1) > div:first-child > div:nth-of-type(1) > div:first-child > div:nth-of-type(2) > div:first-child > footer:nth-of-type(1) > div:nth-of-type(3) > p:first-child","options":{"kameleoonId":3805929,"autoGeneratedSelector":true,"selector":"#kameleoonId3805929, [data-kameleoon-id=\"3805929\"]"},"currentQuery":"#main > section:nth-of-type(1) > section:nth-of-type(1) > div:first-child > div:nth-of-type(1) > div:first-child > div:nth-of-type(2) > div:first-child > footer:nth-of-type(1) > div:nth-of-type(3) > p:first-child"},{"selector":"#main > section:nth-of-type(1) > section:nth-of-type(1) > div:first-child > div:nth-of-type(1) > div:first-child > div:nth-of-type(6) > div:first-child > footer:nth-of-type(1) > div:nth-of-type(2) > p:first-child","options":{"htmlContent":"Feat. 9 Hotels","kameleoonId":3806189,"autoGeneratedSelector":true,"selector":"#kameleoonId3806189, [data-kameleoon-id=\"3806189\"]"},"currentQuery":"#main > section:nth-of-type(1) > section:nth-of-type(1) > div:first-child > div:nth-of-type(1) > div:first-child > div:nth-of-type(6) > div:first-child > footer:nth-of-type(1) > div:nth-of-type(2) > p:first-child"},{"selector":"#main > section:nth-of-type(1) > section:nth-of-type(1) > div:first-child > div:nth-of-type(1) > div:first-child > div:nth-of-type(7) > div:first-child > footer:nth-of-type(1) > div:nth-of-type(2) > p:first-child","options":{"htmlContent":"Feat. 11 Hotels","kameleoonId":3806190,"autoGeneratedSelector":true,"selector":"#kameleoonId3806190, [data-kameleoon-id=\"3806190\"]"},"currentQuery":"#main > section:nth-of-type(1) > section:nth-of-type(1) > div:first-child > div:nth-of-type(1) > div:first-child > div:nth-of-type(7) > div:first-child > footer:nth-of-type(1) > div:nth-of-type(2) > p:first-child"}]},{"name":"Variation 1","id":994605,"css":"","elementSets":[{"selector":"#main > section:nth-of-type(1) > section:nth-of-type(1) > div:first-child > div:nth-of-type(1) > div:first-child > div:nth-of-type(6) > div:first-child > footer:nth-of-type(1) > div:nth-of-type(2) > p:first-child","options":{"htmlContent":"Feat. 9 Hotels","kameleoonId":3806246,"autoGeneratedSelector":true,"selector":"#kameleoonId3806246, [data-kameleoon-id=\"3806246\"]"},"currentQuery":"#main > section:nth-of-type(1) > section:nth-of-type(1) > div:first-child > div:nth-of-type(1) > div:first-child > div:nth-of-type(6) > div:first-child > footer:nth-of-type(1) > div:nth-of-type(2) > p:first-child"},{"selector":"#main > section:nth-of-type(1) > section:nth-of-type(1) > div:first-child > div:nth-of-type(1) > div:first-child > div:nth-of-type(7) > div:first-child > footer:nth-of-type(1) > div:nth-of-type(2) > p:first-child","options":{"htmlContent":"Feat. 11 Hotels","kameleoonId":3806247,"autoGeneratedSelector":true,"selector":"#kameleoonId3806247, [data-kameleoon-id=\"3806247\"]"},"currentQuery":"#main > section:nth-of-type(1) > section:nth-of-type(1) > div:first-child > div:nth-of-type(1) > div:first-child > div:nth-of-type(7) > div:first-child > footer:nth-of-type(1) > div:nth-of-type(2) > p:first-child"}]},{"name":"Variation 1","id":994614,"css":"","elementSets":[{"selector":"#main > section:nth-of-type(1) > section:nth-of-type(1) > div:first-child > div:nth-of-type(1) > div:first-child > div:nth-of-type(6) > div:first-child > footer:nth-of-type(1) > div:nth-of-type(2) > p:first-child","options":{"htmlContent":"Feat. 9 Hotel","kameleoonId":3806242,"autoGeneratedSelector":true,"selector":"#kameleoonId3806242, [data-kameleoon-id=\"3806242\"]"},"currentQuery":"#main > section:nth-of-type(1) > section:nth-of-type(1) > div:first-child > div:nth-of-type(1) > div:first-child > div:nth-of-type(6) > div:first-child > footer:nth-of-type(1) > div:nth-of-type(2) > p:first-child"},{"selector":"#main > section:nth-of-type(1) > section:nth-of-type(1) > div:first-child > div:nth-of-type(1) > div:first-child > div:nth-of-type(7) > div:first-child > footer:nth-of-type(1) > div:nth-of-type(2) > p:first-child","options":{"htmlContent":"Feat. 11 Hotel","kameleoonId":3806243,"autoGeneratedSelector":true,"selector":"#kameleoonId3806243, [data-kameleoon-id=\"3806243\"]"},"currentQuery":"#main > section:nth-of-type(1) > section:nth-of-type(1) > div:first-child > div:nth-of-type(1) > div:first-child > div:nth-of-type(7) > div:first-child > footer:nth-of-type(1) > div:nth-of-type(2) > p:first-child"}]},{"name":"Variation 1","id":994616,"css":"","elementSets":[{"selector":"#main > section:nth-of-type(1) > section:nth-of-type(1) > div:first-child > div:nth-of-type(1) > div:first-child > div:nth-of-type(6) > div:first-child > footer:nth-of-type(1) > div:nth-of-type(2) > p:first-child","options":{"htmlContent":"dostupno 9 hoteli","kameleoonId":3806248,"autoGeneratedSelector":true,"selector":"#kameleoonId3806248, [data-kameleoon-id=\"3806248\"]"},"currentQuery":"#main > section:nth-of-type(1) > section:nth-of-type(1) > div:first-child > div:nth-of-type(1) > div:first-child > div:nth-of-type(6) > div:first-child > footer:nth-of-type(1) > div:nth-of-type(2) > p:first-child"},{"selector":"#main > section:nth-of-type(1) > section:nth-of-type(1) > div:first-child > div:nth-of-type(1) > div:first-child > div:nth-of-type(7) > div:first-child > footer:nth-of-type(1) > div:nth-of-type(2) > p:first-child","options":{"htmlContent":"dostupno 11 hoteli","kameleoonId":3806249,"autoGeneratedSelector":true,"selector":"#kameleoonId3806249, [data-kameleoon-id=\"3806249\"]"},"currentQuery":"#main > section:nth-of-type(1) > section:nth-of-type(1) > div:first-child > div:nth-of-type(1) > div:first-child > div:nth-of-type(7) > div:first-child > footer:nth-of-type(1) > div:nth-of-type(2) > p:first-child"}]},{"id":0,"name":"Reference","css":"","elementSets":[]},{"id":null,"name":"Excluded"}],"goals":[{"id":325629,"name":"Retention rate","type":"ENGAGEMENT"},{"id":329552,"name":"Klick Sofort buchen","type":"CLICK"},{"id":329553,"name":"Scroll Top Angebote Text","type":"SCROLL","scrollTrackingType":"ELEMENT","selector":"#main > section:nth-of-type(2) > div:first-child > header:first-child"},{"id":329554,"name":"Test Editor DELETE","type":"URL","url":"(.*)falkensteiner(.*)"},{"id":329580,"name":"Scroll Hotels","type":"SCROLL","scrollTrackingType":"PERCENTAGE","scrollTrackingValue":60},{"id":329581,"name":"Hotel Slider Klick","type":"CLICK"},{"id":333148,"name":"Klick EBB","type":"CLICK"},{"id":333763,"name":"Pop Up Test","type":"CUSTOM"},{"id":335775,"name":"[GG] Access “Search” Page","type":"CUSTOM"},{"id":335776,"name":"[GG] Access “Hotelseiten”","type":"CUSTOM"},{"id":335777,"name":"[GG] Access “Reisedaten”","type":"CUSTOM"},{"id":335778,"name":"[GG] Access “Zimmerauswahl”","type":"CUSTOM"},{"id":335779,"name":"[GG] Access IBE","type":"CUSTOM"},{"id":335780,"name":"[GG] Checkout- Angaben","type":"CUSTOM"},{"id":335781,"name":"[GG] Checkout - Payment","type":"CUSTOM"},{"id":335782,"name":"[GG] Order + Revenue","type":"CUSTOM"},{"id":335783,"name":"[GG] Newsletter Sign Up","type":"CUSTOM"},{"id":335784,"name":"[GG] Seminar Sign Up","type":"CUSTOM"},{"id":335785,"name":"[GG] “Spirit Club” Sign Up","type":"CUSTOM"},{"id":346066,"name":"Click Bike","type":"CLICK"},{"id":346067,"name":"Click Hike","type":"CLICK"},{"id":346069,"name":"Bike Click","type":"CLICK"},{"id":346070,"name":"Hike Click","type":"CLICK"},{"id":348032,"name":"Klick Marlena Pop Up","type":"CUSTOM"}],"scriptProduceTime":1744308931607,"timeZone":"Europe/Berlin","webExperimentationSetup":true,"boLocale":"GERMAN","DATA_URL":"https://data.kameleoon.eu","useMultipleSiteCodes":true,"useWideDomainSupport":true,"geolocation":true,"graphicalEditorVersion":"v1","globalScript":"\"use strict\";(()=>{if(!window.kameleoonDatalyerPush){window.dataLayer=window.dataLayer||[];const e=window.dataLayer.push;window.dataLayer.push=function(){for(var o=arguments.length,t=new Array(o),n=0;n<o;n++)t[n]=arguments[n];return t.forEach((e=>{window.dispatchEvent(new CustomEvent(\"Kameleoon::DataLayerPush\",{detail:e}))})),e.apply(this,t)},window.kameleoonDatalyerPush=!0}})(),(()=>{const e=335775,o=335776,t=335780,n=335781,i=335782,a=335784,r=[{url:\"/book/dates-of-stay\",goal:335777},{url:\"/book/accommodations\",goal:335778},{url:\"/book\",goal:335779},{url:\"spirit-club/sign-up-success\",goal:335785}];Kameleoon.API.Core.runWhenElementPresent(\"#booking-mask-submit\",(o=>{let[t]=o;Kameleoon.API.Utils.addEventListener(t,\"click\",(()=>{Kameleoon.API.Goals.processConversion(e)}))})),Kameleoon.API.Core.runWhenConditionTrue((()=>window.dataLayer&&window.dataLayer.some((e=>e.websiteLanguage))),(()=>{const e=window.dataLayer.find((e=>e.websiteLanguage));Kameleoon.API.Data.setCustomData(\"Country\",e.websiteLanguage)})),r.forEach((e=>{document.URL.includes(e.url)&&Kameleoon.API.Goals.processConversion(e.goal)})),Kameleoon.API.Core.runWhenConditionTrue((()=>window.dataLayer&&window.dataLayer.some((e=>e.event&&\"tc-data-feed\"===e.event&&e.hotel))),(()=>{Kameleoon.API.Goals.processConversion(o)})),document.location.pathname.includes(\"/checkout\")&&(Kameleoon.API.Core.runWhenElementPresent(\".guest-profile amadeus-hos-res-wc-guest-details\",(e=>{let[o]=e;Kameleoon.API.Core.runWhenConditionTrue((()=>o.shadowRoot&&o.shadowRoot.querySelector(\"form\")),(()=>{o.shadowRoot.querySelector(\"form\").addEventListener(\"click\",(()=>{Kameleoon.API.Goals.processConversion(t)}),{once:!0})}))})),Kameleoon.API.Core.runWhenElementPresent(\"#ibe-id-checkout-page-payments-container > amadeus-hos-res-wc-payments\",(e=>{let[o]=e;Kameleoon.API.Core.runWhenConditionTrue((()=>o.shadowRoot&&o.shadowRoot.querySelector(\"div.voucher\")),(()=>{o.shadowRoot.querySelector(\"div.voucher\").addEventListener(\"click\",(()=>{Kameleoon.API.Goals.processConversion(n)}),{once:!0})}))}))),document.location.pathname.includes(\"/book/confirmation\")&&Kameleoon.API.Core.runWhenConditionTrue((()=>window.dataLayer&&window.dataLayer.some((e=>e.event&&\"ga4_purchase\"===e.event&&e.ecommerce&&e.ecommerce.value))),(()=>{const e=window.dataLayer.find((e=>\"ga4_purchase\"===e.event)),o=e.ecommerce.affiliation,t=e.ecommerce.value;t&&(Kameleoon.API.Goals.processConversion(i,t),Kameleoon.API.Data.setCustomData(\"Booked Hotel\",o))})),document.location.pathname.includes(\"/seminaranfrage\")&&(console.log(\"seminar\"),Kameleoon.API.Core.runWhenElementPresent(\"div.form.js-form.success\",(()=>{Kameleoon.API.Goals.processConversion(a)}),200))})();try{var kameleoonEventsTracker=[{id:329552,selector:\"#hotel-only > div:first-child > footer:nth-of-type(1) > button:first-child\"},{id:329581,selector:\".js-book-body\"},{id:333148,selector:\"#main > div:nth-of-type(3) > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:first-child > div:nth-of-type(1) > div:first-child > div:first-child > div:nth-of-type(2) > a:first-child\"},{id:346066,selector:\"#main > section:nth-of-type(1) > section:nth-of-type(1) > div:first-child > div:nth-of-type(1) > div:first-child > div:nth-of-type(6) > div:first-child > footer:nth-of-type(1) > a:first-child\"},{id:346067,selector:\"#main > section:nth-of-type(1) > section:nth-of-type(1) > div:first-child > div:nth-of-type(1) > div:first-child > div:nth-of-type(7) > div:first-child > footer:nth-of-type(1) > a:first-child\"},{id:346069,selector:\"#main > section:nth-of-type(1) > section:nth-of-type(1) > div:first-child > div:nth-of-type(1) > div:first-child > div:nth-of-type(6) > div:first-child > footer:nth-of-type(1) > div:nth-of-type(2) > p:first-child\"},{id:346070,selector:\"#main > section:nth-of-type(1) > section:nth-of-type(1) > div:first-child > div:nth-of-type(1) > div:first-child > div:nth-of-type(7) > div:first-child > footer:nth-of-type(1) > div:nth-of-type(2) > p:first-child\"}],createEventTracking=function(e,o){for(var t,n=function(e){Kameleoon.Internals.runtime.touchMoveEvent||Kameleoon.API.Goals.processConversion(o.id)},i=0;i<e.length;++i)t=e[i],Kameleoon.Utils.addEventListener(t,Kameleoon.Internals.runtime.mouseDownEvent,n,!0)},kameleoonTimeoutId=Kameleoon.Utils.setTimeout((function(){Kameleoon.Utils.clearTimeout(kameleoonTimeoutId),kameleoonEventsTracker.forEach((e=>{Kameleoon.API.Core.runWhenElementPresent(e.selector,(o=>{createEventTracking(o,e)}),null,Kameleoon.Internals.runtime.singlePageSupport||Kameleoon.Internals.runtime.dynamicRefresh)}))}),250)}catch(e){console.log(\"An error occurred in your custom JavaScript Kameleoon tracking function, please check your code.\"),console.log(e,e.message)}","enableRemoteVisitorSynchronization":true,"enableRemoteVisitorSynchronizationItpOnly":true,"track":true,"trackerExcludedIPRanges":[],"Gatherer":"eyJtYXhWaXNpdElkbGVEdXJhdGlvbiI6MTgwMDAwMCwiZGlyZWN0Tm9uZVJlZmVycmVyT25seUZpcnN0IjpmYWxzZSwiYnJvd3NlcnMiOnsiMCI6eyJuYW1lIjoiQ0hST01FIn0sIjEiOnsibmFtZSI6IkVYUExPUkVSIn0sIjIiOnsibmFtZSI6IkZJUkVGT1gifSwiMyI6eyJuYW1lIjoiU0FGQVJJIn0sIjQiOnsibmFtZSI6Ik9QRVJBIn19LCJvc3MiOnsiMCI6eyJuYW1lIjoiV0lORE9XUyJ9LCIxIjp7Im5hbWUiOiJNQUMifSwiMiI6eyJuYW1lIjoiSU9TIn0sIjMiOnsibmFtZSI6IkxJTlVYIn0sIjQiOnsibmFtZSI6IkFORFJPSUQifSwiNSI6eyJuYW1lIjoiV0lORE9XUyBQSE9ORSJ9fSwibm9SZWZlcnJlclBhZ2VzIjpbXSwicmVmZXJyZXJzIjp7IjAiOnsibmFtZSI6Ikdvb2dsZSBBZFdvcmRzIiwicHJpb3JpdHkiOjAsImRldGVjdGlvbnMiOlt7Im1ldGhvZCI6MCwiYW5kIjpmYWxzZSwicGFyYW1ldGVycyI6Il4uK1xcXFwuZ29vZ2xlKFxcXFwuY29tPyk/XFxcXC5bXi9cXFxcLl0rL2FjbGsoW1xcXFw/JiNdLip8KSQifSx7Im1ldGhvZCI6MSwiYW5kIjpmYWxzZSwicGFyYW1ldGVycyI6IltcXFxcPyYjXWdjbGlkPSJ9XX0sIjEiOnsibmFtZSI6Ikdvb2dsZSBPcmdhbmljIFNlYXJjaCIsInByaW9yaXR5IjowLCJkZXRlY3Rpb25zIjpbeyJtZXRob2QiOjAsImFuZCI6ZmFsc2UsInBhcmFtZXRlcnMiOiJeLitcXFxcLmdvb2dsZShcXFxcLmNvbT8pP1xcXFwuW14vXFxcXC5dKy8oPyFhY2xrfGltZ3JlcykuKltcXFxcPyYjXXE9LiooW1xcXFw/JiNdLip8KSQifSx7Im1ldGhvZCI6MCwiYW5kIjpmYWxzZSwicGFyYW1ldGVycyI6Il4uK1xcXFwuZ29vZ2xlKFxcXFwuY29tPyk/XFxcXC5bXi9cXFxcLl0rLz8kIn1dfSwiMiI6eyJuYW1lIjoiQmluZyBPcmdhbmljIFNlYXJjaCIsInByaW9yaXR5IjowLCJkZXRlY3Rpb25zIjpbeyJtZXRob2QiOjAsImFuZCI6ZmFsc2UsInBhcmFtZXRlcnMiOiJeLitcXFxcLmJpbmdcXFxcLlteL1xcXFwuXSsvLipbXFxcXD8mI11xPS4qKFtcXFxcPyYjXS4qfCkkIn1dfSwiMyI6eyJuYW1lIjoiWWFob28gT3JnYW5pYyBTZWFyY2giLCJwcmlvcml0eSI6MCwiZGV0ZWN0aW9ucyI6W3sibWV0aG9kIjowLCJhbmQiOmZhbHNlLCJwYXJhbWV0ZXJzIjoiXi4rXFxcXC55YWhvb1xcXFwuW14vXFxcXC5dKy8uKltcXFxcPyYjXXA9LiooW1xcXFw/JiNdLip8KSQifV19LCI0Ijp7Im5hbWUiOiJCYWlkdSBPcmdhbmljIFNlYXJjaCIsInByaW9yaXR5IjowLCJkZXRlY3Rpb25zIjpbeyJtZXRob2QiOjAsImFuZCI6ZmFsc2UsInBhcmFtZXRlcnMiOiJeLitcXFxcLmJhaWR1XFxcXC5bXi9cXFxcLl0rLy4qW1xcXFw/JiNdd2Q9LiooW1xcXFw/JiNdLip8KSQifV19fSwia2V5UGFnZXMiOnt9LCJjdXN0b21EYXRhIjp7IjAiOnsibWV0aG9kIjoiQ0xJRU5UIiwibmFtZSI6IndpZGdldHBvcHVwbGluayIsImZvcm1hdCI6LTEsInNjb3BlIjoiUEFHRSIsInR5cGUiOiJVTklRVUUiLCJsb2NhbE9ubHkiOnRydWV9LCIxIjp7Im1ldGhvZCI6IkNMSUVOVCIsIm5hbWUiOiJCb29rZWQgSG90ZWwiLCJmb3JtYXQiOi0xLCJzY29wZSI6IlZJU0lUIiwidHlwZSI6IlVOSVFVRSJ9LCIyIjp7Im1ldGhvZCI6IkNMSUVOVCIsIm5hbWUiOiJDb3VudHJ5IiwiZm9ybWF0IjotMSwic2NvcGUiOiJWSVNJVCIsInR5cGUiOiJVTklRVUUifX19","isNewEditorEnabled":true}};
})();if (window.kameleoonLightIframe){if (window.kameleoonExternalIFrameLoadedData) { window.kameleoonQueue = window.kameleoonQueue || [];window.kameleoonQueue.push({level: 'IMMEDIATE',command: function () {Kameleoon.Utils.runProtectedScript(window.kameleoonExternalIFrameLoadedData);}}); Kameleoon.Analyst.load();}}else{Kameleoon.Analyst.load();}}